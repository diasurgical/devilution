; Listing generated by Microsoft (R) Optimizing Compiler Version 12.00.9044.0 

	TITLE	Source/render.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
CRT$XCU	SEGMENT DWORD USE32 PUBLIC ''
CRT$XCU	ENDS
;	COMDAT _asm_cel_light_square
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _asm_trans_light_edge_0_2
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _asm_trans_light_square_0_2
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _asm_trans_light_edge_1_3
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _asm_trans_light_square_1_3
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT @drawTopArchesUpperScreen@4
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT @drawBottomArchesUpperScreen@8
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT @drawUpperScreen@4
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT @drawTopArchesLowerScreen@4
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT @drawBottomArchesLowerScreen@8
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT @drawLowerScreen@4
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT @world_draw_black_tile@4
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
FLAT	GROUP _DATA, CONST, _BSS, CRT$XCU
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	_WorldBoolFlag
PUBLIC	_gdwCurrentMask
PUBLIC	_gpCelFrame
PUBLIC	_gpDrawMask
PUBLIC	_RightMask
PUBLIC	_LeftMask
PUBLIC	_WallMask
PUBLIC	_WorldTbl3x16
PUBLIC	_WorldTbl17_1
PUBLIC	_WorldTbl17_2
_BSS	SEGMENT
_WorldBoolFlag DD 01H DUP (?)
_gdwCurrentMask DD 01H DUP (?)
_gpCelFrame DD	01H DUP (?)
_gpDrawMask DD	01H DUP (?)
_BSS	ENDS
_DATA	SEGMENT
_RightMask DD	0eaaaaaaaH
	DD	0f5555555H
	DD	0feaaaaaaH
	DD	0ff555555H
	DD	0ffeaaaaaH
	DD	0fff55555H
	DD	0fffeaaaaH
	DD	0ffff5555H
	DD	0ffffeaaaH
	DD	0fffff555H
	DD	0fffffeaaH
	DD	0ffffff55H
	DD	0ffffffeaH
	DD	0fffffff5H
	DD	0fffffffeH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
_LeftMask DD	0aaaaaaabH
	DD	05555555fH
	DD	0aaaaaabfH
	DD	0555555ffH
	DD	0aaaaabffH
	DD	055555fffH
	DD	0aaaabfffH
	DD	05555ffffH
	DD	0aaabffffH
	DD	0555fffffH
	DD	0aabfffffH
	DD	055ffffffH
	DD	0abffffffH
	DD	05fffffffH
	DD	0bfffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
	DD	0ffffffffH
_WallMask DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
	DD	0aaaaaaaaH
	DD	055555555H
_WorldTbl3x16 DD 00H
	DD	00H
	DD	00H
	DD	04H
	DD	04H
	DD	04H
	DD	08H
	DD	08H
	DD	08H
	DD	0cH
	DD	0cH
	DD	0cH
	DD	010H
	DD	010H
	DD	010H
	DD	014H
	DD	014H
	DD	014H
	DD	018H
	DD	018H
	DD	018H
	DD	01cH
	DD	01cH
	DD	01cH
	DD	020H
	DD	020H
	DD	020H
	DD	024H
	DD	024H
	DD	024H
	DD	028H
	DD	028H
	DD	028H
	DD	02cH
	DD	02cH
	DD	02cH
	DD	030H
	DD	030H
	DD	030H
	DD	034H
	DD	034H
	DD	034H
	DD	038H
	DD	038H
	DD	038H
	DD	03cH
	DD	03cH
	DD	03cH
_WorldTbl17_1 DD 00H
	DD	04H
	DD	08H
	DD	010H
	DD	018H
	DD	024H
	DD	030H
	DD	040H
	DD	050H
	DD	064H
	DD	078H
	DD	090H
	DD	0a8H
	DD	0c4H
	DD	0e0H
	DD	0100H
	DD	0120H
	ORG $+4
_WorldTbl17_2 DD 00H
	DD	020H
	DD	03cH
	DD	058H
	DD	070H
	DD	088H
	DD	09cH
	DD	0b0H
	DD	0c0H
	DD	0d0H
	DD	0dcH
	DD	0e8H
	DD	0f0H
	DD	0f8H
	DD	0fcH
	DD	0100H
	DD	0120H
_DATA	ENDS
PUBLIC	@drawTopArchesUpperScreen@4
EXTRN	_lightmax:BYTE
EXTRN	_pLightTbl:DWORD
EXTRN	_light_table_index:DWORD
EXTRN	_gpBufEnd:DWORD
EXTRN	_level_cel_block:DWORD
EXTRN	_pSpeedCels:DWORD
EXTRN	_pDungeonCels:DWORD
EXTRN	_speed_cel_frame_num_from_light_index_frame_num:BYTE
; Function compile flags: /Ogsy
;	COMDAT @drawTopArchesUpperScreen@4
_TEXT	SEGMENT
_dst$ = -8
_tbl$ = -12
_src$ = -4
@drawTopArchesUpperScreen@4 PROC NEAR			; COMDAT
; _pbDst$ = ecx
; File Source/_render.cpp
; Line 4
	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
; Line 12
	mov	eax, DWORD PTR _light_table_index
	push	ebx
	push	esi
	push	edi
	test	al, al
	mov	DWORD PTR _gpCelFrame, OFFSET FLAT:_speed_cel_frame_num_from_light_index_frame_num
	mov	DWORD PTR _dst$[ebp], ecx
	jne	SHORT $L85187
; Line 14
	mov	eax, DWORD PTR _level_cel_block
	mov	ecx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L85188
; Line 16
	mov	edx, eax
	and	eax, 61440				; 0000f000H
	and	edx, ecx
	shl	edx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx]
	mov	DWORD PTR _level_cel_block, eax
$L85188:
; Line 17
	mov	edx, eax
	and	edx, ecx
	mov	ecx, DWORD PTR _pDungeonCels
; Line 18
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+edx*4]
	and	eax, 7
	add	edx, ecx
	add	eax, 8
	mov	DWORD PTR _src$[ebp], edx
; Line 19
	jmp	$LABEL_11$85193
$L85187:
; Line 21
	movsx	ecx, BYTE PTR _lightmax
	movzx	edx, al
	cmp	edx, ecx
	je	$L85195
; Line 23
	mov	ecx, DWORD PTR _level_cel_block
	test	ch, ch
	js	$L85196
; Line 25
	mov	edx, DWORD PTR _pDungeonCels
	mov	esi, ecx
	and	esi, 4095				; 00000fffH
; Line 26
	shl	eax, 8
	mov	esi, DWORD PTR [edx+esi*4]
	add	eax, DWORD PTR _pLightTbl
	add	esi, edx
; Line 27
	shr	ecx, 12					; 0000000cH
	mov	DWORD PTR _tbl$[ebp], eax
	mov	DWORD PTR _src$[ebp], esi
	mov	eax, ecx
; Line 29
	xor	edx, edx
; Line 30
	xor	ecx, ecx
; Line 31
	mov	ebx, DWORD PTR _tbl$[ebp]
; Line 32
	mov	edi, DWORD PTR _dst$[ebp]
; Line 33
	mov	esi, DWORD PTR _src$[ebp]
; Line 36
	movsx	eax, ax
	sub	eax, 0
	je	$L85205
	dec	eax
	je	$L85210
	dec	eax
	je	$L85232
	dec	eax
	je	$L85266
	dec	eax
	je	$L85302
; Line 1003
	push	ebp
; Line 1004
	xor	eax, eax
; Line 1005
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1006
	mov	ebp, 30					; 0000001eH
$loc_463AC0$85324:
; Line 1008
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1009
	jb	$loc_463C55$85325
; Line 1010
	mov	ecx, 32					; 00000020H
; Line 1011
	sub	ecx, ebp
; Line 1012
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1013
	inc	eax
; Line 1014
	and	eax, 1
; Line 1015
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1016
	je	SHORT $loc_463B5E$85326
; Line 1017
	shr	ecx, 1
; Line 1018
	jb	SHORT $loc_463B1E$85327
; Line 1019
	shr	ecx, 1
; Line 1020
	jae	SHORT $loc_463AFA$85328
; Line 1021
	mov	dl, BYTE PTR [esi+1]
; Line 1022
	mov	dl, BYTE PTR [ebx+edx]
; Line 1023
	add	esi, 2
; Line 1024
	mov	BYTE PTR [edi+1], dl
; Line 1025
	add	edi, 2
$loc_463AFA$85328:
; Line 1027
	test	cl, cl
; Line 1028
	je	SHORT $loc_463B1C$85329
$loc_463AFE$85330:
; Line 1030
	mov	eax, DWORD PTR [esi]
; Line 1031
	add	esi, 4
; Line 1032
	mov	dl, ah
; Line 1033
	shr	eax, 16					; 00000010H
; Line 1034
	mov	dl, BYTE PTR [ebx+edx]
; Line 1035
	mov	BYTE PTR [edi+1], dl
; Line 1036
	mov	dl, ah
; Line 1037
	add	edi, 4
; Line 1038
	mov	dl, BYTE PTR [ebx+edx]
; Line 1039
	dec	ecx
; Line 1040
	mov	BYTE PTR [edi-1], dl
; Line 1041
	jne	SHORT $loc_463AFE$85330
$loc_463B1C$85329:
; Line 1043
	jmp	SHORT $loc_463B52$85331
$loc_463B1E$85327:
; Line 1046
	inc	esi
; Line 1047
	inc	edi
; Line 1048
	shr	ecx, 1
; Line 1049
	jae	SHORT $loc_463B31$85332
; Line 1050
	mov	dl, BYTE PTR [esi]
; Line 1051
	mov	dl, BYTE PTR [ebx+edx]
; Line 1052
	add	esi, 2
; Line 1053
	mov	BYTE PTR [edi], dl
; Line 1054
	add	edi, 2
$loc_463B31$85332:
; Line 1056
	test	cl, cl
; Line 1057
	je	SHORT $loc_463B52$85331
$loc_463B35$85333:
; Line 1059
	mov	eax, DWORD PTR [esi]
; Line 1060
	add	esi, 4
; Line 1061
	mov	dl, al
; Line 1062
	shr	eax, 16					; 00000010H
; Line 1063
	mov	dl, BYTE PTR [ebx+edx]
; Line 1064
	mov	BYTE PTR [edi], dl
; Line 1065
	mov	dl, al
; Line 1066
	add	edi, 4
; Line 1067
	mov	dl, BYTE PTR [ebx+edx]
; Line 1068
	dec	ecx
; Line 1069
	mov	BYTE PTR [edi-2], dl
; Line 1070
	jne	SHORT $loc_463B35$85333
$loc_463B52$85331:
; Line 1072
	mov	edx, esi
; Line 1073
	and	edx, 2
; Line 1074
	add	esi, edx
; Line 1075
	jmp	SHORT $loc_463BDB$85334
$loc_463B5E$85326:
; Line 1078
	shr	ecx, 1
; Line 1079
	jb	SHORT $loc_463B96$85335
; Line 1080
	shr	ecx, 1
; Line 1081
	jae	SHORT $loc_463B73$85336
; Line 1082
	mov	dl, BYTE PTR [esi]
; Line 1083
	mov	dl, BYTE PTR [ebx+edx]
; Line 1084
	add	esi, 2
; Line 1085
	mov	BYTE PTR [edi], dl
; Line 1086
	add	edi, 2
$loc_463B73$85336:
; Line 1088
	test	cl, cl
; Line 1089
	je	SHORT $loc_463B94$85337
$loc_463B77$85338:
; Line 1091
	mov	eax, DWORD PTR [esi]
; Line 1092
	add	esi, 4
; Line 1093
	mov	dl, al
; Line 1094
	shr	eax, 16					; 00000010H
; Line 1095
	mov	dl, BYTE PTR [ebx+edx]
; Line 1096
	mov	BYTE PTR [edi], dl
; Line 1097
	mov	dl, al
; Line 1098
	add	edi, 4
; Line 1099
	mov	dl, BYTE PTR [ebx+edx]
; Line 1100
	dec	ecx
; Line 1101
	mov	BYTE PTR [edi-2], dl
; Line 1102
	jne	SHORT $loc_463B77$85338
$loc_463B94$85337:
; Line 1104
	jmp	SHORT $loc_463BD4$85339
$loc_463B96$85335:
; Line 1107
	mov	dl, BYTE PTR [esi]
; Line 1108
	mov	dl, BYTE PTR [ebx+edx]
; Line 1109
	inc	esi
; Line 1110
	mov	BYTE PTR [edi], dl
; Line 1111
	inc	edi
; Line 1112
	shr	ecx, 1
; Line 1113
	jae	SHORT $loc_463BB2$85340
; Line 1114
	mov	dl, BYTE PTR [esi+1]
; Line 1115
	mov	dl, BYTE PTR [ebx+edx]
; Line 1116
	add	esi, 2
; Line 1117
	mov	BYTE PTR [edi+1], dl
; Line 1118
	add	edi, 2
$loc_463BB2$85340:
; Line 1120
	test	cl, cl
; Line 1121
	je	SHORT $loc_463BD4$85339
$loc_463BB6$85341:
; Line 1123
	mov	eax, DWORD PTR [esi]
; Line 1124
	add	esi, 4
; Line 1125
	mov	dl, ah
; Line 1126
	shr	eax, 16					; 00000010H
; Line 1127
	mov	dl, BYTE PTR [ebx+edx]
; Line 1128
	mov	BYTE PTR [edi+1], dl
; Line 1129
	mov	dl, ah
; Line 1130
	add	edi, 4
; Line 1131
	mov	dl, BYTE PTR [ebx+edx]
; Line 1132
	dec	ecx
; Line 1133
	mov	BYTE PTR [edi-1], dl
; Line 1134
	jne	SHORT $loc_463BB6$85341
$loc_463BD4$85339:
; Line 1136
	mov	edx, esi
; Line 1137
	and	edx, 2
; Line 1138
	add	esi, edx
$loc_463BDB$85334:
; Line 1140
	sub	edi, 800				; 00000320H
; Line 1141
	add	edi, ebp
; Line 1142
	sub	ebp, 2
; Line 1143
	jge	$loc_463AC0$85324
; Line 1144
	mov	ebp, 8
$loc_463BF1$85342:
; Line 1146
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1147
	jb	SHORT $loc_463C55$85325
; Line 1148
	mov	ecx, 8
$loc_463BFE$85343:
; Line 1150
	mov	eax, DWORD PTR [esi]
; Line 1151
	add	esi, 4
; Line 1152
	mov	dl, ah
; Line 1153
	shr	eax, 16					; 00000010H
; Line 1154
	mov	dl, BYTE PTR [ebx+edx]
; Line 1155
	mov	BYTE PTR [edi+1], dl
; Line 1156
	mov	dl, ah
; Line 1157
	add	edi, 4
; Line 1158
	mov	dl, BYTE PTR [ebx+edx]
; Line 1159
	dec	ecx
; Line 1160
	mov	BYTE PTR [edi-1], dl
; Line 1161
	jne	SHORT $loc_463BFE$85343
; Line 1162
	sub	edi, 800				; 00000320H
; Line 1163
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1164
	jb	SHORT $loc_463C55$85325
; Line 1165
	mov	ecx, 8
$loc_463C2F$85344:
; Line 1167
	mov	eax, DWORD PTR [esi]
; Line 1168
	add	esi, 4
; Line 1169
	mov	dl, al
; Line 1170
	shr	eax, 16					; 00000010H
; Line 1171
	mov	dl, BYTE PTR [ebx+edx]
; Line 1172
	mov	BYTE PTR [edi], dl
; Line 1173
	mov	dl, al
; Line 1174
	add	edi, 4
; Line 1175
	mov	dl, BYTE PTR [ebx+edx]
; Line 1176
	dec	ecx
; Line 1177
	mov	BYTE PTR [edi-2], dl
; Line 1178
	jne	SHORT $loc_463C2F$85344
; Line 1179
	sub	edi, 800				; 00000320H
; Line 1180
	dec	ebp
; Line 1181
	jne	SHORT $loc_463BF1$85342
$loc_463C55$85325:
; Line 1183
	pop	ebp
; Line 1185
	jmp	$L85425
$L85302:
; Line 819
	push	ebp
; Line 820
	xor	eax, eax
; Line 821
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 822
	mov	ebp, 30					; 0000001eH
$loc_463918$85303:
; Line 824
	cmp	edi, DWORD PTR _gpBufEnd
; Line 825
	jb	$loc_463AAD$85304
; Line 826
	add	edi, ebp
; Line 827
	mov	ecx, 32					; 00000020H
; Line 828
	sub	ecx, ebp
; Line 829
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 830
	inc	eax
; Line 831
	and	eax, 1
; Line 832
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 833
	je	SHORT $loc_4639B8$85305
; Line 834
	mov	edx, ecx
; Line 835
	and	edx, 2
; Line 836
	add	esi, edx
; Line 837
	shr	ecx, 1
; Line 838
	jb	SHORT $loc_46397F$85306
; Line 839
	shr	ecx, 1
; Line 840
	jae	SHORT $loc_46395B$85307
; Line 841
	mov	dl, BYTE PTR [esi+1]
; Line 842
	mov	dl, BYTE PTR [ebx+edx]
; Line 843
	add	esi, 2
; Line 844
	mov	BYTE PTR [edi+1], dl
; Line 845
	add	edi, 2
$loc_46395B$85307:
; Line 847
	test	cl, cl
; Line 848
	je	SHORT $loc_46397D$85308
$loc_46395F$85309:
; Line 850
	mov	eax, DWORD PTR [esi]
; Line 851
	add	esi, 4
; Line 852
	mov	dl, ah
; Line 853
	shr	eax, 16					; 00000010H
; Line 854
	mov	dl, BYTE PTR [ebx+edx]
; Line 855
	mov	BYTE PTR [edi+1], dl
; Line 856
	mov	dl, ah
; Line 857
	add	edi, 4
; Line 858
	mov	dl, BYTE PTR [ebx+edx]
; Line 859
	dec	ecx
; Line 860
	mov	BYTE PTR [edi-1], dl
; Line 861
	jne	SHORT $loc_46395F$85309
$loc_46397D$85308:
; Line 863
	jmp	SHORT $loc_4639B3$85310
$loc_46397F$85306:
; Line 866
	inc	esi
; Line 867
	inc	edi
; Line 868
	shr	ecx, 1
; Line 869
	jae	SHORT $loc_463992$85311
; Line 870
	mov	dl, BYTE PTR [esi]
; Line 871
	mov	dl, BYTE PTR [ebx+edx]
; Line 872
	add	esi, 2
; Line 873
	mov	BYTE PTR [edi], dl
; Line 874
	add	edi, 2
$loc_463992$85311:
; Line 876
	test	cl, cl
; Line 877
	je	SHORT $loc_4639B3$85310
$loc_463996$85312:
; Line 879
	mov	eax, DWORD PTR [esi]
; Line 880
	add	esi, 4
; Line 881
	mov	dl, al
; Line 882
	shr	eax, 16					; 00000010H
; Line 883
	mov	dl, BYTE PTR [ebx+edx]
; Line 884
	mov	BYTE PTR [edi], dl
; Line 885
	mov	dl, al
; Line 886
	add	edi, 4
; Line 887
	mov	dl, BYTE PTR [ebx+edx]
; Line 888
	dec	ecx
; Line 889
	mov	BYTE PTR [edi-2], dl
; Line 890
	jne	SHORT $loc_463996$85312
$loc_4639B3$85310:
; Line 892
	jmp	SHORT $loc_463A35$85313
$loc_4639B8$85305:
; Line 895
	mov	edx, ecx
; Line 896
	and	edx, 2
; Line 897
	add	esi, edx
; Line 898
	shr	ecx, 1
; Line 899
	jb	SHORT $loc_4639F7$85314
; Line 900
	shr	ecx, 1
; Line 901
	jae	SHORT $loc_4639D4$85315
; Line 902
	mov	dl, BYTE PTR [esi]
; Line 903
	mov	dl, BYTE PTR [ebx+edx]
; Line 904
	add	esi, 2
; Line 905
	mov	BYTE PTR [edi], dl
; Line 906
	add	edi, 2
$loc_4639D4$85315:
; Line 908
	test	cl, cl
; Line 909
	je	SHORT $loc_4639F5$85316
$loc_4639D8$85317:
; Line 911
	mov	eax, DWORD PTR [esi]
; Line 912
	add	esi, 4
; Line 913
	mov	dl, al
; Line 914
	shr	eax, 16					; 00000010H
; Line 915
	mov	dl, BYTE PTR [ebx+edx]
; Line 916
	mov	BYTE PTR [edi], dl
; Line 917
	mov	dl, al
; Line 918
	add	edi, 4
; Line 919
	mov	dl, BYTE PTR [ebx+edx]
; Line 920
	dec	ecx
; Line 921
	mov	BYTE PTR [edi-2], dl
; Line 922
	jne	SHORT $loc_4639D8$85317
$loc_4639F5$85316:
; Line 924
	jmp	SHORT $loc_463A35$85313
$loc_4639F7$85314:
; Line 927
	mov	dl, BYTE PTR [esi]
; Line 928
	mov	dl, BYTE PTR [ebx+edx]
; Line 929
	inc	esi
; Line 930
	mov	BYTE PTR [edi], dl
; Line 931
	inc	edi
; Line 932
	shr	ecx, 1
; Line 933
	jae	SHORT $loc_463A13$85318
; Line 934
	mov	dl, BYTE PTR [esi+1]
; Line 935
	mov	dl, BYTE PTR [ebx+edx]
; Line 936
	add	esi, 2
; Line 937
	mov	BYTE PTR [edi+1], dl
; Line 938
	add	edi, 2
$loc_463A13$85318:
; Line 940
	test	cl, cl
; Line 941
	je	SHORT $loc_463A35$85313
$loc_463A17$85319:
; Line 943
	mov	eax, DWORD PTR [esi]
; Line 944
	add	esi, 4
; Line 945
	mov	dl, ah
; Line 946
	shr	eax, 16					; 00000010H
; Line 947
	mov	dl, BYTE PTR [ebx+edx]
; Line 948
	mov	BYTE PTR [edi+1], dl
; Line 949
	mov	dl, ah
; Line 950
	add	edi, 4
; Line 951
	mov	dl, BYTE PTR [ebx+edx]
; Line 952
	dec	ecx
; Line 953
	mov	BYTE PTR [edi-1], dl
; Line 954
	jne	SHORT $loc_463A17$85319
$loc_463A35$85313:
; Line 956
	sub	edi, 800				; 00000320H
; Line 957
	sub	ebp, 2
; Line 958
	jge	$loc_463918$85303
; Line 959
	mov	ebp, 8
$loc_463A49$85320:
; Line 961
	cmp	edi, DWORD PTR _gpBufEnd
; Line 962
	jb	SHORT $loc_463AAD$85304
; Line 963
	mov	ecx, 8
$loc_463A56$85321:
; Line 965
	mov	eax, DWORD PTR [esi]
; Line 966
	add	esi, 4
; Line 967
	mov	dl, ah
; Line 968
	shr	eax, 16					; 00000010H
; Line 969
	mov	dl, BYTE PTR [ebx+edx]
; Line 970
	mov	BYTE PTR [edi+1], dl
; Line 971
	mov	dl, ah
; Line 972
	add	edi, 4
; Line 973
	mov	dl, BYTE PTR [ebx+edx]
; Line 974
	dec	ecx
; Line 975
	mov	BYTE PTR [edi-1], dl
; Line 976
	jne	SHORT $loc_463A56$85321
; Line 977
	sub	edi, 800				; 00000320H
; Line 978
	cmp	edi, DWORD PTR _gpBufEnd
; Line 979
	jb	SHORT $loc_463AAD$85304
; Line 980
	mov	ecx, 8
$loc_463A87$85322:
; Line 982
	mov	eax, DWORD PTR [esi]
; Line 983
	add	esi, 4
; Line 984
	mov	dl, al
; Line 985
	shr	eax, 16					; 00000010H
; Line 986
	mov	dl, BYTE PTR [ebx+edx]
; Line 987
	mov	BYTE PTR [edi], dl
; Line 988
	mov	dl, al
; Line 989
	add	edi, 4
; Line 990
	mov	dl, BYTE PTR [ebx+edx]
; Line 991
	dec	ecx
; Line 992
	mov	BYTE PTR [edi-2], dl
; Line 993
	jne	SHORT $loc_463A87$85322
; Line 994
	sub	edi, 800				; 00000320H
; Line 995
	dec	ebp
; Line 996
	jne	SHORT $loc_463A49$85320
$loc_463AAD$85304:
; Line 998
	pop	ebp
; Line 1000
	jmp	$L85425
$L85266:
; Line 533
	push	ebp
; Line 534
	xor	eax, eax
; Line 535
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 536
	mov	ebp, 30					; 0000001eH
$loc_4636A5$85267:
; Line 538
	cmp	edi, DWORD PTR _gpBufEnd
; Line 539
	jb	$loc_463905$85268
; Line 540
	mov	ecx, 32					; 00000020H
; Line 541
	sub	ecx, ebp
; Line 542
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 543
	inc	eax
; Line 544
	and	eax, 1
; Line 545
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 546
	je	SHORT $loc_463743$85269
; Line 547
	shr	ecx, 1
; Line 548
	jb	SHORT $loc_463703$85270
; Line 549
	shr	ecx, 1
; Line 550
	jae	SHORT $loc_4636DF$85271
; Line 551
	mov	dl, BYTE PTR [esi+1]
; Line 552
	mov	dl, BYTE PTR [ebx+edx]
; Line 553
	add	esi, 2
; Line 554
	mov	BYTE PTR [edi+1], dl
; Line 555
	add	edi, 2
$loc_4636DF$85271:
; Line 557
	test	cl, cl
; Line 558
	je	SHORT $loc_463701$85272
$loc_4636E3$85273:
; Line 560
	mov	eax, DWORD PTR [esi]
; Line 561
	add	esi, 4
; Line 562
	mov	dl, ah
; Line 563
	shr	eax, 16					; 00000010H
; Line 564
	mov	dl, BYTE PTR [ebx+edx]
; Line 565
	mov	BYTE PTR [edi+1], dl
; Line 566
	mov	dl, ah
; Line 567
	add	edi, 4
; Line 568
	mov	dl, BYTE PTR [ebx+edx]
; Line 569
	dec	ecx
; Line 570
	mov	BYTE PTR [edi-1], dl
; Line 571
	jne	SHORT $loc_4636E3$85273
$loc_463701$85272:
; Line 573
	jmp	SHORT $loc_463737$85274
$loc_463703$85270:
; Line 576
	inc	esi
; Line 577
	inc	edi
; Line 578
	shr	ecx, 1
; Line 579
	jae	SHORT $loc_463716$85275
; Line 580
	mov	dl, BYTE PTR [esi]
; Line 581
	mov	dl, BYTE PTR [ebx+edx]
; Line 582
	add	esi, 2
; Line 583
	mov	BYTE PTR [edi], dl
; Line 584
	add	edi, 2
$loc_463716$85275:
; Line 586
	test	cl, cl
; Line 587
	je	SHORT $loc_463737$85274
$loc_46371A$85276:
; Line 589
	mov	eax, DWORD PTR [esi]
; Line 590
	add	esi, 4
; Line 591
	mov	dl, al
; Line 592
	shr	eax, 16					; 00000010H
; Line 593
	mov	dl, BYTE PTR [ebx+edx]
; Line 594
	mov	BYTE PTR [edi], dl
; Line 595
	mov	dl, al
; Line 596
	add	edi, 4
; Line 597
	mov	dl, BYTE PTR [ebx+edx]
; Line 598
	dec	ecx
; Line 599
	mov	BYTE PTR [edi-2], dl
; Line 600
	jne	SHORT $loc_46371A$85276
$loc_463737$85274:
; Line 602
	mov	edx, esi
; Line 603
	and	edx, 2
; Line 604
	add	esi, edx
; Line 605
	jmp	SHORT $loc_4637C0$85277
$loc_463743$85269:
; Line 608
	shr	ecx, 1
; Line 609
	jb	SHORT $loc_46377B$85278
; Line 610
	shr	ecx, 1
; Line 611
	jae	SHORT $loc_463758$85279
; Line 612
	mov	dl, BYTE PTR [esi]
; Line 613
	mov	dl, BYTE PTR [ebx+edx]
; Line 614
	add	esi, 2
; Line 615
	mov	BYTE PTR [edi], dl
; Line 616
	add	edi, 2
$loc_463758$85279:
; Line 618
	test	cl, cl
; Line 619
	je	SHORT $loc_463779$85280
$loc_46375C$85281:
; Line 621
	mov	eax, DWORD PTR [esi]
; Line 622
	add	esi, 4
; Line 623
	mov	dl, al
; Line 624
	shr	eax, 16					; 00000010H
; Line 625
	mov	dl, BYTE PTR [ebx+edx]
; Line 626
	mov	BYTE PTR [edi], dl
; Line 627
	mov	dl, al
; Line 628
	add	edi, 4
; Line 629
	mov	dl, BYTE PTR [ebx+edx]
; Line 630
	dec	ecx
; Line 631
	mov	BYTE PTR [edi-2], dl
; Line 632
	jne	SHORT $loc_46375C$85281
$loc_463779$85280:
; Line 634
	jmp	SHORT $loc_4637B9$85282
$loc_46377B$85278:
; Line 637
	mov	dl, BYTE PTR [esi]
; Line 638
	mov	dl, BYTE PTR [ebx+edx]
; Line 639
	inc	esi
; Line 640
	mov	BYTE PTR [edi], dl
; Line 641
	inc	edi
; Line 642
	shr	ecx, 1
; Line 643
	jae	SHORT $loc_463797$85283
; Line 644
	mov	dl, BYTE PTR [esi+1]
; Line 645
	mov	dl, BYTE PTR [ebx+edx]
; Line 646
	add	esi, 2
; Line 647
	mov	BYTE PTR [edi+1], dl
; Line 648
	add	edi, 2
$loc_463797$85283:
; Line 650
	test	cl, cl
; Line 651
	je	SHORT $loc_4637B9$85282
$loc_46379B$85284:
; Line 653
	mov	eax, DWORD PTR [esi]
; Line 654
	add	esi, 4
; Line 655
	mov	dl, ah
; Line 656
	shr	eax, 16					; 00000010H
; Line 657
	mov	dl, BYTE PTR [ebx+edx]
; Line 658
	mov	BYTE PTR [edi+1], dl
; Line 659
	mov	dl, ah
; Line 660
	add	edi, 4
; Line 661
	mov	dl, BYTE PTR [ebx+edx]
; Line 662
	dec	ecx
; Line 663
	mov	BYTE PTR [edi-1], dl
; Line 664
	jne	SHORT $loc_46379B$85284
$loc_4637B9$85282:
; Line 666
	mov	edx, esi
; Line 667
	and	edx, 2
; Line 668
	add	esi, edx
$loc_4637C0$85277:
; Line 670
	sub	edi, 800				; 00000320H
; Line 671
	add	edi, ebp
; Line 672
	sub	ebp, 2
; Line 673
	jge	$loc_4636A5$85267
; Line 674
	mov	ebp, 2
$loc_4637D6$85285:
; Line 676
	cmp	edi, DWORD PTR _gpBufEnd
; Line 677
	jb	$loc_463905$85268
; Line 678
	mov	ecx, 32					; 00000020H
; Line 679
	sub	ecx, ebp
; Line 680
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 681
	inc	eax
; Line 682
	and	eax, 1
; Line 683
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 684
	je	SHORT $loc_463874$85286
; Line 685
	shr	ecx, 1
; Line 686
	jb	SHORT $loc_463834$85287
; Line 687
	shr	ecx, 1
; Line 688
	jae	SHORT $loc_463810$85288
; Line 689
	mov	dl, BYTE PTR [esi+1]
; Line 690
	mov	dl, BYTE PTR [ebx+edx]
; Line 691
	add	esi, 2
; Line 692
	mov	BYTE PTR [edi+1], dl
; Line 693
	add	edi, 2
$loc_463810$85288:
; Line 695
	test	cl, cl
; Line 696
	je	SHORT $loc_463832$85289
$loc_463814$85290:
; Line 698
	mov	eax, DWORD PTR [esi]
; Line 699
	add	esi, 4
; Line 700
	mov	dl, ah
; Line 701
	shr	eax, 16					; 00000010H
; Line 702
	mov	dl, BYTE PTR [ebx+edx]
; Line 703
	mov	BYTE PTR [edi+1], dl
; Line 704
	mov	dl, ah
; Line 705
	add	edi, 4
; Line 706
	mov	dl, BYTE PTR [ebx+edx]
; Line 707
	dec	ecx
; Line 708
	mov	BYTE PTR [edi-1], dl
; Line 709
	jne	SHORT $loc_463814$85290
$loc_463832$85289:
; Line 711
	jmp	SHORT $loc_463868$85291
$loc_463834$85287:
; Line 714
	inc	esi
; Line 715
	inc	edi
; Line 716
	shr	ecx, 1
; Line 717
	jae	SHORT $loc_463847$85292
; Line 718
	mov	dl, BYTE PTR [esi]
; Line 719
	mov	dl, BYTE PTR [ebx+edx]
; Line 720
	add	esi, 2
; Line 721
	mov	BYTE PTR [edi], dl
; Line 722
	add	edi, 2
$loc_463847$85292:
; Line 724
	test	cl, cl
; Line 725
	je	SHORT $loc_463868$85291
$loc_46384B$85293:
; Line 727
	mov	eax, DWORD PTR [esi]
; Line 728
	add	esi, 4
; Line 729
	mov	dl, al
; Line 730
	shr	eax, 16					; 00000010H
; Line 731
	mov	dl, BYTE PTR [ebx+edx]
; Line 732
	mov	BYTE PTR [edi], dl
; Line 733
	mov	dl, al
; Line 734
	add	edi, 4
; Line 735
	mov	dl, BYTE PTR [ebx+edx]
; Line 736
	dec	ecx
; Line 737
	mov	BYTE PTR [edi-2], dl
; Line 738
	jne	SHORT $loc_46384B$85293
$loc_463868$85291:
; Line 740
	mov	edx, esi
; Line 741
	and	edx, 2
; Line 742
	add	esi, edx
; Line 743
	jmp	SHORT $loc_4638F1$85294
$loc_463874$85286:
; Line 746
	shr	ecx, 1
; Line 747
	jb	SHORT $loc_4638AC$85295
; Line 748
	shr	ecx, 1
; Line 749
	jae	SHORT $loc_463889$85296
; Line 750
	mov	dl, BYTE PTR [esi]
; Line 751
	mov	dl, BYTE PTR [ebx+edx]
; Line 752
	add	esi, 2
; Line 753
	mov	BYTE PTR [edi], dl
; Line 754
	add	edi, 2
$loc_463889$85296:
; Line 756
	test	cl, cl
; Line 757
	je	SHORT $loc_4638AA$85297
$loc_46388D$85298:
; Line 759
	mov	eax, DWORD PTR [esi]
; Line 760
	add	esi, 4
; Line 761
	mov	dl, al
; Line 762
	shr	eax, 16					; 00000010H
; Line 763
	mov	dl, BYTE PTR [ebx+edx]
; Line 764
	mov	BYTE PTR [edi], dl
; Line 765
	mov	dl, al
; Line 766
	add	edi, 4
; Line 767
	mov	dl, BYTE PTR [ebx+edx]
; Line 768
	dec	ecx
; Line 769
	mov	BYTE PTR [edi-2], dl
; Line 770
	jne	SHORT $loc_46388D$85298
$loc_4638AA$85297:
; Line 772
	jmp	SHORT $loc_4638EA$85299
$loc_4638AC$85295:
; Line 775
	mov	dl, BYTE PTR [esi]
; Line 776
	mov	dl, BYTE PTR [ebx+edx]
; Line 777
	inc	esi
; Line 778
	mov	BYTE PTR [edi], dl
; Line 779
	inc	edi
; Line 780
	shr	ecx, 1
; Line 781
	jae	SHORT $loc_4638C8$85300
; Line 782
	mov	dl, BYTE PTR [esi+1]
; Line 783
	mov	dl, BYTE PTR [ebx+edx]
; Line 784
	add	esi, 2
; Line 785
	mov	BYTE PTR [edi+1], dl
; Line 786
	add	edi, 2
$loc_4638C8$85300:
; Line 788
	test	cl, cl
; Line 789
	je	SHORT $loc_4638EA$85299
$loc_4638CC$85301:
; Line 791
	mov	eax, DWORD PTR [esi]
; Line 792
	add	esi, 4
; Line 793
	mov	dl, ah
; Line 794
	shr	eax, 16					; 00000010H
; Line 795
	mov	dl, BYTE PTR [ebx+edx]
; Line 796
	mov	BYTE PTR [edi+1], dl
; Line 797
	mov	dl, ah
; Line 798
	add	edi, 4
; Line 799
	mov	dl, BYTE PTR [ebx+edx]
; Line 800
	dec	ecx
; Line 801
	mov	BYTE PTR [edi-1], dl
; Line 802
	jne	SHORT $loc_4638CC$85301
$loc_4638EA$85299:
; Line 804
	mov	edx, esi
; Line 805
	and	edx, 2
; Line 806
	add	esi, edx
$loc_4638F1$85294:
; Line 808
	sub	edi, 800				; 00000320H
; Line 809
	add	edi, ebp
; Line 810
	add	ebp, 2
; Line 811
	cmp	ebp, 32					; 00000020H
; Line 812
	jne	$loc_4637D6$85285
$loc_463905$85268:
; Line 814
	pop	ebp
; Line 816
	jmp	$L85425
$L85232:
; Line 249
	push	ebp
; Line 250
	xor	eax, eax
; Line 251
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 252
	mov	ebp, 30					; 0000001eH
$loc_463432$85233:
; Line 254
	cmp	edi, DWORD PTR _gpBufEnd
; Line 255
	jb	$loc_463692$85234
; Line 256
	add	edi, ebp
; Line 257
	mov	ecx, 32					; 00000020H
; Line 258
	sub	ecx, ebp
; Line 259
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 260
	inc	eax
; Line 261
	and	eax, 1
; Line 262
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 263
	je	SHORT $loc_4634D2$85235
; Line 264
	mov	edx, ecx
; Line 265
	and	edx, 2
; Line 266
	add	esi, edx
; Line 267
	shr	ecx, 1
; Line 268
	jb	SHORT $loc_463499$85236
; Line 269
	shr	ecx, 1
; Line 270
	jae	SHORT $loc_463475$85237
; Line 271
	mov	dl, BYTE PTR [esi+1]
; Line 272
	mov	dl, BYTE PTR [ebx+edx]
; Line 273
	add	esi, 2
; Line 274
	mov	BYTE PTR [edi+1], dl
; Line 275
	add	edi, 2
$loc_463475$85237:
; Line 277
	test	cl, cl
; Line 278
	je	SHORT $loc_463497$85238
$loc_463479$85239:
; Line 280
	mov	eax, DWORD PTR [esi]
; Line 281
	add	esi, 4
; Line 282
	mov	dl, ah
; Line 283
	shr	eax, 16					; 00000010H
; Line 284
	mov	dl, BYTE PTR [ebx+edx]
; Line 285
	mov	BYTE PTR [edi+1], dl
; Line 286
	mov	dl, ah
; Line 287
	add	edi, 4
; Line 288
	mov	dl, BYTE PTR [ebx+edx]
; Line 289
	dec	ecx
; Line 290
	mov	BYTE PTR [edi-1], dl
; Line 291
	jne	SHORT $loc_463479$85239
$loc_463497$85238:
; Line 293
	jmp	SHORT $loc_4634CD$85240
$loc_463499$85236:
; Line 296
	inc	esi
; Line 297
	inc	edi
; Line 298
	shr	ecx, 1
; Line 299
	jae	SHORT $loc_4634AC$85241
; Line 300
	mov	dl, BYTE PTR [esi]
; Line 301
	mov	dl, BYTE PTR [ebx+edx]
; Line 302
	add	esi, 2
; Line 303
	mov	BYTE PTR [edi], dl
; Line 304
	add	edi, 2
$loc_4634AC$85241:
; Line 306
	test	cl, cl
; Line 307
	je	SHORT $loc_4634CD$85240
$loc_4634B0$85242:
; Line 309
	mov	eax, DWORD PTR [esi]
; Line 310
	add	esi, 4
; Line 311
	mov	dl, al
; Line 312
	shr	eax, 16					; 00000010H
; Line 313
	mov	dl, BYTE PTR [ebx+edx]
; Line 314
	mov	BYTE PTR [edi], dl
; Line 315
	mov	dl, al
; Line 316
	add	edi, 4
; Line 317
	mov	dl, BYTE PTR [ebx+edx]
; Line 318
	dec	ecx
; Line 319
	mov	BYTE PTR [edi-2], dl
; Line 320
	jne	SHORT $loc_4634B0$85242
$loc_4634CD$85240:
; Line 322
	jmp	SHORT $loc_46354F$85243
$loc_4634D2$85235:
; Line 325
	mov	edx, ecx
; Line 326
	and	edx, 2
; Line 327
	add	esi, edx
; Line 328
	shr	ecx, 1
; Line 329
	jb	SHORT $loc_463511$85244
; Line 330
	shr	ecx, 1
; Line 331
	jae	SHORT $loc_4634EE$85245
; Line 332
	mov	dl, BYTE PTR [esi]
; Line 333
	mov	dl, BYTE PTR [ebx+edx]
; Line 334
	add	esi, 2
; Line 335
	mov	BYTE PTR [edi], dl
; Line 336
	add	edi, 2
$loc_4634EE$85245:
; Line 338
	test	cl, cl
; Line 339
	je	SHORT $loc_46350F$85246
$loc_4634F2$85247:
; Line 341
	mov	eax, DWORD PTR [esi]
; Line 342
	add	esi, 4
; Line 343
	mov	dl, al
; Line 344
	shr	eax, 16					; 00000010H
; Line 345
	mov	dl, BYTE PTR [ebx+edx]
; Line 346
	mov	BYTE PTR [edi], dl
; Line 347
	mov	dl, al
; Line 348
	add	edi, 4
; Line 349
	mov	dl, BYTE PTR [ebx+edx]
; Line 350
	dec	ecx
; Line 351
	mov	BYTE PTR [edi-2], dl
; Line 352
	jne	SHORT $loc_4634F2$85247
$loc_46350F$85246:
; Line 354
	jmp	SHORT $loc_46354F$85243
$loc_463511$85244:
; Line 357
	mov	dl, BYTE PTR [esi]
; Line 358
	mov	dl, BYTE PTR [ebx+edx]
; Line 359
	inc	esi
; Line 360
	mov	BYTE PTR [edi], dl
; Line 361
	inc	edi
; Line 362
	shr	ecx, 1
; Line 363
	jae	SHORT $loc_46352D$85248
; Line 364
	mov	dl, BYTE PTR [esi+1]
; Line 365
	mov	dl, BYTE PTR [ebx+edx]
; Line 366
	add	esi, 2
; Line 367
	mov	BYTE PTR [edi+1], dl
; Line 368
	add	edi, 2
$loc_46352D$85248:
; Line 370
	test	cl, cl
; Line 371
	je	SHORT $loc_46354F$85243
$loc_463531$85249:
; Line 373
	mov	eax, DWORD PTR [esi]
; Line 374
	add	esi, 4
; Line 375
	mov	dl, ah
; Line 376
	shr	eax, 16					; 00000010H
; Line 377
	mov	dl, BYTE PTR [ebx+edx]
; Line 378
	mov	BYTE PTR [edi+1], dl
; Line 379
	mov	dl, ah
; Line 380
	add	edi, 4
; Line 381
	mov	dl, BYTE PTR [ebx+edx]
; Line 382
	dec	ecx
; Line 383
	mov	BYTE PTR [edi-1], dl
; Line 384
	jne	SHORT $loc_463531$85249
$loc_46354F$85243:
; Line 386
	sub	edi, 800				; 00000320H
; Line 387
	sub	ebp, 2
; Line 388
	jge	$loc_463432$85233
; Line 389
	mov	ebp, 2
$loc_463563$85250:
; Line 391
	cmp	edi, DWORD PTR _gpBufEnd
; Line 392
	jb	$loc_463692$85234
; Line 393
	add	edi, ebp
; Line 394
	mov	ecx, 32					; 00000020H
; Line 395
	sub	ecx, ebp
; Line 396
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 397
	inc	eax
; Line 398
	and	eax, 1
; Line 399
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 400
	je	SHORT $loc_463603$85251
; Line 401
	mov	edx, ecx
; Line 402
	and	edx, 2
; Line 403
	add	esi, edx
; Line 404
	shr	ecx, 1
; Line 405
	jb	SHORT $loc_4635CA$85252
; Line 406
	shr	ecx, 1
; Line 407
	jae	SHORT $loc_4635A6$85253
; Line 408
	mov	dl, BYTE PTR [esi+1]
; Line 409
	mov	dl, BYTE PTR [ebx+edx]
; Line 410
	add	esi, 2
; Line 411
	mov	BYTE PTR [edi+1], dl
; Line 412
	add	edi, 2
$loc_4635A6$85253:
; Line 414
	test	cl, cl
; Line 415
	je	SHORT $loc_4635C8$85254
$loc_4635AA$85255:
; Line 417
	mov	eax, DWORD PTR [esi]
; Line 418
	add	esi, 4
; Line 419
	mov	dl, ah
; Line 420
	shr	eax, 16					; 00000010H
; Line 421
	mov	dl, BYTE PTR [ebx+edx]
; Line 422
	mov	BYTE PTR [edi+1], dl
; Line 423
	mov	dl, ah
; Line 424
	add	edi, 4
; Line 425
	mov	dl, BYTE PTR [ebx+edx]
; Line 426
	dec	ecx
; Line 427
	mov	BYTE PTR [edi-1], dl
; Line 428
	jne	SHORT $loc_4635AA$85255
$loc_4635C8$85254:
; Line 430
	jmp	SHORT $loc_4635FE$85256
$loc_4635CA$85252:
; Line 433
	inc	esi
; Line 434
	inc	edi
; Line 435
	shr	ecx, 1
; Line 436
	jae	SHORT $loc_4635DD$85257
; Line 437
	mov	dl, BYTE PTR [esi]
; Line 438
	mov	dl, BYTE PTR [ebx+edx]
; Line 439
	add	esi, 2
; Line 440
	mov	BYTE PTR [edi], dl
; Line 441
	add	edi, 2
$loc_4635DD$85257:
; Line 443
	test	cl, cl
; Line 444
	je	SHORT $loc_4635FE$85256
$loc_4635E1$85258:
; Line 446
	mov	eax, DWORD PTR [esi]
; Line 447
	add	esi, 4
; Line 448
	mov	dl, al
; Line 449
	shr	eax, 16					; 00000010H
; Line 450
	mov	dl, BYTE PTR [ebx+edx]
; Line 451
	mov	BYTE PTR [edi], dl
; Line 452
	mov	dl, al
; Line 453
	add	edi, 4
; Line 454
	mov	dl, BYTE PTR [ebx+edx]
; Line 455
	dec	ecx
; Line 456
	mov	BYTE PTR [edi-2], dl
; Line 457
	jne	SHORT $loc_4635E1$85258
$loc_4635FE$85256:
; Line 459
	jmp	SHORT $loc_463680$85259
$loc_463603$85251:
; Line 462
	mov	edx, ecx
; Line 463
	and	edx, 2
; Line 464
	add	esi, edx
; Line 465
	shr	ecx, 1
; Line 466
	jb	SHORT $loc_463642$85260
; Line 467
	shr	ecx, 1
; Line 468
	jae	SHORT $loc_46361F$85261
; Line 469
	mov	dl, BYTE PTR [esi]
; Line 470
	mov	dl, BYTE PTR [ebx+edx]
; Line 471
	add	esi, 2
; Line 472
	mov	BYTE PTR [edi], dl
; Line 473
	add	edi, 2
$loc_46361F$85261:
; Line 475
	test	cl, cl
; Line 476
	je	SHORT $loc_463640$85262
$loc_463623$85263:
; Line 478
	mov	eax, DWORD PTR [esi]
; Line 479
	add	esi, 4
; Line 480
	mov	dl, al
; Line 481
	shr	eax, 16					; 00000010H
; Line 482
	mov	dl, BYTE PTR [ebx+edx]
; Line 483
	mov	BYTE PTR [edi], dl
; Line 484
	mov	dl, al
; Line 485
	add	edi, 4
; Line 486
	mov	dl, BYTE PTR [ebx+edx]
; Line 487
	dec	ecx
; Line 488
	mov	BYTE PTR [edi-2], dl
; Line 489
	jne	SHORT $loc_463623$85263
$loc_463640$85262:
; Line 491
	jmp	SHORT $loc_463680$85259
$loc_463642$85260:
; Line 494
	mov	dl, BYTE PTR [esi]
; Line 495
	mov	dl, BYTE PTR [ebx+edx]
; Line 496
	inc	esi
; Line 497
	mov	BYTE PTR [edi], dl
; Line 498
	inc	edi
; Line 499
	shr	ecx, 1
; Line 500
	jae	SHORT $loc_46365E$85264
; Line 501
	mov	dl, BYTE PTR [esi+1]
; Line 502
	mov	dl, BYTE PTR [ebx+edx]
; Line 503
	add	esi, 2
; Line 504
	mov	BYTE PTR [edi+1], dl
; Line 505
	add	edi, 2
$loc_46365E$85264:
; Line 507
	test	cl, cl
; Line 508
	je	SHORT $loc_463680$85259
$loc_463662$85265:
; Line 510
	mov	eax, DWORD PTR [esi]
; Line 511
	add	esi, 4
; Line 512
	mov	dl, ah
; Line 513
	shr	eax, 16					; 00000010H
; Line 514
	mov	dl, BYTE PTR [ebx+edx]
; Line 515
	mov	BYTE PTR [edi+1], dl
; Line 516
	mov	dl, ah
; Line 517
	add	edi, 4
; Line 518
	mov	dl, BYTE PTR [ebx+edx]
; Line 519
	dec	ecx
; Line 520
	mov	BYTE PTR [edi-1], dl
; Line 521
	jne	SHORT $loc_463662$85265
$loc_463680$85259:
; Line 523
	sub	edi, 800				; 00000320H
; Line 524
	add	ebp, 2
; Line 525
	cmp	ebp, 32					; 00000020H
; Line 526
	jne	$loc_463563$85250
$loc_463692$85234:
; Line 528
	pop	ebp
; Line 530
	jmp	$L85425
$L85210:
; Line 84
	push	ebp
; Line 85
	mov	eax, edi
; Line 86
	and	eax, 1
; Line 87
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 88
	mov	ebp, 32					; 00000020H
$loc_4632D5$85211:
; Line 90
	mov	edx, 32					; 00000020H
$loc_4632DA$85212:
; Line 92
	xor	eax, eax
; Line 93
	mov	al, BYTE PTR [esi]
; Line 94
	inc	esi
; Line 95
	test	al, al
; Line 96
	js	$loc_4633F8$85213
; Line 97
	sub	edx, eax
; Line 98
	cmp	edi, DWORD PTR _gpBufEnd
; Line 99
	jb	$loc_46341F$85214
; Line 100
	mov	ecx, eax
; Line 101
	mov	eax, edi
; Line 102
	and	eax, 1
; Line 103
	cmp	eax, DWORD PTR _WorldBoolFlag
; Line 104
	jne	SHORT $loc_463377$85215
; Line 105
	push	edx
; Line 106
	shr	ecx, 1
; Line 107
	jb	SHORT $loc_463340$85216
; Line 108
	shr	ecx, 1
; Line 109
	jae	SHORT $loc_46331C$85217
; Line 110
	mov	dl, BYTE PTR [esi+1]
; Line 111
	mov	dl, BYTE PTR [ebx+edx]
; Line 112
	add	esi, 2
; Line 113
	mov	BYTE PTR [edi+1], dl
; Line 114
	add	edi, 2
$loc_46331C$85217:
; Line 116
	test	cl, cl
; Line 117
	je	SHORT $loc_46333E$85218
$loc_463320$85219:
; Line 119
	mov	eax, DWORD PTR [esi]
; Line 120
	add	esi, 4
; Line 121
	mov	dl, ah
; Line 122
	shr	eax, 16					; 00000010H
; Line 123
	mov	dl, BYTE PTR [ebx+edx]
; Line 124
	mov	BYTE PTR [edi+1], dl
; Line 125
	mov	dl, ah
; Line 126
	add	edi, 4
; Line 127
	mov	dl, BYTE PTR [ebx+edx]
; Line 128
	dec	ecx
; Line 129
	mov	BYTE PTR [edi-1], dl
; Line 130
	jne	SHORT $loc_463320$85219
$loc_46333E$85218:
; Line 132
	jmp	SHORT $loc_463374$85220
$loc_463340$85216:
; Line 135
	inc	esi
; Line 136
	inc	edi
; Line 137
	shr	ecx, 1
; Line 138
	jae	SHORT $loc_463353$85221
; Line 139
	mov	dl, BYTE PTR [esi]
; Line 140
	mov	dl, BYTE PTR [ebx+edx]
; Line 141
	add	esi, 2
; Line 142
	mov	BYTE PTR [edi], dl
; Line 143
	add	edi, 2
$loc_463353$85221:
; Line 145
	test	cl, cl
; Line 146
	je	SHORT $loc_463374$85220
$loc_463357$85222:
; Line 148
	mov	eax, DWORD PTR [esi]
; Line 149
	add	esi, 4
; Line 150
	mov	dl, al
; Line 151
	shr	eax, 16					; 00000010H
; Line 152
	mov	dl, BYTE PTR [ebx+edx]
; Line 153
	mov	BYTE PTR [edi], dl
; Line 154
	mov	dl, al
; Line 155
	add	edi, 4
; Line 156
	mov	dl, BYTE PTR [ebx+edx]
; Line 157
	dec	ecx
; Line 158
	mov	BYTE PTR [edi-2], dl
; Line 159
	jne	SHORT $loc_463357$85222
$loc_463374$85220:
; Line 161
	pop	edx
; Line 162
	jmp	SHORT $loc_4633EF$85223
$loc_463377$85215:
; Line 165
	push	edx
; Line 166
	shr	ecx, 1
; Line 167
	jb	SHORT $loc_4633B0$85224
; Line 168
	shr	ecx, 1
; Line 169
	jae	SHORT $loc_46338D$85225
; Line 170
	mov	dl, BYTE PTR [esi]
; Line 171
	mov	dl, BYTE PTR [ebx+edx]
; Line 172
	add	esi, 2
; Line 173
	mov	BYTE PTR [edi], dl
; Line 174
	add	edi, 2
$loc_46338D$85225:
; Line 176
	test	cl, cl
; Line 177
	je	SHORT $loc_4633AE$85226
$loc_463391$85227:
; Line 179
	mov	eax, DWORD PTR [esi]
; Line 180
	add	esi, 4
; Line 181
	mov	dl, al
; Line 182
	shr	eax, 16					; 00000010H
; Line 183
	mov	dl, BYTE PTR [ebx+edx]
; Line 184
	mov	BYTE PTR [edi], dl
; Line 185
	mov	dl, al
; Line 186
	add	edi, 4
; Line 187
	mov	dl, BYTE PTR [ebx+edx]
; Line 188
	dec	ecx
; Line 189
	mov	BYTE PTR [edi-2], dl
; Line 190
	jne	SHORT $loc_463391$85227
$loc_4633AE$85226:
; Line 192
	jmp	SHORT $loc_4633EE$85228
$loc_4633B0$85224:
; Line 195
	mov	dl, BYTE PTR [esi]
; Line 196
	mov	dl, BYTE PTR [ebx+edx]
; Line 197
	inc	esi
; Line 198
	mov	BYTE PTR [edi], dl
; Line 199
	inc	edi
; Line 200
	shr	ecx, 1
; Line 201
	jae	SHORT $loc_4633CC$85229
; Line 202
	mov	dl, BYTE PTR [esi+1]
; Line 203
	mov	dl, BYTE PTR [ebx+edx]
; Line 204
	add	esi, 2
; Line 205
	mov	BYTE PTR [edi+1], dl
; Line 206
	add	edi, 2
$loc_4633CC$85229:
; Line 208
	test	cl, cl
; Line 209
	je	SHORT $loc_4633EE$85228
$loc_4633D0$85230:
; Line 211
	mov	eax, DWORD PTR [esi]
; Line 212
	add	esi, 4
; Line 213
	mov	dl, ah
; Line 214
	shr	eax, 16					; 00000010H
; Line 215
	mov	dl, BYTE PTR [ebx+edx]
; Line 216
	mov	BYTE PTR [edi+1], dl
; Line 217
	mov	dl, ah
; Line 218
	add	edi, 4
; Line 219
	mov	dl, BYTE PTR [ebx+edx]
; Line 220
	dec	ecx
; Line 221
	mov	BYTE PTR [edi-1], dl
; Line 222
	jne	SHORT $loc_4633D0$85230
$loc_4633EE$85228:
; Line 224
	pop	edx
$loc_4633EF$85223:
; Line 226
	test	edx, edx
; Line 227
	je	SHORT $loc_463404$85231
; Line 228
	jmp	$loc_4632DA$85212
$loc_4633F8$85213:
; Line 231
	neg	al
; Line 232
	add	edi, eax
; Line 233
	sub	edx, eax
; Line 234
	jne	$loc_4632DA$85212
$loc_463404$85231:
; Line 236
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 237
	inc	eax
; Line 238
	and	eax, 1
; Line 239
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 240
	sub	edi, 800				; 00000320H
; Line 241
	dec	ebp
; Line 242
	jne	$loc_4632D5$85211
$loc_46341F$85214:
; Line 244
	pop	ebp
; Line 246
	jmp	$L85425
$L85205:
; Line 39
	push	ebp
; Line 40
	mov	ebp, 16					; 00000010H
$loc_46325B$85206:
; Line 42
	cmp	edi, DWORD PTR _gpBufEnd
; Line 43
	jb	SHORT $loc_4632BF$85207
; Line 44
	mov	ecx, 8
$loc_463268$85208:
; Line 46
	mov	eax, DWORD PTR [esi]
; Line 47
	add	esi, 4
; Line 48
	mov	dl, ah
; Line 49
	shr	eax, 16					; 00000010H
; Line 50
	mov	dl, BYTE PTR [ebx+edx]
; Line 51
	mov	BYTE PTR [edi+1], dl
; Line 52
	mov	dl, ah
; Line 53
	add	edi, 4
; Line 54
	mov	dl, BYTE PTR [ebx+edx]
; Line 55
	dec	ecx
; Line 56
	mov	BYTE PTR [edi-1], dl
; Line 57
	jne	SHORT $loc_463268$85208
; Line 58
	sub	edi, 800				; 00000320H
; Line 59
	cmp	edi, DWORD PTR _gpBufEnd
; Line 60
	jb	SHORT $loc_4632BF$85207
; Line 61
	mov	ecx, 8
$loc_463299$85209:
; Line 63
	mov	eax, DWORD PTR [esi]
; Line 64
	add	esi, 4
; Line 65
	mov	dl, al
; Line 66
	shr	eax, 16					; 00000010H
; Line 67
	mov	dl, BYTE PTR [ebx+edx]
; Line 68
	mov	BYTE PTR [edi], dl
; Line 69
	mov	dl, al
; Line 70
	add	edi, 4
; Line 71
	mov	dl, BYTE PTR [ebx+edx]
; Line 72
	dec	ecx
; Line 73
	mov	BYTE PTR [edi-2], dl
; Line 74
	jne	SHORT $loc_463299$85209
; Line 75
	sub	edi, 800				; 00000320H
; Line 76
	dec	ebp
; Line 77
	jne	SHORT $loc_46325B$85206
$loc_4632BF$85207:
; Line 79
	pop	ebp
; Line 1187
	jmp	$L85425
$L85196:
; Line 1190
	mov	edx, ecx
	and	edx, 4095				; 00000fffH
	shl	edx, 4
	add	edx, eax
	mov	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx*4]
	add	eax, DWORD PTR _pSpeedCels
; Line 1191
	shr	ecx, 12					; 0000000cH
	mov	DWORD PTR _src$[ebp], eax
	mov	eax, ecx
$LABEL_11$85193:
; Line 1194
	xor	edx, edx
; Line 1195
	xor	ecx, ecx
; Line 1196
	mov	edi, DWORD PTR _dst$[ebp]
; Line 1197
	mov	esi, DWORD PTR _src$[ebp]
; Line 1200
	movsx	eax, ax
	sub	eax, 8
	je	$L85352
	dec	eax
	je	$L85357
	dec	eax
	je	$L85369
	dec	eax
	je	$L85381
	dec	eax
	je	$L85397
; Line 1709
	push	ebp
; Line 1710
	xor	eax, eax
; Line 1711
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1712
	mov	edx, 30					; 0000001eH
$loc_46411F$85408:
; Line 1714
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1715
	jb	$loc_464209$85409
; Line 1716
	mov	ecx, 32					; 00000020H
; Line 1717
	sub	ecx, edx
; Line 1718
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1719
	inc	eax
; Line 1720
	and	eax, 1
; Line 1721
	mov	ebp, ecx
; Line 1722
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1723
	je	SHORT $loc_464174$85410
; Line 1724
	shr	ecx, 2
; Line 1725
	je	SHORT $loc_464160$85411
$loc_464149$85412:
; Line 1727
	mov	eax, DWORD PTR [esi]
; Line 1728
	add	esi, 4
; Line 1729
	inc	edi
; Line 1730
	ror	eax, 8
; Line 1731
	mov	BYTE PTR [edi], al
; Line 1732
	add	edi, 2
; Line 1733
	ror	eax, 16					; 00000010H
; Line 1734
	mov	BYTE PTR [edi], al
; Line 1735
	inc	edi
; Line 1736
	dec	ecx
; Line 1737
	jne	SHORT $loc_464149$85412
$loc_464160$85411:
; Line 1739
	and	ebp, 2
; Line 1740
	je	SHORT $loc_46419E$85413
; Line 1741
	mov	ax, WORD PTR [esi]
; Line 1742
	add	esi, 4
; Line 1743
	inc	edi
; Line 1744
	ror	eax, 8
; Line 1745
	mov	BYTE PTR [edi], al
; Line 1746
	inc	edi
; Line 1747
	jmp	SHORT $loc_46419E$85413
$loc_464174$85410:
; Line 1750
	shr	ecx, 2
; Line 1751
	je	SHORT $loc_46418E$85414
$loc_464179$85415:
; Line 1753
	mov	eax, DWORD PTR [esi]
; Line 1754
	add	esi, 4
; Line 1755
	mov	BYTE PTR [edi], al
; Line 1756
	add	edi, 2
; Line 1757
	ror	eax, 16					; 00000010H
; Line 1758
	mov	BYTE PTR [edi], al
; Line 1759
	add	edi, 2
; Line 1760
	dec	ecx
; Line 1761
	jne	SHORT $loc_464179$85415
$loc_46418E$85414:
; Line 1763
	and	ebp, 2
; Line 1764
	je	SHORT $loc_46419E$85413
; Line 1765
	mov	ax, WORD PTR [esi]
; Line 1766
	add	esi, 4
; Line 1767
	mov	BYTE PTR [edi], al
; Line 1768
	add	edi, 2
$loc_46419E$85413:
; Line 1770
	sub	edi, 800				; 00000320H
; Line 1771
	add	edi, edx
; Line 1772
	sub	edx, 2
; Line 1773
	jge	$loc_46411F$85408
; Line 1774
	mov	edx, 8
$loc_4641B4$85416:
; Line 1776
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1777
	jb	SHORT $loc_464209$85409
; Line 1778
	mov	ecx, 8
$loc_4641C1$85417:
; Line 1780
	mov	eax, DWORD PTR [esi]
; Line 1781
	add	esi, 4
; Line 1782
	inc	edi
; Line 1783
	ror	eax, 8
; Line 1784
	mov	BYTE PTR [edi], al
; Line 1785
	add	edi, 2
; Line 1786
	ror	eax, 16					; 00000010H
; Line 1787
	mov	BYTE PTR [edi], al
; Line 1788
	inc	edi
; Line 1789
	dec	ecx
; Line 1790
	jne	SHORT $loc_4641C1$85417
; Line 1791
	sub	edi, 800				; 00000320H
; Line 1792
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1793
	jb	SHORT $loc_464209$85409
; Line 1794
	mov	ecx, 8
$loc_4641EB$85418:
; Line 1796
	mov	eax, DWORD PTR [esi]
; Line 1797
	add	esi, 4
; Line 1798
	mov	BYTE PTR [edi], al
; Line 1799
	add	edi, 2
; Line 1800
	ror	eax, 16					; 00000010H
; Line 1801
	mov	BYTE PTR [edi], al
; Line 1802
	add	edi, 2
; Line 1803
	dec	ecx
; Line 1804
	jne	SHORT $loc_4641EB$85418
; Line 1805
	sub	edi, 800				; 00000320H
; Line 1806
	dec	edx
; Line 1807
	jne	SHORT $loc_4641B4$85416
$loc_464209$85409:
; Line 1809
	pop	ebp
; Line 1811
	jmp	$L85425
$L85397:
; Line 1609
	xor	eax, eax
; Line 1610
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1611
	mov	edx, 30					; 0000001eH
$loc_46401D$85398:
; Line 1613
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1614
	jb	$ret_464688_12S$85399
; Line 1615
	add	edi, edx
; Line 1616
	mov	ecx, 32					; 00000020H
; Line 1617
	sub	ecx, edx
; Line 1618
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1619
	inc	eax
; Line 1620
	and	eax, 1
; Line 1621
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1622
	je	SHORT $loc_464072$85400
; Line 1623
	shr	ecx, 2
; Line 1624
	jae	SHORT $loc_464059$85401
; Line 1625
	mov	ax, WORD PTR [esi+2]
; Line 1626
	add	esi, 4
; Line 1627
	inc	edi
; Line 1628
	ror	eax, 8
; Line 1629
	mov	BYTE PTR [edi], al
; Line 1630
	inc	edi
; Line 1631
	test	ecx, ecx
; Line 1632
	je	SHORT $loc_46409C$85402
$loc_464059$85401:
; Line 1634
	mov	eax, DWORD PTR [esi]
; Line 1635
	add	esi, 4
; Line 1636
	inc	edi
; Line 1637
	ror	eax, 8
; Line 1638
	mov	BYTE PTR [edi], al
; Line 1639
	add	edi, 2
; Line 1640
	ror	eax, 16					; 00000010H
; Line 1641
	mov	BYTE PTR [edi], al
; Line 1642
	inc	edi
; Line 1643
	dec	ecx
; Line 1644
	jne	SHORT $loc_464059$85401
; Line 1645
	jmp	SHORT $loc_46409C$85402
$loc_464072$85400:
; Line 1648
	shr	ecx, 2
; Line 1649
	jae	SHORT $loc_464087$85403
; Line 1650
	mov	ax, WORD PTR [esi+2]
; Line 1651
	add	esi, 4
; Line 1652
	mov	BYTE PTR [edi], al
; Line 1653
	add	edi, 2
; Line 1654
	test	ecx, ecx
; Line 1655
	je	SHORT $loc_46409C$85402
$loc_464087$85403:
; Line 1657
	mov	eax, DWORD PTR [esi]
; Line 1658
	add	esi, 4
; Line 1659
	mov	BYTE PTR [edi], al
; Line 1660
	add	edi, 2
; Line 1661
	ror	eax, 16					; 00000010H
; Line 1662
	mov	BYTE PTR [edi], al
; Line 1663
	add	edi, 2
; Line 1664
	dec	ecx
; Line 1665
	jne	SHORT $loc_464087$85403
$loc_46409C$85402:
; Line 1667
	sub	edi, 800				; 00000320H
; Line 1668
	sub	edx, 2
; Line 1669
	jge	$loc_46401D$85398
; Line 1670
	mov	edx, 8
$loc_4640B0$85404:
; Line 1672
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1673
	jb	SHORT $ret_464688_12S$85399
; Line 1674
	mov	ecx, 8
$loc_4640C1$85405:
; Line 1676
	mov	eax, DWORD PTR [esi]
; Line 1677
	add	esi, 4
; Line 1678
	inc	edi
; Line 1679
	ror	eax, 8
; Line 1680
	mov	BYTE PTR [edi], al
; Line 1681
	add	edi, 2
; Line 1682
	ror	eax, 16					; 00000010H
; Line 1683
	mov	BYTE PTR [edi], al
; Line 1684
	inc	edi
; Line 1685
	dec	ecx
; Line 1686
	jne	SHORT $loc_4640C1$85405
; Line 1687
	sub	edi, 800				; 00000320H
; Line 1688
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1689
	jb	SHORT $ret_464688_12S$85399
; Line 1690
	mov	ecx, 8
$loc_4640EF$85406:
; Line 1692
	mov	eax, DWORD PTR [esi]
; Line 1693
	add	esi, 4
; Line 1694
	mov	BYTE PTR [edi], al
; Line 1695
	add	edi, 2
; Line 1696
	ror	eax, 16					; 00000010H
; Line 1697
	mov	BYTE PTR [edi], al
; Line 1698
	add	edi, 2
; Line 1699
	dec	ecx
; Line 1700
	jne	SHORT $loc_4640EF$85406
; Line 1701
	sub	edi, 800				; 00000320H
; Line 1702
	dec	edx
; Line 1703
	jne	SHORT $loc_4640B0$85404
$ret_464688_12S$85399:
; Line 1706
	jmp	$L85425
$L85381:
; Line 1476
	push	ebp
; Line 1477
	xor	eax, eax
; Line 1478
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1479
	mov	edx, 30					; 0000001eH
$loc_463EE5$85382:
; Line 1481
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1482
	jb	$loc_46400B$85383
; Line 1483
	mov	ecx, 32					; 00000020H
; Line 1484
	sub	ecx, edx
; Line 1485
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1486
	inc	eax
; Line 1487
	and	eax, 1
; Line 1488
	mov	ebp, ecx
; Line 1489
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1490
	je	SHORT $loc_463F3A$85384
; Line 1491
	shr	ecx, 2
; Line 1492
	je	SHORT $loc_463F26$85385
$loc_463F0F$85386:
; Line 1494
	mov	eax, DWORD PTR [esi]
; Line 1495
	add	esi, 4
; Line 1496
	inc	edi
; Line 1497
	ror	eax, 8
; Line 1498
	mov	BYTE PTR [edi], al
; Line 1499
	add	edi, 2
; Line 1500
	ror	eax, 16					; 00000010H
; Line 1501
	mov	BYTE PTR [edi], al
; Line 1502
	inc	edi
; Line 1503
	dec	ecx
; Line 1504
	jne	SHORT $loc_463F0F$85386
$loc_463F26$85385:
; Line 1506
	and	ebp, 2
; Line 1507
	je	SHORT $loc_463F64$85387
; Line 1508
	mov	ax, WORD PTR [esi]
; Line 1509
	add	esi, 4
; Line 1510
	inc	edi
; Line 1511
	ror	eax, 8
; Line 1512
	mov	BYTE PTR [edi], al
; Line 1513
	inc	edi
; Line 1514
	jmp	SHORT $loc_463F64$85387
$loc_463F3A$85384:
; Line 1517
	shr	ecx, 2
; Line 1518
	je	SHORT $loc_463F54$85388
$loc_463F3F$85389:
; Line 1520
	mov	eax, DWORD PTR [esi]
; Line 1521
	add	esi, 4
; Line 1522
	mov	BYTE PTR [edi], al
; Line 1523
	add	edi, 2
; Line 1524
	ror	eax, 16					; 00000010H
; Line 1525
	mov	BYTE PTR [edi], al
; Line 1526
	add	edi, 2
; Line 1527
	dec	ecx
; Line 1528
	jne	SHORT $loc_463F3F$85389
$loc_463F54$85388:
; Line 1530
	and	ebp, 2
; Line 1531
	je	SHORT $loc_463F64$85387
; Line 1532
	mov	ax, WORD PTR [esi]
; Line 1533
	add	esi, 4
; Line 1534
	mov	BYTE PTR [edi], al
; Line 1535
	add	edi, 2
$loc_463F64$85387:
; Line 1537
	sub	edi, 800				; 00000320H
; Line 1538
	add	edi, edx
; Line 1539
	sub	edx, 2
; Line 1540
	jge	$loc_463EE5$85382
; Line 1541
	mov	edx, 2
$loc_463F7A$85390:
; Line 1543
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1544
	jb	$loc_46400B$85383
; Line 1545
	mov	ecx, 32					; 00000020H
; Line 1546
	sub	ecx, edx
; Line 1547
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1548
	inc	eax
; Line 1549
	and	eax, 1
; Line 1550
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1551
	je	SHORT $loc_463FCD$85391
; Line 1552
	shr	ecx, 2
; Line 1553
	je	SHORT $loc_463FB9$85392
$loc_463FA2$85393:
; Line 1555
	mov	eax, DWORD PTR [esi]
; Line 1556
	add	esi, 4
; Line 1557
	inc	edi
; Line 1558
	ror	eax, 8
; Line 1559
	mov	BYTE PTR [edi], al
; Line 1560
	add	edi, 2
; Line 1561
	ror	eax, 16					; 00000010H
; Line 1562
	mov	BYTE PTR [edi], al
; Line 1563
	inc	edi
; Line 1564
	dec	ecx
; Line 1565
	jne	SHORT $loc_463FA2$85393
$loc_463FB9$85392:
; Line 1567
	and	ebp, 2
; Line 1568
	je	SHORT $loc_463FF7$85394
; Line 1569
	mov	ax, WORD PTR [esi]
; Line 1570
	add	esi, 4
; Line 1571
	inc	edi
; Line 1572
	ror	eax, 8
; Line 1573
	mov	BYTE PTR [edi], al
; Line 1574
	inc	edi
; Line 1575
	jmp	SHORT $loc_463FF7$85394
$loc_463FCD$85391:
; Line 1578
	shr	ecx, 2
; Line 1579
	je	SHORT $loc_463FE7$85395
$loc_463FD2$85396:
; Line 1581
	mov	eax, DWORD PTR [esi]
; Line 1582
	add	esi, 4
; Line 1583
	mov	BYTE PTR [edi], al
; Line 1584
	add	edi, 2
; Line 1585
	ror	eax, 16					; 00000010H
; Line 1586
	mov	BYTE PTR [edi], al
; Line 1587
	add	edi, 2
; Line 1588
	dec	ecx
; Line 1589
	jne	SHORT $loc_463FD2$85396
$loc_463FE7$85395:
; Line 1591
	and	ebp, 2
; Line 1592
	je	SHORT $loc_463FF7$85394
; Line 1593
	mov	ax, WORD PTR [esi]
; Line 1594
	add	esi, 4
; Line 1595
	mov	BYTE PTR [edi], al
; Line 1596
	add	edi, 2
$loc_463FF7$85394:
; Line 1598
	sub	edi, 800				; 00000320H
; Line 1599
	add	edi, edx
; Line 1600
	add	edx, 2
; Line 1601
	cmp	edx, 32					; 00000020H
; Line 1602
	jne	$loc_463F7A$85390
$loc_46400B$85383:
; Line 1604
	pop	ebp
; Line 1606
	jmp	$L85425
$L85369:
; Line 1350
	xor	eax, eax
; Line 1351
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1352
	mov	edx, 30					; 0000001eH
$loc_463DAF$85370:
; Line 1354
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1355
	jb	$ret_464688_10S$85371
; Line 1356
	add	edi, edx
; Line 1357
	mov	ecx, 32					; 00000020H
; Line 1358
	sub	ecx, edx
; Line 1359
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1360
	inc	eax
; Line 1361
	and	eax, 1
; Line 1362
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1363
	je	SHORT $loc_463E04$85372
; Line 1364
	shr	ecx, 2
; Line 1365
	jae	SHORT $loc_463DEB$85373
; Line 1366
	mov	ax, WORD PTR [esi+2]
; Line 1367
	add	esi, 4
; Line 1368
	inc	edi
; Line 1369
	ror	eax, 8
; Line 1370
	mov	BYTE PTR [edi], al
; Line 1371
	inc	edi
; Line 1372
	test	ecx, ecx
; Line 1373
	je	SHORT $loc_463E2E$85374
$loc_463DEB$85373:
; Line 1375
	mov	eax, DWORD PTR [esi]
; Line 1376
	add	esi, 4
; Line 1377
	inc	edi
; Line 1378
	ror	eax, 8
; Line 1379
	mov	BYTE PTR [edi], al
; Line 1380
	add	edi, 2
; Line 1381
	ror	eax, 16					; 00000010H
; Line 1382
	mov	BYTE PTR [edi], al
; Line 1383
	inc	edi
; Line 1384
	dec	ecx
; Line 1385
	jne	SHORT $loc_463DEB$85373
; Line 1386
	jmp	SHORT $loc_463E2E$85374
$loc_463E04$85372:
; Line 1389
	shr	ecx, 2
; Line 1390
	jae	SHORT $loc_463E19$85375
; Line 1391
	mov	ax, WORD PTR [esi+2]
; Line 1392
	add	esi, 4
; Line 1393
	mov	BYTE PTR [edi], al
; Line 1394
	add	edi, 2
; Line 1395
	test	ecx, ecx
; Line 1396
	je	SHORT $loc_463E2E$85374
$loc_463E19$85375:
; Line 1398
	mov	eax, DWORD PTR [esi]
; Line 1399
	add	esi, 4
; Line 1400
	mov	BYTE PTR [edi], al
; Line 1401
	add	edi, 2
; Line 1402
	ror	eax, 16					; 00000010H
; Line 1403
	mov	BYTE PTR [edi], al
; Line 1404
	add	edi, 2
; Line 1405
	dec	ecx
; Line 1406
	jne	SHORT $loc_463E19$85375
$loc_463E2E$85374:
; Line 1408
	sub	edi, 800				; 00000320H
; Line 1409
	sub	edx, 2
; Line 1410
	jge	$loc_463DAF$85370
; Line 1411
	mov	edx, 2
$loc_463E42$85376:
; Line 1413
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1414
	jb	$ret_464688_10S$85371
; Line 1415
	add	edi, edx
; Line 1416
	mov	ecx, 32					; 00000020H
; Line 1417
	sub	ecx, edx
; Line 1418
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1419
	inc	eax
; Line 1420
	and	eax, 1
; Line 1421
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1422
	je	SHORT $loc_463E97$85377
; Line 1423
	shr	ecx, 2
; Line 1424
	jae	SHORT $loc_463E7E$85378
; Line 1425
	mov	ax, WORD PTR [esi+2]
; Line 1426
	add	esi, 4
; Line 1427
	inc	edi
; Line 1428
	ror	eax, 8
; Line 1429
	mov	BYTE PTR [edi], al
; Line 1430
	inc	edi
; Line 1431
	test	ecx, ecx
; Line 1432
	je	SHORT $loc_463EC1$85379
$loc_463E7E$85378:
; Line 1434
	mov	eax, DWORD PTR [esi]
; Line 1435
	add	esi, 4
; Line 1436
	inc	edi
; Line 1437
	ror	eax, 8
; Line 1438
	mov	BYTE PTR [edi], al
; Line 1439
	add	edi, 2
; Line 1440
	ror	eax, 16					; 00000010H
; Line 1441
	mov	BYTE PTR [edi], al
; Line 1442
	inc	edi
; Line 1443
	dec	ecx
; Line 1444
	jne	SHORT $loc_463E7E$85378
; Line 1445
	jmp	SHORT $loc_463EC1$85379
$loc_463E97$85377:
; Line 1448
	shr	ecx, 2
; Line 1449
	jae	SHORT $loc_463EAC$85380
; Line 1450
	mov	ax, WORD PTR [esi+2]
; Line 1451
	add	esi, 4
; Line 1452
	mov	BYTE PTR [edi], al
; Line 1453
	add	edi, 2
; Line 1454
	test	ecx, ecx
; Line 1455
	je	SHORT $loc_463EC1$85379
$loc_463EAC$85380:
; Line 1457
	mov	eax, DWORD PTR [esi]
; Line 1458
	add	esi, 4
; Line 1459
	mov	BYTE PTR [edi], al
; Line 1460
	add	edi, 2
; Line 1461
	ror	eax, 16					; 00000010H
; Line 1462
	mov	BYTE PTR [edi], al
; Line 1463
	add	edi, 2
; Line 1464
	dec	ecx
; Line 1465
	jne	SHORT $loc_463EAC$85380
$loc_463EC1$85379:
; Line 1467
	sub	edi, 800				; 00000320H
; Line 1468
	add	edx, 2
; Line 1469
	cmp	edx, 32					; 00000020H
; Line 1470
	jne	$loc_463E42$85376
$ret_464688_10S$85371:
; Line 1473
	jmp	$L85425
$L85357:
; Line 1242
	push	ebp
; Line 1243
	mov	eax, edi
; Line 1244
	and	eax, 1
; Line 1245
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1246
	mov	ebp, 32					; 00000020H
$loc_463CD2$85358:
; Line 1248
	mov	edx, 32					; 00000020H
$loc_463CD7$85359:
; Line 1250
	xor	eax, eax
; Line 1251
	mov	al, BYTE PTR [esi]
; Line 1252
	inc	esi
; Line 1253
	test	al, al
; Line 1254
	js	$loc_463D76$85360
; Line 1255
	sub	edx, eax
; Line 1256
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1257
	jb	$loc_463D9D$85361
; Line 1258
	mov	ecx, eax
; Line 1259
	mov	eax, edi
; Line 1260
	and	eax, 1
; Line 1261
	cmp	eax, DWORD PTR _WorldBoolFlag
; Line 1262
	jne	SHORT $loc_463D36$85362
; Line 1263
	shr	ecx, 1
; Line 1264
	jae	SHORT $loc_463D0D$85363
; Line 1265
	inc	esi
; Line 1266
	inc	edi
; Line 1267
	test	ecx, ecx
; Line 1268
	je	SHORT $loc_463D6D$85364
; Line 1269
	jmp	SHORT $loc_463D46$85365
$loc_463D0D$85363:
; Line 1272
	shr	ecx, 1
; Line 1273
	jae	SHORT $loc_463D1D$85366
; Line 1274
	inc	esi
; Line 1275
	inc	edi
; Line 1276
	mov	al, BYTE PTR [esi]
; Line 1277
	inc	esi
; Line 1278
	mov	BYTE PTR [edi], al
; Line 1279
	inc	edi
; Line 1280
	test	ecx, ecx
; Line 1281
	je	SHORT $loc_463D6D$85364
$loc_463D1D$85366:
; Line 1283
	mov	eax, DWORD PTR [esi]
; Line 1284
	add	esi, 4
; Line 1285
	inc	edi
; Line 1286
	ror	eax, 8
; Line 1287
	mov	BYTE PTR [edi], al
; Line 1288
	add	edi, 2
; Line 1289
	ror	eax, 16					; 00000010H
; Line 1290
	mov	BYTE PTR [edi], al
; Line 1291
	inc	edi
; Line 1292
	dec	ecx
; Line 1293
	jne	SHORT $loc_463D1D$85366
; Line 1294
	jmp	SHORT $loc_463D6D$85364
$loc_463D36$85362:
; Line 1297
	shr	ecx, 1
; Line 1298
	jae	SHORT $loc_463D46$85365
; Line 1299
	mov	al, BYTE PTR [esi]
; Line 1300
	inc	esi
; Line 1301
	mov	BYTE PTR [edi], al
; Line 1302
	inc	edi
; Line 1303
	test	ecx, ecx
; Line 1304
	je	SHORT $loc_463D6D$85364
; Line 1305
	jmp	SHORT $loc_463D0D$85363
$loc_463D46$85365:
; Line 1308
	shr	ecx, 1
; Line 1309
	jae	SHORT $loc_463D58$85367
; Line 1310
	mov	al, BYTE PTR [esi]
; Line 1311
	add	esi, 2
; Line 1312
	mov	BYTE PTR [edi], al
; Line 1313
	add	edi, 2
; Line 1314
	test	ecx, ecx
; Line 1315
	je	SHORT $loc_463D6D$85364
$loc_463D58$85367:
; Line 1317
	mov	eax, DWORD PTR [esi]
; Line 1318
	add	esi, 4
; Line 1319
	mov	BYTE PTR [edi], al
; Line 1320
	add	edi, 2
; Line 1321
	ror	eax, 16					; 00000010H
; Line 1322
	mov	BYTE PTR [edi], al
; Line 1323
	add	edi, 2
; Line 1324
	dec	ecx
; Line 1325
	jne	SHORT $loc_463D58$85367
$loc_463D6D$85364:
; Line 1327
	test	edx, edx
; Line 1328
	je	SHORT $loc_463D82$85368
; Line 1329
	jmp	$loc_463CD7$85359
$loc_463D76$85360:
; Line 1332
	neg	al
; Line 1333
	add	edi, eax
; Line 1334
	sub	edx, eax
; Line 1335
	jne	$loc_463CD7$85359
$loc_463D82$85368:
; Line 1337
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1338
	inc	eax
; Line 1339
	and	eax, 1
; Line 1340
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1341
	sub	edi, 800				; 00000320H
; Line 1342
	dec	ebp
; Line 1343
	jne	$loc_463CD2$85358
$loc_463D9D$85361:
; Line 1345
	pop	ebp
; Line 1347
	jmp	$L85425
$L85352:
; Line 1203
	mov	edx, 16					; 00000010H
$loc_463C60$85353:
; Line 1205
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1206
	jb	SHORT $ret_464688_8S$85354
; Line 1207
	mov	ecx, 8
$loc_463C71$85355:
; Line 1209
	mov	eax, DWORD PTR [esi]
; Line 1210
	add	esi, 4
; Line 1211
	inc	edi
; Line 1212
	ror	eax, 8
; Line 1213
	mov	BYTE PTR [edi], al
; Line 1214
	add	edi, 2
; Line 1215
	ror	eax, 16					; 00000010H
; Line 1216
	mov	BYTE PTR [edi], al
; Line 1217
	inc	edi
; Line 1218
	dec	ecx
; Line 1219
	jne	SHORT $loc_463C71$85355
; Line 1220
	sub	edi, 800				; 00000320H
; Line 1221
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1222
	jb	SHORT $ret_464688_8S$85354
; Line 1223
	mov	ecx, 8
$loc_463C9F$85356:
; Line 1225
	mov	eax, DWORD PTR [esi]
; Line 1226
	add	esi, 4
; Line 1227
	mov	BYTE PTR [edi], al
; Line 1228
	add	edi, 2
; Line 1229
	ror	eax, 16					; 00000010H
; Line 1230
	mov	BYTE PTR [edi], al
; Line 1231
	add	edi, 2
; Line 1232
	dec	ecx
; Line 1233
	jne	SHORT $loc_463C9F$85356
; Line 1234
	sub	edi, 800				; 00000320H
; Line 1235
	dec	edx
; Line 1236
	jne	SHORT $loc_463C60$85353
$ret_464688_8S$85354:
; Line 1813
	jmp	$L85425
$L85195:
; Line 1815
	mov	eax, DWORD PTR _level_cel_block
	mov	ecx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L85419
; Line 1817
	mov	edx, eax
	and	eax, 61440				; 0000f000H
	and	edx, ecx
	shl	edx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx]
	mov	DWORD PTR _level_cel_block, eax
$L85419:
; Line 1818
	mov	edx, eax
	and	edx, ecx
	mov	ecx, DWORD PTR _pDungeonCels
; Line 1819
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+edx*4]
	and	eax, 7
	add	edx, ecx
	mov	DWORD PTR _src$[ebp], edx
; Line 1821
	xor	edx, edx
; Line 1822
	xor	ecx, ecx
; Line 1823
	mov	edi, DWORD PTR _dst$[ebp]
; Line 1824
	mov	esi, DWORD PTR _src$[ebp]
; Line 1827
	movsx	eax, ax
	sub	eax, 0
	je	$L85428
	dec	eax
	je	$L85433
	dec	eax
	je	$L85445
	dec	eax
	je	$L85458
	dec	eax
	je	$L85471
; Line 2243
	xor	eax, eax
; Line 2244
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 2245
	mov	edx, 30					; 0000001eH
$loc_4645D3$85483:
; Line 2247
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2248
	jb	$ret_464688_5B$85484
; Line 2249
	mov	ecx, 32					; 00000020H
; Line 2250
	sub	ecx, edx
; Line 2251
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 2252
	inc	eax
; Line 2253
	and	eax, 1
; Line 2254
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 2255
	je	SHORT $loc_464613$85485
; Line 2256
	xor	eax, eax
; Line 2257
	shr	ecx, 2
; Line 2258
	jae	SHORT $loc_464605$85486
; Line 2259
	inc	edi
; Line 2260
	mov	BYTE PTR [edi], al
; Line 2261
	inc	edi
; Line 2262
	test	ecx, ecx
; Line 2263
	je	SHORT $loc_46462E$85487
$loc_464605$85486:
; Line 2265
	mov	BYTE PTR [edi+1], al
; Line 2266
	mov	BYTE PTR [edi+3], al
; Line 2267
	add	edi, 4
; Line 2268
	dec	ecx
; Line 2269
	jne	SHORT $loc_464605$85486
; Line 2270
	jmp	SHORT $loc_46462E$85487
$loc_464613$85485:
; Line 2273
	xor	eax, eax
; Line 2274
	shr	ecx, 2
; Line 2275
	jae	SHORT $loc_464623$85488
; Line 2276
	mov	BYTE PTR [edi], al
; Line 2277
	add	edi, 2
; Line 2278
	test	ecx, ecx
; Line 2279
	je	SHORT $loc_46462E$85487
$loc_464623$85488:
; Line 2281
	mov	BYTE PTR [edi], al
; Line 2282
	mov	BYTE PTR [edi+2], al
; Line 2283
	add	edi, 4
; Line 2284
	dec	ecx
; Line 2285
	jne	SHORT $loc_464623$85488
$loc_46462E$85487:
; Line 2287
	sub	edi, 800				; 00000320H
; Line 2288
	test	edx, edx
; Line 2289
	je	SHORT $loc_46463F$85489
; Line 2290
	add	edi, edx
; Line 2291
	sub	edx, 2
; Line 2292
	jmp	SHORT $loc_4645D3$85483
$loc_46463F$85489:
; Line 2295
	mov	edx, 8
; Line 2296
	xor	eax, eax
$loc_464646$85490:
; Line 2298
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2299
	jb	SHORT $ret_464688_5B$85484
; Line 2300
	mov	ecx, 8
$loc_464653$85491:
; Line 2302
	mov	BYTE PTR [edi+1], al
; Line 2303
	mov	BYTE PTR [edi+3], al
; Line 2304
	add	edi, 4
; Line 2305
	dec	ecx
; Line 2306
	jne	SHORT $loc_464653$85491
; Line 2307
	sub	edi, 800				; 00000320H
; Line 2308
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2309
	jb	SHORT $ret_464688_5B$85484
; Line 2310
	mov	ecx, 8
$loc_464672$85492:
; Line 2312
	mov	BYTE PTR [edi], al
; Line 2313
	mov	BYTE PTR [edi+2], al
; Line 2314
	add	edi, 4
; Line 2315
	dec	ecx
; Line 2316
	jne	SHORT $loc_464672$85492
; Line 2317
	sub	edi, 800				; 00000320H
; Line 2318
	dec	edx
; Line 2319
	jne	SHORT $loc_464646$85490
$ret_464688_5B$85484:
; Line 2322
	jmp	$L85425
$L85471:
; Line 2161
	xor	eax, eax
; Line 2162
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 2163
	mov	edx, 30					; 0000001eH
$loc_464507$85472:
; Line 2165
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2166
	jb	$ret_464688_4B$85473
; Line 2167
	add	edi, edx
; Line 2168
	mov	ecx, 32					; 00000020H
; Line 2169
	sub	ecx, edx
; Line 2170
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 2171
	inc	eax
; Line 2172
	and	eax, 1
; Line 2173
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 2174
	je	SHORT $loc_464549$85474
; Line 2175
	xor	eax, eax
; Line 2176
	shr	ecx, 2
; Line 2177
	jae	SHORT $loc_46453B$85475
; Line 2178
	inc	edi
; Line 2179
	mov	BYTE PTR [edi], al
; Line 2180
	inc	edi
; Line 2181
	test	ecx, ecx
; Line 2182
	je	SHORT $loc_464564$85476
$loc_46453B$85475:
; Line 2184
	mov	BYTE PTR [edi+1], al
; Line 2185
	mov	BYTE PTR [edi+3], al
; Line 2186
	add	edi, 4
; Line 2187
	dec	ecx
; Line 2188
	jne	SHORT $loc_46453B$85475
; Line 2189
	jmp	SHORT $loc_464564$85476
$loc_464549$85474:
; Line 2192
	xor	eax, eax
; Line 2193
	shr	ecx, 2
; Line 2194
	jae	SHORT $loc_464559$85477
; Line 2195
	mov	BYTE PTR [edi], al
; Line 2196
	add	edi, 2
; Line 2197
	test	ecx, ecx
; Line 2198
	je	SHORT $loc_464564$85476
$loc_464559$85477:
; Line 2200
	mov	BYTE PTR [edi], al
; Line 2201
	mov	BYTE PTR [edi+2], al
; Line 2202
	add	edi, 4
; Line 2203
	dec	ecx
; Line 2204
	jne	SHORT $loc_464559$85477
$loc_464564$85476:
; Line 2206
	sub	edi, 800				; 00000320H
; Line 2207
	test	edx, edx
; Line 2208
	je	SHORT $loc_464573$85478
; Line 2209
	sub	edx, 2
; Line 2210
	jmp	SHORT $loc_464507$85472
$loc_464573$85478:
; Line 2213
	mov	edx, 8
; Line 2214
	xor	eax, eax
$loc_46457A$85479:
; Line 2216
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2217
	jb	SHORT $ret_464688_4B$85473
; Line 2218
	mov	ecx, 8
$loc_46458B$85480:
; Line 2220
	mov	BYTE PTR [edi+1], al
; Line 2221
	mov	BYTE PTR [edi+3], al
; Line 2222
	add	edi, 4
; Line 2223
	dec	ecx
; Line 2224
	jne	SHORT $loc_46458B$85480
; Line 2225
	sub	edi, 800				; 00000320H
; Line 2226
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2227
	jb	SHORT $ret_464688_4B$85473
; Line 2228
	mov	ecx, 8
$loc_4645AE$85481:
; Line 2230
	mov	BYTE PTR [edi], al
; Line 2231
	mov	BYTE PTR [edi+2], al
; Line 2232
	add	edi, 4
; Line 2233
	dec	ecx
; Line 2234
	jne	SHORT $loc_4645AE$85481
; Line 2235
	sub	edi, 800				; 00000320H
; Line 2236
	dec	edx
; Line 2237
	jne	SHORT $loc_46457A$85479
$ret_464688_4B$85473:
; Line 2240
	jmp	$L85425
$L85458:
; Line 2057
	xor	eax, eax
; Line 2058
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 2059
	mov	edx, 30					; 0000001eH
$loc_46441A$85459:
; Line 2061
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2062
	jb	$ret_464688_3B$85460
; Line 2063
	mov	ecx, 32					; 00000020H
; Line 2064
	sub	ecx, edx
; Line 2065
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 2066
	inc	eax
; Line 2067
	and	eax, 1
; Line 2068
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 2069
	je	SHORT $loc_46445A$85461
; Line 2070
	xor	eax, eax
; Line 2071
	shr	ecx, 2
; Line 2072
	jae	SHORT $loc_46444C$85462
; Line 2073
	inc	edi
; Line 2074
	mov	BYTE PTR [edi], al
; Line 2075
	inc	edi
; Line 2076
	test	ecx, ecx
; Line 2077
	je	SHORT $loc_464475$85463
$loc_46444C$85462:
; Line 2079
	mov	BYTE PTR [edi+1], al
; Line 2080
	mov	BYTE PTR [edi+3], al
; Line 2081
	add	edi, 4
; Line 2082
	dec	ecx
; Line 2083
	jne	SHORT $loc_46444C$85462
; Line 2084
	jmp	SHORT $loc_464475$85463
$loc_46445A$85461:
; Line 2087
	xor	eax, eax
; Line 2088
	shr	ecx, 2
; Line 2089
	jae	SHORT $loc_46446A$85464
; Line 2090
	mov	BYTE PTR [edi], al
; Line 2091
	add	edi, 2
; Line 2092
	test	ecx, ecx
; Line 2093
	je	SHORT $loc_464475$85463
$loc_46446A$85464:
; Line 2095
	mov	BYTE PTR [edi], al
; Line 2096
	mov	BYTE PTR [edi+2], al
; Line 2097
	add	edi, 4
; Line 2098
	dec	ecx
; Line 2099
	jne	SHORT $loc_46446A$85464
$loc_464475$85463:
; Line 2101
	sub	edi, 800				; 00000320H
; Line 2102
	test	edx, edx
; Line 2103
	je	SHORT $loc_464486$85465
; Line 2104
	add	edi, edx
; Line 2105
	sub	edx, 2
; Line 2106
	jmp	SHORT $loc_46441A$85459
$loc_464486$85465:
; Line 2109
	mov	edx, 2
$loc_46448B$85466:
; Line 2111
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2112
	jb	SHORT $ret_464688_3B$85460
; Line 2113
	mov	ecx, 32					; 00000020H
; Line 2114
	sub	ecx, edx
; Line 2115
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 2116
	inc	eax
; Line 2117
	and	eax, 1
; Line 2118
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 2119
	je	SHORT $loc_4644CB$85467
; Line 2120
	xor	eax, eax
; Line 2121
	shr	ecx, 2
; Line 2122
	jae	SHORT $loc_4644BD$85468
; Line 2123
	inc	edi
; Line 2124
	mov	BYTE PTR [edi], al
; Line 2125
	inc	edi
; Line 2126
	test	ecx, ecx
; Line 2127
	je	SHORT $loc_4644E6$85469
$loc_4644BD$85468:
; Line 2129
	mov	BYTE PTR [edi+1], al
; Line 2130
	mov	BYTE PTR [edi+3], al
; Line 2131
	add	edi, 4
; Line 2132
	dec	ecx
; Line 2133
	jne	SHORT $loc_4644BD$85468
; Line 2134
	jmp	SHORT $loc_4644E6$85469
$loc_4644CB$85467:
; Line 2137
	xor	eax, eax
; Line 2138
	shr	ecx, 2
; Line 2139
	jae	SHORT $loc_4644DB$85470
; Line 2140
	mov	BYTE PTR [edi], al
; Line 2141
	add	edi, 2
; Line 2142
	test	ecx, ecx
; Line 2143
	je	SHORT $loc_4644E6$85469
$loc_4644DB$85470:
; Line 2145
	mov	BYTE PTR [edi], al
; Line 2146
	mov	BYTE PTR [edi+2], al
; Line 2147
	add	edi, 4
; Line 2148
	dec	ecx
; Line 2149
	jne	SHORT $loc_4644DB$85470
$loc_4644E6$85469:
; Line 2151
	sub	edi, 800				; 00000320H
; Line 2152
	add	edi, edx
; Line 2153
	add	edx, 2
; Line 2154
	cmp	edx, 32					; 00000020H
; Line 2155
	jne	SHORT $loc_46448B$85466
$ret_464688_3B$85460:
; Line 2158
	jmp	$L85425
$L85445:
; Line 1953
	xor	eax, eax
; Line 1954
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1955
	mov	edx, 30					; 0000001eH
$loc_46432D$85446:
; Line 1957
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1958
	jb	$ret_464688_2B$85447
; Line 1959
	add	edi, edx
; Line 1960
	mov	ecx, 32					; 00000020H
; Line 1961
	sub	ecx, edx
; Line 1962
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1963
	inc	eax
; Line 1964
	and	eax, 1
; Line 1965
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1966
	je	SHORT $loc_46436F$85448
; Line 1967
	xor	eax, eax
; Line 1968
	shr	ecx, 2
; Line 1969
	jae	SHORT $loc_464361$85449
; Line 1970
	inc	edi
; Line 1971
	mov	BYTE PTR [edi], al
; Line 1972
	inc	edi
; Line 1973
	test	ecx, ecx
; Line 1974
	je	SHORT $loc_46438A$85450
$loc_464361$85449:
; Line 1976
	mov	BYTE PTR [edi+1], al
; Line 1977
	mov	BYTE PTR [edi+3], al
; Line 1978
	add	edi, 4
; Line 1979
	dec	ecx
; Line 1980
	jne	SHORT $loc_464361$85449
; Line 1981
	jmp	SHORT $loc_46438A$85450
$loc_46436F$85448:
; Line 1984
	xor	eax, eax
; Line 1985
	shr	ecx, 2
; Line 1986
	jae	SHORT $loc_46437F$85451
; Line 1987
	mov	BYTE PTR [edi], al
; Line 1988
	add	edi, 2
; Line 1989
	test	ecx, ecx
; Line 1990
	je	SHORT $loc_46438A$85450
$loc_46437F$85451:
; Line 1992
	mov	BYTE PTR [edi], al
; Line 1993
	mov	BYTE PTR [edi+2], al
; Line 1994
	add	edi, 4
; Line 1995
	dec	ecx
; Line 1996
	jne	SHORT $loc_46437F$85451
$loc_46438A$85450:
; Line 1998
	sub	edi, 800				; 00000320H
; Line 1999
	test	edx, edx
; Line 2000
	je	SHORT $loc_464399$85452
; Line 2001
	sub	edx, 2
; Line 2002
	jmp	SHORT $loc_46432D$85446
$loc_464399$85452:
; Line 2005
	mov	edx, 2
$loc_46439E$85453:
; Line 2007
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2008
	jb	SHORT $ret_464688_2B$85447
; Line 2009
	add	edi, edx
; Line 2010
	mov	ecx, 32					; 00000020H
; Line 2011
	sub	ecx, edx
; Line 2012
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 2013
	inc	eax
; Line 2014
	and	eax, 1
; Line 2015
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 2016
	je	SHORT $loc_4643E0$85454
; Line 2017
	xor	eax, eax
; Line 2018
	shr	ecx, 2
; Line 2019
	jae	SHORT $loc_4643D2$85455
; Line 2020
	inc	edi
; Line 2021
	mov	BYTE PTR [edi], al
; Line 2022
	inc	edi
; Line 2023
	test	ecx, ecx
; Line 2024
	je	SHORT $loc_4643FB$85456
$loc_4643D2$85455:
; Line 2026
	mov	BYTE PTR [edi+1], al
; Line 2027
	mov	BYTE PTR [edi+3], al
; Line 2028
	add	edi, 4
; Line 2029
	dec	ecx
; Line 2030
	jne	SHORT $loc_4643D2$85455
; Line 2031
	jmp	SHORT $loc_4643FB$85456
$loc_4643E0$85454:
; Line 2034
	xor	eax, eax
; Line 2035
	shr	ecx, 2
; Line 2036
	jae	SHORT $loc_4643F0$85457
; Line 2037
	mov	BYTE PTR [edi], al
; Line 2038
	add	edi, 2
; Line 2039
	test	ecx, ecx
; Line 2040
	je	SHORT $loc_4643FB$85456
$loc_4643F0$85457:
; Line 2042
	mov	BYTE PTR [edi], al
; Line 2043
	mov	BYTE PTR [edi+2], al
; Line 2044
	add	edi, 4
; Line 2045
	dec	ecx
; Line 2046
	jne	SHORT $loc_4643F0$85457
$loc_4643FB$85456:
; Line 2048
	sub	edi, 800				; 00000320H
; Line 2049
	add	edx, 2
; Line 2050
	cmp	edx, 32					; 00000020H
; Line 2051
	jne	SHORT $loc_46439E$85453
$ret_464688_2B$85447:
; Line 2054
	jmp	$L85425
$L85433:
; Line 1860
	push	ebp
; Line 1861
	mov	eax, edi
; Line 1862
	and	eax, 1
; Line 1863
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1864
	mov	ebp, 32					; 00000020H
$loc_464273$85434:
; Line 1866
	mov	edx, 32					; 00000020H
$loc_464278$85435:
; Line 1868
	xor	eax, eax
; Line 1869
	mov	al, BYTE PTR [esi]
; Line 1870
	inc	esi
; Line 1871
	test	al, al
; Line 1872
	js	SHORT $loc_4642F4$85436
; Line 1873
	sub	edx, eax
; Line 1874
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1875
	jb	$loc_46431B$85437
; Line 1876
	mov	ecx, eax
; Line 1877
	add	esi, ecx
; Line 1878
	mov	eax, edi
; Line 1879
	and	eax, 1
; Line 1880
	cmp	eax, DWORD PTR _WorldBoolFlag
; Line 1881
	jne	SHORT $loc_4642C7$85438
; Line 1882
	xor	eax, eax
; Line 1883
	shr	ecx, 1
; Line 1884
	jae	SHORT $loc_4642AD$85439
; Line 1885
	inc	edi
; Line 1886
	test	ecx, ecx
; Line 1887
	je	SHORT $loc_4642EE$85440
; Line 1888
	jmp	SHORT $loc_4642D6$85441
$loc_4642AD$85439:
; Line 1891
	shr	ecx, 1
; Line 1892
	jae	SHORT $loc_4642B9$85442
; Line 1893
	inc	edi
; Line 1894
	mov	BYTE PTR [edi], al
; Line 1895
	inc	edi
; Line 1896
	test	ecx, ecx
; Line 1897
	je	SHORT $loc_4642EE$85440
$loc_4642B9$85442:
; Line 1899
	mov	BYTE PTR [edi+1], al
; Line 1900
	mov	BYTE PTR [edi+3], al
; Line 1901
	add	edi, 4
; Line 1902
	dec	ecx
; Line 1903
	jne	SHORT $loc_4642B9$85442
; Line 1904
	jmp	SHORT $loc_4642EE$85440
$loc_4642C7$85438:
; Line 1907
	xor	eax, eax
; Line 1908
	shr	ecx, 1
; Line 1909
	jae	SHORT $loc_4642D6$85441
; Line 1910
	mov	BYTE PTR [edi], al
; Line 1911
	inc	edi
; Line 1912
	test	ecx, ecx
; Line 1913
	je	SHORT $loc_4642EE$85440
; Line 1914
	jmp	SHORT $loc_4642AD$85439
$loc_4642D6$85441:
; Line 1917
	shr	ecx, 1
; Line 1918
	jae	SHORT $loc_4642E3$85443
; Line 1919
	mov	BYTE PTR [edi], al
; Line 1920
	add	edi, 2
; Line 1921
	test	ecx, ecx
; Line 1922
	je	SHORT $loc_4642EE$85440
$loc_4642E3$85443:
; Line 1924
	mov	BYTE PTR [edi], al
; Line 1925
	mov	BYTE PTR [edi+2], al
; Line 1926
	add	edi, 4
; Line 1927
	dec	ecx
; Line 1928
	jne	SHORT $loc_4642E3$85443
$loc_4642EE$85440:
; Line 1930
	test	edx, edx
; Line 1931
	je	SHORT $loc_464300$85444
; Line 1932
	jmp	SHORT $loc_464278$85435
$loc_4642F4$85436:
; Line 1935
	neg	al
; Line 1936
	add	edi, eax
; Line 1937
	sub	edx, eax
; Line 1938
	jne	$loc_464278$85435
$loc_464300$85444:
; Line 1940
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 1941
	inc	eax
; Line 1942
	and	eax, 1
; Line 1943
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 1944
	sub	edi, 800				; 00000320H
; Line 1945
	dec	ebp
; Line 1946
	jne	$loc_464273$85434
$loc_46431B$85437:
; Line 1948
	pop	ebp
; Line 1950
	jmp	SHORT $L85425
$L85428:
; Line 1830
	mov	edx, 16					; 00000010H
; Line 1831
	xor	eax, eax
$loc_464216$85429:
; Line 1833
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1834
	jb	SHORT $ret_464688_0B$85430
; Line 1835
	mov	ecx, 8
$loc_464227$85431:
; Line 1837
	mov	BYTE PTR [edi+1], al
; Line 1838
	mov	BYTE PTR [edi+3], al
; Line 1839
	add	edi, 4
; Line 1840
	dec	ecx
; Line 1841
	jne	SHORT $loc_464227$85431
; Line 1842
	sub	edi, 800				; 00000320H
; Line 1843
	cmp	edi, DWORD PTR _gpBufEnd
; Line 1844
	jb	SHORT $ret_464688_0B$85430
; Line 1845
	mov	ecx, 8
$loc_46424A$85432:
; Line 1847
	mov	BYTE PTR [edi], al
; Line 1848
	mov	BYTE PTR [edi+2], al
; Line 1849
	add	edi, 4
; Line 1850
	dec	ecx
; Line 1851
	jne	SHORT $loc_46424A$85432
; Line 1852
	sub	edi, 800				; 00000320H
; Line 1853
	dec	edx
; Line 1854
	jne	SHORT $loc_464216$85429
$ret_464688_0B$85430:
$L85425:
; Line 2324
	pop	edi
	pop	esi
	pop	ebx
	leave
	ret	0
@drawTopArchesUpperScreen@4 ENDP
_TEXT	ENDS
PUBLIC	@drawBottomArchesUpperScreen@8
; Function compile flags: /Ogsy
;	COMDAT @drawBottomArchesUpperScreen@8
_TEXT	SEGMENT
_dst$ = -8
_src$ = -4
_tbl$ = -12
@drawBottomArchesUpperScreen@8 PROC NEAR		; COMDAT
; _pbDst$ = ecx
; _pMask$ = edx
; Line 2327
	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
; Line 2336
	mov	eax, DWORD PTR _light_table_index
	push	ebx
	push	esi
	push	edi
	test	al, al
	mov	DWORD PTR _gpCelFrame, OFFSET FLAT:_speed_cel_frame_num_from_light_index_frame_num
	mov	DWORD PTR _dst$[ebp], ecx
	mov	DWORD PTR _gpDrawMask, edx
	jne	SHORT $L85504
; Line 2338
	mov	eax, DWORD PTR _level_cel_block
	mov	ecx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L85505
; Line 2340
	mov	edx, eax
	and	eax, 61440				; 0000f000H
	and	edx, ecx
	shl	edx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx]
	mov	DWORD PTR _level_cel_block, eax
$L85505:
; Line 2341
	mov	edx, eax
	and	edx, ecx
	mov	ecx, DWORD PTR _pDungeonCels
; Line 2342
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+edx*4]
	and	eax, 7
	add	edx, ecx
	add	eax, 8
	mov	DWORD PTR _src$[ebp], edx
	jmp	$LABEL_12$85510
$L85504:
; Line 2693
	movsx	ecx, BYTE PTR _lightmax
	movzx	edx, al
	cmp	edx, ecx
	je	$L85565
; Line 2695
	mov	ecx, DWORD PTR _level_cel_block
	test	ch, ch
	js	$L85566
; Line 2697
	mov	edx, DWORD PTR _pDungeonCels
	mov	esi, ecx
	and	esi, 4095				; 00000fffH
; Line 2698
	shl	eax, 8
	mov	esi, DWORD PTR [edx+esi*4]
	add	eax, DWORD PTR _pLightTbl
	add	esi, edx
; Line 2699
	shr	ecx, 12					; 0000000cH
	mov	DWORD PTR _tbl$[ebp], eax
	mov	DWORD PTR _src$[ebp], esi
	mov	eax, ecx
; Line 2701
	xor	edx, edx
; Line 2702
	xor	ecx, ecx
; Line 2703
	mov	ebx, DWORD PTR _tbl$[ebp]
; Line 2704
	mov	edi, DWORD PTR _dst$[ebp]
; Line 2705
	mov	esi, DWORD PTR _src$[ebp]
; Line 2708
	movsx	eax, ax
	sub	eax, 0
	je	$L85575
	dec	eax
	je	$L85580
	dec	eax
	je	$L85589
	dec	eax
	je	$L85597
	dec	eax
	je	$L85607
; Line 3051
	push	ebp
; Line 3052
	mov	edx, 30					; 0000001eH
$loc_464BC2$85616:
; Line 3054
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3055
	jb	$loc_464C74$85617
; Line 3056
	mov	ecx, 32					; 00000020H
; Line 3057
	sub	ecx, edx
; Line 3058
	mov	ebp, ecx
; Line 3059
	shr	ecx, 2
; Line 3060
	je	SHORT $loc_464BF9$85618
$loc_464BDC$85619:
; Line 3062
	mov	eax, DWORD PTR [esi]
; Line 3063
	add	esi, 4
; Line 3064
	xlat
; Line 3065
	ror	eax, 8
; Line 3066
	xlat
; Line 3067
	ror	eax, 8
; Line 3068
	xlat
; Line 3069
	ror	eax, 8
; Line 3070
	xlat
; Line 3071
	ror	eax, 8
; Line 3072
	mov	DWORD PTR [edi], eax
; Line 3073
	add	edi, 4
; Line 3074
	dec	ecx
; Line 3075
	jne	SHORT $loc_464BDC$85619
$loc_464BF9$85618:
; Line 3077
	and	ebp, 2
; Line 3078
	je	SHORT $loc_464C14$85620
; Line 3079
	mov	ax, WORD PTR [esi]
; Line 3080
	add	esi, 4
; Line 3081
	xlat
; Line 3082
	ror	ax, 8
; Line 3083
	xlat
; Line 3084
	ror	ax, 8
; Line 3085
	mov	WORD PTR [edi], ax
; Line 3086
	add	edi, 2
$loc_464C14$85620:
; Line 3088
	sub	edi, 800				; 00000320H
; Line 3089
	add	edi, edx
; Line 3090
	sub	edx, 2
; Line 3091
	jge	SHORT $loc_464BC2$85616
; Line 3092
	mov	eax, DWORD PTR _gpDrawMask
; Line 3093
	sub	eax, 64					; 00000040H
; Line 3094
	mov	DWORD PTR _gpDrawMask, eax
; Line 3095
	mov	edx, 16					; 00000010H
$loc_464C33$85621:
; Line 3097
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3098
	jb	SHORT $loc_464C74$85617
; Line 3099
	push	edx
; Line 3100
	mov	eax, DWORD PTR _gpDrawMask
; Line 3101
	mov	edx, DWORD PTR [eax]
; Line 3102
	mov	ecx, 32					; 00000020H
$loc_464C48$85622:
; Line 3104
	mov	al, BYTE PTR [esi]
; Line 3105
	inc	esi
; Line 3106
	shl	edx, 1
; Line 3107
	jae	SHORT $loc_464C52$85623
; Line 3108
	xlat
; Line 3109
	mov	BYTE PTR [edi], al
$loc_464C52$85623:
; Line 3111
	inc	edi
; Line 3112
	dec	ecx
; Line 3113
	jne	SHORT $loc_464C48$85622
; Line 3114
	mov	ebp, esi
; Line 3115
	and	ebp, 2
; Line 3116
	add	esi, ebp
; Line 3117
	pop	edx
; Line 3118
	sub	edi, 800				; 00000320H
; Line 3119
	mov	eax, DWORD PTR _gpDrawMask
; Line 3120
	sub	eax, 4
; Line 3121
	mov	DWORD PTR _gpDrawMask, eax
; Line 3122
	dec	edx
; Line 3123
	jne	SHORT $loc_464C33$85621
$loc_464C74$85617:
; Line 3125
	pop	ebp
; Line 3127
	jmp	$L85633
$L85607:
; Line 2976
	mov	edx, 30					; 0000001eH
$loc_464B03$85608:
; Line 2978
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2979
	jb	$ret_4652C1_4L$85609
; Line 2980
	add	edi, edx
; Line 2981
	mov	ecx, 32					; 00000020H
; Line 2982
	sub	ecx, edx
; Line 2983
	shr	ecx, 2
; Line 2984
	jae	SHORT $loc_464B38$85610
; Line 2985
	mov	ax, WORD PTR [esi+2]
; Line 2986
	add	esi, 4
; Line 2987
	xlat
; Line 2988
	ror	ax, 8
; Line 2989
	xlat
; Line 2990
	ror	ax, 8
; Line 2991
	mov	WORD PTR [edi], ax
; Line 2992
	add	edi, 2
; Line 2993
	test	ecx, ecx
; Line 2994
	je	SHORT $loc_464B55$85611
$loc_464B38$85610:
; Line 2996
	mov	eax, DWORD PTR [esi]
; Line 2997
	add	esi, 4
; Line 2998
	xlat
; Line 2999
	ror	eax, 8
; Line 3000
	xlat
; Line 3001
	ror	eax, 8
; Line 3002
	xlat
; Line 3003
	ror	eax, 8
; Line 3004
	xlat
; Line 3005
	ror	eax, 8
; Line 3006
	mov	DWORD PTR [edi], eax
; Line 3007
	add	edi, 4
; Line 3008
	dec	ecx
; Line 3009
	jne	SHORT $loc_464B38$85610
$loc_464B55$85611:
; Line 3011
	sub	edi, 800				; 00000320H
; Line 3012
	sub	edx, 2
; Line 3013
	jge	SHORT $loc_464B03$85608
; Line 3014
	mov	eax, DWORD PTR _gpDrawMask
; Line 3015
	sub	eax, 64					; 00000040H
; Line 3016
	mov	DWORD PTR _gpDrawMask, eax
; Line 3017
	mov	edx, 16					; 00000010H
$loc_464B72$85612:
; Line 3019
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3020
	jb	SHORT $ret_4652C1_4L$85609
; Line 3021
	push	edx
; Line 3022
	mov	eax, DWORD PTR _gpDrawMask
; Line 3023
	mov	edx, DWORD PTR [eax]
; Line 3024
	mov	ecx, 32					; 00000020H
; Line 3025
	mov	eax, esi
; Line 3026
	and	eax, 2
; Line 3027
	add	esi, eax
$loc_464B92$85613:
; Line 3029
	mov	al, BYTE PTR [esi]
; Line 3030
	inc	esi
; Line 3031
	shl	edx, 1
; Line 3032
	jae	SHORT $loc_464B9C$85614
; Line 3033
	xlat
; Line 3034
	mov	BYTE PTR [edi], al
$loc_464B9C$85614:
; Line 3036
	inc	edi
; Line 3037
	dec	ecx
; Line 3038
	jne	SHORT $loc_464B92$85613
; Line 3039
	pop	edx
; Line 3040
	sub	edi, 800				; 00000320H
; Line 3041
	mov	eax, DWORD PTR _gpDrawMask
; Line 3042
	sub	eax, 4
; Line 3043
	mov	DWORD PTR _gpDrawMask, eax
; Line 3044
	dec	edx
; Line 3045
	jne	SHORT $loc_464B72$85612
$ret_4652C1_4L$85609:
; Line 3048
	jmp	$L85633
$L85597:
; Line 2888
	push	ebp
; Line 2889
	mov	edx, 30					; 0000001eH
$loc_464A36$85598:
; Line 2891
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2892
	jb	$loc_464AF8$85599
; Line 2893
	mov	ecx, 32					; 00000020H
; Line 2894
	sub	ecx, edx
; Line 2895
	mov	ebp, ecx
; Line 2896
	shr	ecx, 2
; Line 2897
	je	SHORT $loc_464A6D$85600
$loc_464A50$85601:
; Line 2899
	mov	eax, DWORD PTR [esi]
; Line 2900
	add	esi, 4
; Line 2901
	xlat
; Line 2902
	ror	eax, 8
; Line 2903
	xlat
; Line 2904
	ror	eax, 8
; Line 2905
	xlat
; Line 2906
	ror	eax, 8
; Line 2907
	xlat
; Line 2908
	ror	eax, 8
; Line 2909
	mov	DWORD PTR [edi], eax
; Line 2910
	add	edi, 4
; Line 2911
	dec	ecx
; Line 2912
	jne	SHORT $loc_464A50$85601
$loc_464A6D$85600:
; Line 2914
	and	ebp, 2
; Line 2915
	je	SHORT $loc_464A88$85602
; Line 2916
	mov	ax, WORD PTR [esi]
; Line 2917
	add	esi, 4
; Line 2918
	xlat
; Line 2919
	ror	ax, 8
; Line 2920
	xlat
; Line 2921
	ror	ax, 8
; Line 2922
	mov	WORD PTR [edi], ax
; Line 2923
	add	edi, 2
$loc_464A88$85602:
; Line 2925
	sub	edi, 800				; 00000320H
; Line 2926
	add	edi, edx
; Line 2927
	sub	edx, 2
; Line 2928
	jge	SHORT $loc_464A36$85598
; Line 2929
	mov	edx, 2
$loc_464A9A$85603:
; Line 2931
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2932
	jb	SHORT $loc_464AF8$85599
; Line 2933
	mov	ecx, 32					; 00000020H
; Line 2934
	sub	ecx, edx
; Line 2935
	mov	ebp, ecx
; Line 2936
	shr	ecx, 2
; Line 2937
	je	SHORT $loc_464ACD$85604
$loc_464AB0$85605:
; Line 2939
	mov	eax, DWORD PTR [esi]
; Line 2940
	add	esi, 4
; Line 2941
	xlat
; Line 2942
	ror	eax, 8
; Line 2943
	xlat
; Line 2944
	ror	eax, 8
; Line 2945
	xlat
; Line 2946
	ror	eax, 8
; Line 2947
	xlat
; Line 2948
	ror	eax, 8
; Line 2949
	mov	DWORD PTR [edi], eax
; Line 2950
	add	edi, 4
; Line 2951
	dec	ecx
; Line 2952
	jne	SHORT $loc_464AB0$85605
$loc_464ACD$85604:
; Line 2954
	and	ebp, 2
; Line 2955
	je	SHORT $loc_464AE8$85606
; Line 2956
	mov	ax, WORD PTR [esi]
; Line 2957
	add	esi, 4
; Line 2958
	xlat
; Line 2959
	ror	ax, 8
; Line 2960
	xlat
; Line 2961
	ror	ax, 8
; Line 2962
	mov	WORD PTR [edi], ax
; Line 2963
	add	edi, 2
$loc_464AE8$85606:
; Line 2965
	sub	edi, 800				; 00000320H
; Line 2966
	add	edi, edx
; Line 2967
	add	edx, 2
; Line 2968
	cmp	edx, 32					; 00000020H
; Line 2969
	jne	SHORT $loc_464A9A$85603
$loc_464AF8$85599:
; Line 2971
	pop	ebp
; Line 2973
	jmp	$L85633
$L85589:
; Line 2806
	mov	edx, 30					; 0000001eH
$loc_464969$85590:
; Line 2808
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2809
	jb	$ret_4652C1_2L$85591
; Line 2810
	add	edi, edx
; Line 2811
	mov	ecx, 32					; 00000020H
; Line 2812
	sub	ecx, edx
; Line 2813
	shr	ecx, 2
; Line 2814
	jae	SHORT $loc_46499E$85592
; Line 2815
	mov	ax, WORD PTR [esi+2]
; Line 2816
	add	esi, 4
; Line 2817
	xlat
; Line 2818
	ror	ax, 8
; Line 2819
	xlat
; Line 2820
	ror	ax, 8
; Line 2821
	mov	WORD PTR [edi], ax
; Line 2822
	add	edi, 2
; Line 2823
	test	ecx, ecx
; Line 2824
	je	SHORT $loc_4649BB$85593
$loc_46499E$85592:
; Line 2826
	mov	eax, DWORD PTR [esi]
; Line 2827
	add	esi, 4
; Line 2828
	xlat
; Line 2829
	ror	eax, 8
; Line 2830
	xlat
; Line 2831
	ror	eax, 8
; Line 2832
	xlat
; Line 2833
	ror	eax, 8
; Line 2834
	xlat
; Line 2835
	ror	eax, 8
; Line 2836
	mov	DWORD PTR [edi], eax
; Line 2837
	add	edi, 4
; Line 2838
	dec	ecx
; Line 2839
	jne	SHORT $loc_46499E$85592
$loc_4649BB$85593:
; Line 2841
	sub	edi, 800				; 00000320H
; Line 2842
	sub	edx, 2
; Line 2843
	jge	SHORT $loc_464969$85590
; Line 2844
	mov	edx, 2
$loc_4649CB$85594:
; Line 2846
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2847
	jb	SHORT $ret_4652C1_2L$85591
; Line 2848
	add	edi, edx
; Line 2849
	mov	ecx, 32					; 00000020H
; Line 2850
	sub	ecx, edx
; Line 2851
	shr	ecx, 2
; Line 2852
	jae	SHORT $loc_464A00$85595
; Line 2853
	mov	ax, WORD PTR [esi+2]
; Line 2854
	add	esi, 4
; Line 2855
	xlat
; Line 2856
	ror	ax, 8
; Line 2857
	xlat
; Line 2858
	ror	ax, 8
; Line 2859
	mov	WORD PTR [edi], ax
; Line 2860
	add	edi, 2
; Line 2861
	test	ecx, ecx
; Line 2862
	je	SHORT $loc_464A1D$85596
$loc_464A00$85595:
; Line 2864
	mov	eax, DWORD PTR [esi]
; Line 2865
	add	esi, 4
; Line 2866
	xlat
; Line 2867
	ror	eax, 8
; Line 2868
	xlat
; Line 2869
	ror	eax, 8
; Line 2870
	xlat
; Line 2871
	ror	eax, 8
; Line 2872
	xlat
; Line 2873
	ror	eax, 8
; Line 2874
	mov	DWORD PTR [edi], eax
; Line 2875
	add	edi, 4
; Line 2876
	dec	ecx
; Line 2877
	jne	SHORT $loc_464A00$85595
$loc_464A1D$85596:
; Line 2879
	sub	edi, 800				; 00000320H
; Line 2880
	add	edx, 2
; Line 2881
	cmp	edx, 32					; 00000020H
; Line 2882
	jne	SHORT $loc_4649CB$85594
$ret_4652C1_2L$85591:
; Line 2885
	jmp	$L85633
$L85580:
; Line 2742
	mov	ecx, 32					; 00000020H
$loc_4648DA$85581:
; Line 2744
	push	ecx
; Line 2745
	mov	eax, DWORD PTR _gpDrawMask
; Line 2746
	mov	eax, DWORD PTR [eax]
; Line 2747
	mov	DWORD PTR _gdwCurrentMask, eax
; Line 2748
	mov	edx, 32					; 00000020H
$loc_4648EC$85582:
; Line 2750
	xor	eax, eax
; Line 2751
	mov	al, BYTE PTR [esi]
; Line 2752
	inc	esi
; Line 2753
	test	al, al
; Line 2754
	js	SHORT $loc_464927$85583
; Line 2755
	sub	edx, eax
; Line 2756
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2757
	jb	SHORT $ret_4652C0_1L$85584
; Line 2758
	mov	ecx, eax
; Line 2759
	push	edx
; Line 2760
	mov	edx, DWORD PTR _gdwCurrentMask
$loc_46490C$85585:
; Line 2762
	mov	al, BYTE PTR [esi]
; Line 2763
	inc	esi
; Line 2764
	shl	edx, 1
; Line 2765
	jae	SHORT $loc_464916$85586
; Line 2766
	xlat
; Line 2767
	mov	BYTE PTR [edi], al
$loc_464916$85586:
; Line 2769
	inc	edi
; Line 2770
	dec	ecx
; Line 2771
	jne	SHORT $loc_46490C$85585
; Line 2772
	mov	DWORD PTR _gdwCurrentMask, edx
; Line 2773
	pop	edx
; Line 2774
	test	edx, edx
; Line 2775
	je	SHORT $loc_464944$85587
; Line 2776
	jmp	SHORT $loc_4648EC$85582
$loc_464927$85583:
; Line 2779
	neg	al
; Line 2780
	add	edi, eax
; Line 2781
	mov	ecx, eax
; Line 2782
	and	ecx, 31					; 0000001fH
; Line 2783
	je	SHORT $loc_464940$85588
; Line 2784
	push	eax
; Line 2785
	mov	eax, DWORD PTR _gdwCurrentMask
; Line 2786
	shl	eax, cl
; Line 2787
	mov	DWORD PTR _gdwCurrentMask, eax
; Line 2788
	pop	eax
$loc_464940$85588:
; Line 2790
	sub	edx, eax
; Line 2791
	jne	SHORT $loc_4648EC$85582
$loc_464944$85587:
; Line 2793
	pop	ecx
; Line 2794
	sub	edi, 800				; 00000320H
; Line 2795
	mov	eax, DWORD PTR _gpDrawMask
; Line 2796
	sub	eax, 4
; Line 2797
	mov	DWORD PTR _gpDrawMask, eax
; Line 2798
	dec	ecx
; Line 2799
	jne	SHORT $loc_4648DA$85581
$ret_4652C0_1L$85584:
; Line 2801
	pop	eax
; Line 2803
	jmp	$L85633
$L85575:
; Line 2711
	mov	edx, 32					; 00000020H
$loc_464892$85576:
; Line 2713
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2714
	jb	SHORT $ret_4652C1_0L$85577
; Line 2715
	push	edx
; Line 2716
	mov	eax, DWORD PTR _gpDrawMask
; Line 2717
	mov	edx, DWORD PTR [eax]
; Line 2718
	mov	ecx, 32					; 00000020H
$loc_4648AB$85578:
; Line 2720
	mov	al, BYTE PTR [esi]
; Line 2721
	inc	esi
; Line 2722
	shl	edx, 1
; Line 2723
	jae	SHORT $loc_4648B5$85579
; Line 2724
	xlat
; Line 2725
	mov	BYTE PTR [edi], al
$loc_4648B5$85579:
; Line 2727
	inc	edi
; Line 2728
	dec	ecx
; Line 2729
	jne	SHORT $loc_4648AB$85578
; Line 2730
	pop	edx
; Line 2731
	sub	edi, 800				; 00000320H
; Line 2732
	mov	eax, DWORD PTR _gpDrawMask
; Line 2733
	sub	eax, 4
; Line 2734
	mov	DWORD PTR _gpDrawMask, eax
; Line 2735
	dec	edx
; Line 2736
	jne	SHORT $loc_464892$85576
$ret_4652C1_0L$85577:
; Line 3129
	jmp	$L85633
$L85566:
; Line 3132
	mov	edx, ecx
	and	edx, 4095				; 00000fffH
	shl	edx, 4
	add	edx, eax
	mov	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx*4]
	add	eax, DWORD PTR _pSpeedCels
; Line 3133
	shr	ecx, 12					; 0000000cH
	mov	DWORD PTR _src$[ebp], eax
	mov	eax, ecx
$LABEL_12$85510:
; Line 2345
	xor	edx, edx
; Line 2346
	xor	ecx, ecx
; Line 2347
	mov	edi, DWORD PTR _dst$[ebp]
; Line 2348
	mov	esi, DWORD PTR _src$[ebp]
; Line 3133
	movsx	eax, ax
	sub	eax, 8
	je	$L85515
; Line 2351
	dec	eax
	je	$L85520
	dec	eax
	je	$L85529
	dec	eax
	je	$L85537
	dec	eax
	je	$L85547
; Line 2626
	push	ebp
; Line 2627
	mov	edx, 30					; 0000001eH
$loc_464F1F$85556:
; Line 2629
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2630
	jb	$loc_464FB6$85557
; Line 2631
	mov	ecx, 32					; 00000020H
; Line 2632
	sub	ecx, edx
; Line 2633
	mov	ebp, ecx
; Line 2634
	shr	ecx, 2
; Line 2635
	je	SHORT $loc_464F46$85558
$loc_464F39$85559:
; Line 2637
	mov	eax, DWORD PTR [esi]
; Line 2638
	add	esi, 4
; Line 2639
	mov	DWORD PTR [edi], eax
; Line 2640
	add	edi, 4
; Line 2641
	dec	ecx
; Line 2642
	jne	SHORT $loc_464F39$85559
$loc_464F46$85558:
; Line 2644
	and	ebp, 2
; Line 2645
	je	SHORT $loc_464F57$85560
; Line 2646
	mov	ax, WORD PTR [esi]
; Line 2647
	add	esi, 4
; Line 2648
	mov	WORD PTR [edi], ax
; Line 2649
	add	edi, 2
$loc_464F57$85560:
; Line 2651
	sub	edi, 800				; 00000320H
; Line 2652
	add	edi, edx
; Line 2653
	sub	edx, 2
; Line 2654
	jge	SHORT $loc_464F1F$85556
; Line 2655
	mov	eax, DWORD PTR _gpDrawMask
; Line 2656
	sub	eax, 64					; 00000040H
; Line 2657
	mov	DWORD PTR _gpDrawMask, eax
; Line 2658
	mov	edx, 16					; 00000010H
$loc_464F76$85561:
; Line 2660
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2661
	jb	SHORT $loc_464FB6$85557
; Line 2662
	push	edx
; Line 2663
	mov	eax, DWORD PTR _gpDrawMask
; Line 2664
	mov	edx, DWORD PTR [eax]
; Line 2665
	mov	ecx, 32					; 00000020H
$loc_464F8B$85562:
; Line 2667
	mov	al, BYTE PTR [esi]
; Line 2668
	inc	esi
; Line 2669
	shl	edx, 1
; Line 2670
	jae	SHORT $loc_464F94$85563
; Line 2671
	mov	BYTE PTR [edi], al
$loc_464F94$85563:
; Line 2673
	inc	edi
; Line 2674
	dec	ecx
; Line 2675
	jne	SHORT $loc_464F8B$85562
; Line 2676
	mov	ebp, esi
; Line 2677
	and	ebp, 2
; Line 2678
	add	esi, ebp
; Line 2679
	pop	edx
; Line 2680
	sub	edi, 800				; 00000320H
; Line 2681
	mov	eax, DWORD PTR _gpDrawMask
; Line 2682
	sub	eax, 4
; Line 2683
	mov	DWORD PTR _gpDrawMask, eax
; Line 2684
	dec	edx
; Line 2685
	jne	SHORT $loc_464F76$85561
$loc_464FB6$85557:
; Line 2687
	pop	ebp
; Line 2689
	jmp	$L85633
$L85547:
; Line 2567
	mov	edx, 30					; 0000001eH
$loc_464E82$85548:
; Line 2569
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2570
	jb	$ret_4652C1_12S$85549
; Line 2571
	add	edi, edx
; Line 2572
	mov	ecx, 32					; 00000020H
; Line 2573
	sub	ecx, edx
; Line 2574
	shr	ecx, 2
; Line 2575
	jae	SHORT $loc_464EAD$85550
; Line 2576
	mov	ax, WORD PTR [esi+2]
; Line 2577
	add	esi, 4
; Line 2578
	mov	WORD PTR [edi], ax
; Line 2579
	add	edi, 2
; Line 2580
	test	ecx, ecx
; Line 2581
	je	SHORT $loc_464EBA$85551
$loc_464EAD$85550:
; Line 2583
	mov	eax, DWORD PTR [esi]
; Line 2584
	add	esi, 4
; Line 2585
	mov	DWORD PTR [edi], eax
; Line 2586
	add	edi, 4
; Line 2587
	dec	ecx
; Line 2588
	jne	SHORT $loc_464EAD$85550
$loc_464EBA$85551:
; Line 2590
	sub	edi, 800				; 00000320H
; Line 2591
	sub	edx, 2
; Line 2592
	jge	SHORT $loc_464E82$85548
; Line 2593
	mov	eax, DWORD PTR _gpDrawMask
; Line 2594
	sub	eax, 64					; 00000040H
; Line 2595
	mov	DWORD PTR _gpDrawMask, eax
; Line 2596
	mov	edx, 16					; 00000010H
$loc_464ED7$85552:
; Line 2598
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2599
	jb	SHORT $ret_4652C1_12S$85549
; Line 2600
	push	edx
; Line 2601
	mov	eax, DWORD PTR _gpDrawMask
; Line 2602
	mov	edx, DWORD PTR [eax]
; Line 2603
	mov	ecx, 32					; 00000020H
$loc_464EF0$85553:
; Line 2605
	mov	al, BYTE PTR [esi]
; Line 2606
	inc	esi
; Line 2607
	shl	edx, 1
; Line 2608
	jae	SHORT $loc_464EF9$85554
; Line 2609
	mov	BYTE PTR [edi], al
$loc_464EF9$85554:
; Line 2611
	inc	edi
; Line 2612
	dec	ecx
; Line 2613
	jne	SHORT $loc_464EF0$85553
; Line 2614
	pop	edx
; Line 2615
	sub	edi, 800				; 00000320H
; Line 2616
	mov	eax, DWORD PTR _gpDrawMask
; Line 2617
	sub	eax, 4
; Line 2618
	mov	DWORD PTR _gpDrawMask, eax
; Line 2619
	dec	edx
; Line 2620
	jne	SHORT $loc_464ED7$85552
$ret_4652C1_12S$85549:
; Line 2623
	jmp	$L85633
$L85537:
; Line 2503
	push	ebp
; Line 2504
	mov	edx, 30					; 0000001eH
$loc_464DE9$85538:
; Line 2506
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2507
	jb	$loc_464E77$85539
; Line 2508
	mov	ecx, 32					; 00000020H
; Line 2509
	sub	ecx, edx
; Line 2510
	mov	ebp, ecx
; Line 2511
	shr	ecx, 2
; Line 2512
	je	SHORT $loc_464E10$85540
$loc_464E03$85541:
; Line 2514
	mov	eax, DWORD PTR [esi]
; Line 2515
	add	esi, 4
; Line 2516
	mov	DWORD PTR [edi], eax
; Line 2517
	add	edi, 4
; Line 2518
	dec	ecx
; Line 2519
	jne	SHORT $loc_464E03$85541
$loc_464E10$85540:
; Line 2521
	and	ebp, 2
; Line 2522
	je	SHORT $loc_464E21$85542
; Line 2523
	mov	ax, WORD PTR [esi]
; Line 2524
	add	esi, 4
; Line 2525
	mov	WORD PTR [edi], ax
; Line 2526
	add	edi, 2
$loc_464E21$85542:
; Line 2528
	sub	edi, 800				; 00000320H
; Line 2529
	add	edi, edx
; Line 2530
	sub	edx, 2
; Line 2531
	jge	SHORT $loc_464DE9$85538
; Line 2532
	mov	edx, 2
$loc_464E33$85543:
; Line 2534
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2535
	jb	SHORT $loc_464E77$85539
; Line 2536
	mov	ecx, 32					; 00000020H
; Line 2537
	sub	ecx, edx
; Line 2538
	mov	ebp, ecx
; Line 2539
	shr	ecx, 2
; Line 2540
	je	SHORT $loc_464E56$85544
$loc_464E49$85545:
; Line 2542
	mov	eax, DWORD PTR [esi]
; Line 2543
	add	esi, 4
; Line 2544
	mov	DWORD PTR [edi], eax
; Line 2545
	add	edi, 4
; Line 2546
	dec	ecx
; Line 2547
	jne	SHORT $loc_464E49$85545
$loc_464E56$85544:
; Line 2549
	and	ebp, 2
; Line 2550
	je	SHORT $loc_464E67$85546
; Line 2551
	mov	ax, WORD PTR [esi]
; Line 2552
	add	esi, 4
; Line 2553
	mov	WORD PTR [edi], ax
; Line 2554
	add	edi, 2
$loc_464E67$85546:
; Line 2556
	sub	edi, 800				; 00000320H
; Line 2557
	add	edi, edx
; Line 2558
	add	edx, 2
; Line 2559
	cmp	edx, 32					; 00000020H
; Line 2560
	jne	SHORT $loc_464E33$85543
$loc_464E77$85539:
; Line 2562
	pop	ebp
; Line 2564
	jmp	$L85633
$L85529:
; Line 2445
	mov	edx, 30					; 0000001eH
$loc_464D50$85530:
; Line 2447
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2448
	jb	SHORT $ret_4652C1_10S$85531
; Line 2449
	add	edi, edx
; Line 2450
	mov	ecx, 32					; 00000020H
; Line 2451
	sub	ecx, edx
; Line 2452
	shr	ecx, 2
; Line 2453
	jae	SHORT $loc_464D7B$85532
; Line 2454
	mov	ax, WORD PTR [esi+2]
; Line 2455
	add	esi, 4
; Line 2456
	mov	WORD PTR [edi], ax
; Line 2457
	add	edi, 2
; Line 2458
	test	ecx, ecx
; Line 2459
	je	SHORT $loc_464D88$85533
$loc_464D7B$85532:
; Line 2461
	mov	eax, DWORD PTR [esi]
; Line 2462
	add	esi, 4
; Line 2463
	mov	DWORD PTR [edi], eax
; Line 2464
	dec	ecx
; Line 2465
	lea	edi, DWORD PTR [edi+4]
; Line 2466
	jne	SHORT $loc_464D7B$85532
$loc_464D88$85533:
; Line 2468
	sub	edi, 800				; 00000320H
; Line 2469
	sub	edx, 2
; Line 2470
	jge	SHORT $loc_464D50$85530
; Line 2471
	mov	edx, 2
$loc_464D98$85534:
; Line 2473
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2474
	jb	SHORT $ret_4652C1_10S$85531
; Line 2475
	add	edi, edx
; Line 2476
	mov	ecx, 32					; 00000020H
; Line 2477
	sub	ecx, edx
; Line 2478
	shr	ecx, 2
; Line 2479
	jae	SHORT $loc_464DC3$85535
; Line 2480
	mov	ax, WORD PTR [esi+2]
; Line 2481
	add	esi, 4
; Line 2482
	mov	WORD PTR [edi], ax
; Line 2483
	test	ecx, ecx
; Line 2484
	lea	edi, DWORD PTR [edi+2]
; Line 2485
	je	SHORT $loc_464DD0$85536
$loc_464DC3$85535:
; Line 2487
	mov	eax, DWORD PTR [esi]
; Line 2488
	add	esi, 4
; Line 2489
	mov	DWORD PTR [edi], eax
; Line 2490
	add	edi, 4
; Line 2491
	dec	ecx
; Line 2492
	jne	SHORT $loc_464DC3$85535
$loc_464DD0$85536:
; Line 2494
	sub	edi, 800				; 00000320H
; Line 2495
	add	edx, 2
; Line 2496
	cmp	edx, 32					; 00000020H
; Line 2497
	jne	SHORT $loc_464D98$85534
$ret_4652C1_10S$85531:
; Line 2500
	jmp	$L85633
$L85520:
; Line 2384
	mov	ecx, 32					; 00000020H
$loc_464CC6$85521:
; Line 2386
	push	ecx
; Line 2387
	mov	eax, DWORD PTR _gpDrawMask
; Line 2388
	mov	eax, DWORD PTR [eax]
; Line 2389
	mov	DWORD PTR _gdwCurrentMask, eax
; Line 2390
	mov	edx, 32					; 00000020H
$loc_464CD8$85522:
; Line 2392
	xor	eax, eax
; Line 2393
	mov	al, BYTE PTR [esi]
; Line 2394
	inc	esi
; Line 2395
	test	al, al
; Line 2396
	js	SHORT $loc_464D12$85523
; Line 2397
	sub	edx, eax
; Line 2398
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2399
	jb	SHORT $ret_4652C0_9S$85524
; Line 2400
	push	edx
; Line 2401
	mov	edx, DWORD PTR _gdwCurrentMask
; Line 2402
	mov	ecx, eax
$loc_464CF8$85525:
; Line 2404
	mov	al, BYTE PTR [esi]
; Line 2405
	inc	esi
; Line 2406
	shl	edx, 1
; Line 2407
	jae	SHORT $loc_464D01$85526
; Line 2408
	mov	BYTE PTR [edi], al
$loc_464D01$85526:
; Line 2410
	inc	edi
; Line 2411
	dec	ecx
; Line 2412
	jne	SHORT $loc_464CF8$85525
; Line 2413
	mov	DWORD PTR _gdwCurrentMask, edx
; Line 2414
	pop	edx
; Line 2415
	test	edx, edx
; Line 2416
	je	SHORT $loc_464D2F$85527
; Line 2417
	jmp	SHORT $loc_464CD8$85522
$loc_464D12$85523:
; Line 2420
	neg	al
; Line 2421
	add	edi, eax
; Line 2422
	mov	ecx, eax
; Line 2423
	and	ecx, 31					; 0000001fH
; Line 2424
	je	SHORT $loc_464D2B$85528
; Line 2425
	mov	ebx, DWORD PTR _gdwCurrentMask
; Line 2426
	shl	ebx, cl
; Line 2427
	mov	DWORD PTR _gdwCurrentMask, ebx
$loc_464D2B$85528:
; Line 2429
	sub	edx, eax
; Line 2430
	jne	SHORT $loc_464CD8$85522
$loc_464D2F$85527:
; Line 2432
	pop	ecx
; Line 2433
	sub	edi, 800				; 00000320H
; Line 2434
	mov	eax, DWORD PTR _gpDrawMask
; Line 2435
	sub	eax, 4
; Line 2436
	mov	DWORD PTR _gpDrawMask, eax
; Line 2437
	dec	ecx
; Line 2438
	jne	SHORT $loc_464CC6$85521
$ret_4652C0_9S$85524:
; Line 2440
	pop	eax
; Line 2442
	jmp	$L85633
$L85515:
; Line 2354
	mov	edx, 32					; 00000020H
$loc_464C7F$85516:
; Line 2356
	cmp	edi, DWORD PTR _gpBufEnd
; Line 2357
	jb	SHORT $ret_4652C1_8S$85517
; Line 2358
	push	edx
; Line 2359
	mov	eax, DWORD PTR _gpDrawMask
; Line 2360
	mov	edx, DWORD PTR [eax]
; Line 2361
	mov	ecx, 32					; 00000020H
$loc_464C98$85518:
; Line 2363
	mov	al, BYTE PTR [esi]
; Line 2364
	inc	esi
; Line 2365
	shl	edx, 1
; Line 2366
	jae	SHORT $loc_464CA1$85519
; Line 2367
	mov	BYTE PTR [edi], al
$loc_464CA1$85519:
; Line 2369
	inc	edi
; Line 2370
	dec	ecx
; Line 2371
	jne	SHORT $loc_464C98$85518
; Line 2372
	pop	edx
; Line 2373
	sub	edi, 800				; 00000320H
; Line 2374
	mov	eax, DWORD PTR _gpDrawMask
; Line 2375
	sub	eax, 4
; Line 2376
	mov	DWORD PTR _gpDrawMask, eax
; Line 2377
	dec	edx
; Line 2378
	jne	SHORT $loc_464C7F$85516
$ret_4652C1_8S$85517:
; Line 2691
	jmp	$L85633
$L85565:
; Line 3136
	mov	eax, DWORD PTR _level_cel_block
	mov	ecx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L85627
; Line 3138
	mov	edx, eax
	and	eax, 61440				; 0000f000H
	and	edx, ecx
	shl	edx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx]
	mov	DWORD PTR _level_cel_block, eax
$L85627:
; Line 3139
	mov	edx, eax
	and	edx, ecx
	mov	ecx, DWORD PTR _pDungeonCels
; Line 3140
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+edx*4]
	and	eax, 7
	add	edx, ecx
	mov	DWORD PTR _src$[ebp], edx
; Line 3142
	xor	edx, edx
; Line 3143
	xor	ecx, ecx
; Line 3144
	mov	edi, DWORD PTR _dst$[ebp]
; Line 3145
	mov	esi, DWORD PTR _src$[ebp]
; Line 3148
	movsx	eax, ax
	sub	eax, 0
	je	$L85636
	dec	eax
	je	$L85641
	dec	eax
	je	$L85650
	dec	eax
	je	$L85659
	dec	eax
	je	$L85668
; Line 3410
	mov	edx, 30					; 0000001eH
; Line 3411
	xor	eax, eax
$loc_465239$85678:
; Line 3413
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3414
	jb	SHORT $ret_4652C1_5B$85679
; Line 3415
	mov	ecx, 32					; 00000020H
; Line 3416
	sub	ecx, edx
; Line 3417
	shr	ecx, 2
; Line 3418
	jae	SHORT $loc_46525B$85680
; Line 3419
	mov	WORD PTR [edi], ax
; Line 3420
	add	edi, 2
; Line 3421
	test	ecx, ecx
; Line 3422
	je	SHORT $loc_465263$85681
$loc_46525B$85680:
; Line 3424
	mov	DWORD PTR [edi], eax
; Line 3425
	add	edi, 4
; Line 3426
	dec	ecx
; Line 3427
	jne	SHORT $loc_46525B$85680
$loc_465263$85681:
; Line 3429
	sub	edi, 800				; 00000320H
; Line 3430
	test	edx, edx
; Line 3431
	je	SHORT $loc_465274$85682
; Line 3432
	add	edi, edx
; Line 3433
	sub	edx, 2
; Line 3434
	jmp	SHORT $loc_465239$85678
$loc_465274$85682:
; Line 3437
	mov	eax, DWORD PTR _gpDrawMask
; Line 3438
	sub	eax, 64					; 00000040H
; Line 3439
	mov	DWORD PTR _gpDrawMask, eax
; Line 3440
	mov	edx, 16					; 00000010H
$loc_465286$85683:
; Line 3442
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3443
	jb	SHORT $ret_4652C1_5B$85679
; Line 3444
	push	edx
; Line 3445
	mov	eax, DWORD PTR _gpDrawMask
; Line 3446
	mov	edx, DWORD PTR [eax]
; Line 3447
	xor	eax, eax
; Line 3448
	mov	ecx, 32					; 00000020H
$loc_46529D$85684:
; Line 3450
	shl	edx, 1
; Line 3451
	jae	SHORT $loc_4652A3$85685
; Line 3452
	mov	BYTE PTR [edi], al
$loc_4652A3$85685:
; Line 3454
	inc	edi
; Line 3455
	dec	ecx
; Line 3456
	jne	SHORT $loc_46529D$85684
; Line 3457
	pop	edx
; Line 3458
	sub	edi, 800				; 00000320H
; Line 3459
	mov	eax, DWORD PTR _gpDrawMask
; Line 3460
	sub	eax, 4
; Line 3461
	mov	DWORD PTR _gpDrawMask, eax
; Line 3462
	dec	edx
; Line 3463
	jne	SHORT $loc_465286$85683
$ret_4652C1_5B$85679:
; Line 3466
	jmp	$L85633
$L85668:
; Line 3351
	mov	edx, 30					; 0000001eH
; Line 3352
	xor	eax, eax
$loc_4651A4$85669:
; Line 3354
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3355
	jb	SHORT $ret_4652C1_4B$85670
; Line 3356
	add	edi, edx
; Line 3357
	mov	ecx, 32					; 00000020H
; Line 3358
	sub	ecx, edx
; Line 3359
	shr	ecx, 2
; Line 3360
	jae	SHORT $loc_4651C8$85671
; Line 3361
	mov	WORD PTR [edi], ax
; Line 3362
	add	edi, 2
; Line 3363
	test	ecx, ecx
; Line 3364
	je	SHORT $loc_4651D0$85672
$loc_4651C8$85671:
; Line 3366
	mov	DWORD PTR [edi], eax
; Line 3367
	add	edi, 4
; Line 3368
	dec	ecx
; Line 3369
	jne	SHORT $loc_4651C8$85671
$loc_4651D0$85672:
; Line 3371
	sub	edi, 800				; 00000320H
; Line 3372
	test	edx, edx
; Line 3373
	je	SHORT $loc_4651DF$85673
; Line 3374
	sub	edx, 2
; Line 3375
	jmp	SHORT $loc_4651A4$85669
$loc_4651DF$85673:
; Line 3378
	mov	eax, DWORD PTR _gpDrawMask
; Line 3379
	sub	eax, 64					; 00000040H
; Line 3380
	mov	DWORD PTR _gpDrawMask, eax
; Line 3381
	mov	edx, 16					; 00000010H
$loc_4651F1$85674:
; Line 3383
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3384
	jb	SHORT $ret_4652C1_4B$85670
; Line 3385
	push	edx
; Line 3386
	mov	eax, DWORD PTR _gpDrawMask
; Line 3387
	mov	edx, DWORD PTR [eax]
; Line 3388
	xor	eax, eax
; Line 3389
	mov	ecx, 32					; 00000020H
$loc_46520C$85675:
; Line 3391
	shl	edx, 1
; Line 3392
	jae	SHORT $loc_465212$85676
; Line 3393
	mov	BYTE PTR [edi], al
$loc_465212$85676:
; Line 3395
	inc	edi
; Line 3396
	dec	ecx
; Line 3397
	jne	SHORT $loc_46520C$85675
; Line 3398
	pop	edx
; Line 3399
	sub	edi, 800				; 00000320H
; Line 3400
	mov	eax, DWORD PTR _gpDrawMask
; Line 3401
	sub	eax, 4
; Line 3402
	mov	DWORD PTR _gpDrawMask, eax
; Line 3403
	dec	edx
; Line 3404
	jne	SHORT $loc_4651F1$85674
$ret_4652C1_4B$85670:
; Line 3407
	jmp	$L85633
$L85659:
; Line 3296
	mov	edx, 30					; 0000001eH
; Line 3297
	xor	eax, eax
$loc_46511E$85660:
; Line 3299
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3300
	jb	SHORT $ret_4652C1_3B$85661
; Line 3301
	mov	ecx, 32					; 00000020H
; Line 3302
	sub	ecx, edx
; Line 3303
	shr	ecx, 2
; Line 3304
	jae	SHORT $loc_465140$85662
; Line 3305
	mov	WORD PTR [edi], ax
; Line 3306
	add	edi, 2
; Line 3307
	test	ecx, ecx
; Line 3308
	je	SHORT $loc_465148$85663
$loc_465140$85662:
; Line 3310
	mov	DWORD PTR [edi], eax
; Line 3311
	add	edi, 4
; Line 3312
	dec	ecx
; Line 3313
	jne	SHORT $loc_465140$85662
$loc_465148$85663:
; Line 3315
	sub	edi, 800				; 00000320H
; Line 3316
	test	edx, edx
; Line 3317
	je	SHORT $loc_465159$85664
; Line 3318
	add	edi, edx
; Line 3319
	sub	edx, 2
; Line 3320
	jmp	SHORT $loc_46511E$85660
$loc_465159$85664:
; Line 3323
	mov	edx, 2
$loc_46515E$85665:
; Line 3325
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3326
	jb	SHORT $ret_4652C1_3B$85661
; Line 3327
	mov	ecx, 32					; 00000020H
; Line 3328
	sub	ecx, edx
; Line 3329
	shr	ecx, 2
; Line 3330
	jae	SHORT $loc_465180$85666
; Line 3331
	mov	WORD PTR [edi], ax
; Line 3332
	add	edi, 2
; Line 3333
	test	ecx, ecx
; Line 3334
	je	SHORT $loc_465188$85667
$loc_465180$85666:
; Line 3336
	mov	DWORD PTR [edi], eax
; Line 3337
	add	edi, 4
; Line 3338
	dec	ecx
; Line 3339
	jne	SHORT $loc_465180$85666
$loc_465188$85667:
; Line 3341
	sub	edi, 800				; 00000320H
; Line 3342
	add	edi, edx
; Line 3343
	add	edx, 2
; Line 3344
	cmp	edx, 32					; 00000020H
; Line 3345
	jne	SHORT $loc_46515E$85665
$ret_4652C1_3B$85661:
; Line 3348
	jmp	$L85633
$L85650:
; Line 3241
	mov	edx, 30					; 0000001eH
; Line 3242
	xor	eax, eax
$loc_465098$85651:
; Line 3244
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3245
	jb	SHORT $ret_4652C1_2B$85652
; Line 3246
	add	edi, edx
; Line 3247
	mov	ecx, 32					; 00000020H
; Line 3248
	sub	ecx, edx
; Line 3249
	shr	ecx, 2
; Line 3250
	jae	SHORT $loc_4650BC$85653
; Line 3251
	mov	WORD PTR [edi], ax
; Line 3252
	add	edi, 2
; Line 3253
	test	ecx, ecx
; Line 3254
	je	SHORT $loc_4650C4$85654
$loc_4650BC$85653:
; Line 3256
	mov	DWORD PTR [edi], eax
; Line 3257
	add	edi, 4
; Line 3258
	dec	ecx
; Line 3259
	jne	SHORT $loc_4650BC$85653
$loc_4650C4$85654:
; Line 3261
	sub	edi, 800				; 00000320H
; Line 3262
	test	edx, edx
; Line 3263
	je	SHORT $loc_4650D3$85655
; Line 3264
	sub	edx, 2
; Line 3265
	jmp	SHORT $loc_465098$85651
$loc_4650D3$85655:
; Line 3268
	mov	edx, 2
$loc_4650D8$85656:
; Line 3270
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3271
	jb	SHORT $ret_4652C1_2B$85652
; Line 3272
	add	edi, edx
; Line 3273
	mov	ecx, 32					; 00000020H
; Line 3274
	sub	ecx, edx
; Line 3275
	shr	ecx, 2
; Line 3276
	jae	SHORT $loc_4650FC$85657
; Line 3277
	mov	WORD PTR [edi], ax
; Line 3278
	add	edi, 2
; Line 3279
	test	ecx, ecx
; Line 3280
	je	SHORT $loc_465104$85658
$loc_4650FC$85657:
; Line 3282
	mov	DWORD PTR [edi], eax
; Line 3283
	add	edi, 4
; Line 3284
	dec	ecx
; Line 3285
	jne	SHORT $loc_4650FC$85657
$loc_465104$85658:
; Line 3287
	sub	edi, 800				; 00000320H
; Line 3288
	add	edx, 2
; Line 3289
	cmp	edx, 32					; 00000020H
; Line 3290
	jne	SHORT $loc_4650D8$85656
$ret_4652C1_2B$85652:
; Line 3293
	jmp	$L85633
$L85641:
; Line 3180
	mov	ecx, 32					; 00000020H
$loc_465007$85642:
; Line 3182
	push	ecx
; Line 3183
	mov	eax, DWORD PTR _gpDrawMask
; Line 3184
	mov	eax, DWORD PTR [eax]
; Line 3185
	mov	DWORD PTR _gdwCurrentMask, eax
; Line 3186
	mov	edx, 32					; 00000020H
$loc_465019$85643:
; Line 3188
	xor	eax, eax
; Line 3189
	mov	al, BYTE PTR [esi]
; Line 3190
	inc	esi
; Line 3191
	test	al, al
; Line 3192
	js	SHORT $loc_465054$85644
; Line 3193
	sub	edx, eax
; Line 3194
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3195
	jb	SHORT $ret_4652C0_1B$85645
; Line 3196
	push	edx
; Line 3197
	mov	edx, DWORD PTR _gdwCurrentMask
; Line 3198
	mov	ecx, eax
; Line 3199
	add	esi, ecx
; Line 3200
	xor	eax, eax
$loc_46503D$85646:
; Line 3202
	shl	edx, 1
; Line 3203
	jae	SHORT $loc_465043$85647
; Line 3204
	mov	BYTE PTR [edi], al
$loc_465043$85647:
; Line 3206
	inc	edi
; Line 3207
	dec	ecx
; Line 3208
	jne	SHORT $loc_46503D$85646
; Line 3209
	mov	DWORD PTR _gdwCurrentMask, edx
; Line 3210
	pop	edx
; Line 3211
	test	edx, edx
; Line 3212
	je	SHORT $loc_465071$85648
; Line 3213
	jmp	SHORT $loc_465019$85643
$loc_465054$85644:
; Line 3216
	neg	al
; Line 3217
	add	edi, eax
; Line 3218
	mov	ecx, eax
; Line 3219
	and	ecx, 31					; 0000001fH
; Line 3220
	je	SHORT $loc_46506D$85649
; Line 3221
	mov	ebx, DWORD PTR _gdwCurrentMask
; Line 3222
	shl	ebx, cl
; Line 3223
	mov	DWORD PTR _gdwCurrentMask, ebx
$loc_46506D$85649:
; Line 3225
	sub	edx, eax
; Line 3226
	jne	SHORT $loc_465019$85643
$loc_465071$85648:
; Line 3228
	pop	ecx
; Line 3229
	sub	edi, 800				; 00000320H
; Line 3230
	mov	eax, DWORD PTR _gpDrawMask
; Line 3231
	sub	eax, 4
; Line 3232
	mov	DWORD PTR _gpDrawMask, eax
; Line 3233
	dec	ecx
; Line 3234
	jne	SHORT $loc_465007$85642
$ret_4652C0_1B$85645:
; Line 3236
	pop	eax
; Line 3238
	jmp	SHORT $L85633
$L85636:
; Line 3151
	mov	edx, 32					; 00000020H
$loc_464FC1$85637:
; Line 3153
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3154
	jb	SHORT $ret_4652C1_0B$85638
; Line 3155
	push	edx
; Line 3156
	mov	eax, DWORD PTR _gpDrawMask
; Line 3157
	mov	edx, DWORD PTR [eax]
; Line 3158
	xor	eax, eax
; Line 3159
	mov	ecx, 32					; 00000020H
$loc_464FDC$85639:
; Line 3161
	shl	edx, 1
; Line 3162
	jae	SHORT $loc_464FE2$85640
; Line 3163
	mov	BYTE PTR [edi], al
$loc_464FE2$85640:
; Line 3165
	inc	edi
; Line 3166
	dec	ecx
; Line 3167
	jne	SHORT $loc_464FDC$85639
; Line 3168
	pop	edx
; Line 3169
	sub	edi, 800				; 00000320H
; Line 3170
	mov	eax, DWORD PTR _gpDrawMask
; Line 3171
	sub	eax, 4
; Line 3172
	mov	DWORD PTR _gpDrawMask, eax
; Line 3173
	dec	edx
; Line 3174
	jne	SHORT $loc_464FC1$85637
$ret_4652C1_0B$85638:
$L85633:
; Line 3468
	pop	edi
	pop	esi
	pop	ebx
	leave
	ret	0
@drawBottomArchesUpperScreen@8 ENDP
_TEXT	ENDS
PUBLIC	@drawUpperScreen@4
EXTRN	_arch_draw_type:BYTE
EXTRN	_cel_transparency_active:DWORD
EXTRN	_level_piece_id:DWORD
EXTRN	_block_lvid:BYTE
; Function compile flags: /Ogsy
;	COMDAT @drawUpperScreen@4
_TEXT	SEGMENT
_dst$ = -8
_tbl$ = -12
_src$ = -4
@drawUpperScreen@4 PROC NEAR				; COMDAT
; _pbDst$ = ecx
; Line 3471
	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
; Line 3477
	cmp	DWORD PTR _cel_transparency_active, 0
	push	ebx
	push	esi
	push	edi
	je	SHORT $L85699
; Line 3479
	mov	dl, BYTE PTR _arch_draw_type
	test	dl, dl
	jne	SHORT $L85694
; Line 3481
	call	@drawTopArchesUpperScreen@4
; Line 3482
	jmp	$L85831
$L85694:
; Line 3484
	cmp	dl, 1
	jne	SHORT $L85696
; Line 3486
	mov	eax, DWORD PTR _level_piece_id
	mov	al, BYTE PTR _block_lvid[eax]
	cmp	al, dl
	je	SHORT $L85697
	cmp	al, 3
	jne	SHORT $L85699
$L85697:
; Line 3488
	mov	edx, OFFSET FLAT:_LeftMask+124
$L86724:
	call	@drawBottomArchesUpperScreen@8
; Line 3489
	jmp	$L85831
$L85696:
; Line 3492
	cmp	dl, 2
	jne	SHORT $L85699
; Line 3494
	mov	eax, DWORD PTR _level_piece_id
	mov	al, BYTE PTR _block_lvid[eax]
	cmp	al, dl
	je	SHORT $L85700
	cmp	al, 3
	jne	SHORT $L85699
$L85700:
; Line 3496
	mov	edx, OFFSET FLAT:_RightMask+124
; Line 3497
	jmp	SHORT $L86724
$L85699:
; Line 3502
	mov	DWORD PTR _dst$[ebp], ecx
; Line 3503
	mov	ecx, DWORD PTR _light_table_index
	test	cl, cl
	mov	DWORD PTR _gpCelFrame, OFFSET FLAT:_speed_cel_frame_num_from_light_index_frame_num
	jne	SHORT $L85703
; Line 3505
	mov	eax, DWORD PTR _level_cel_block
	mov	edx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L85704
; Line 3507
	mov	ecx, eax
	and	eax, 61440				; 0000f000H
	and	ecx, edx
	shl	ecx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[ecx]
	mov	DWORD PTR _level_cel_block, eax
$L85704:
; Line 3508
	mov	ecx, DWORD PTR _pDungeonCels
	mov	esi, eax
	and	esi, edx
; Line 3509
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+esi*4]
	and	eax, 7
	add	edx, ecx
	add	eax, 8
	mov	DWORD PTR _src$[ebp], edx
	jmp	$LABEL_22$85709
$L85703:
; Line 3818
	movsx	eax, BYTE PTR _lightmax
	movzx	edx, cl
	cmp	edx, eax
	je	$L85761
; Line 3820
	mov	edx, DWORD PTR _level_cel_block
; Line 3822
	mov	eax, edx
	and	eax, 4095				; 00000fffH
	test	dh, dh
	js	$L85762
	mov	esi, DWORD PTR _pDungeonCels
; Line 3823
	shl	ecx, 8
	mov	eax, DWORD PTR [esi+eax*4]
	add	ecx, DWORD PTR _pLightTbl
	add	eax, esi
; Line 3824
	shr	dx, 12					; 0000000cH
	mov	DWORD PTR _src$[ebp], eax
	mov	DWORD PTR _tbl$[ebp], ecx
	mov	eax, edx
; Line 3826
	xor	edx, edx
; Line 3827
	xor	ecx, ecx
; Line 3828
	mov	ebx, DWORD PTR _tbl$[ebp]
; Line 3829
	mov	edi, DWORD PTR _dst$[ebp]
; Line 3830
	mov	esi, DWORD PTR _src$[ebp]
; Line 3833
	movsx	ecx, ax
	sub	ecx, 0
	je	$L85771
	dec	ecx
	je	$L85775
	dec	ecx
	je	$L85785
	dec	ecx
	je	$L85795
	dec	ecx
	je	$L85805
; Line 4234
	push	ebp
; Line 4235
	mov	ebp, 30					; 0000001eH
$loc_46593F$85814:
; Line 4237
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4238
	jb	$loc_465A05$85815
; Line 4239
	mov	ecx, 32					; 00000020H
; Line 4240
	sub	ecx, ebp
; Line 4241
	cmp	cl, 4
; Line 4242
	jl	SHORT $loc_465989$85816
$loc_465957$85817:
; Line 4244
	mov	eax, DWORD PTR [esi]
; Line 4245
	add	esi, 4
; Line 4246
	mov	dl, al
; Line 4247
	mov	ch, BYTE PTR [ebx+edx]
; Line 4248
	mov	dl, ah
; Line 4249
	ror	eax, 16					; 00000010H
; Line 4250
	mov	BYTE PTR [edi], ch
; Line 4251
	mov	ch, BYTE PTR [ebx+edx]
; Line 4252
	mov	dl, al
; Line 4253
	mov	BYTE PTR [edi+1], ch
; Line 4254
	mov	ch, BYTE PTR [ebx+edx]
; Line 4255
	mov	dl, ah
; Line 4256
	mov	BYTE PTR [edi+2], ch
; Line 4257
	mov	ch, BYTE PTR [ebx+edx]
; Line 4258
	mov	BYTE PTR [edi+3], ch
; Line 4259
	add	edi, 4
; Line 4260
	sub	cl, 4
; Line 4261
	cmp	cl, 4
; Line 4262
	jge	SHORT $loc_465957$85817
$loc_465989$85816:
; Line 4264
	cmp	cl, 2
; Line 4265
	jl	SHORT $loc_4659A4$85818
; Line 4266
	mov	dl, BYTE PTR [esi]
; Line 4267
	mov	ch, BYTE PTR [ebx+edx]
; Line 4268
	mov	BYTE PTR [edi], ch
; Line 4269
	mov	dl, BYTE PTR [esi+1]
; Line 4270
	mov	ch, BYTE PTR [ebx+edx]
; Line 4271
	mov	BYTE PTR [edi+1], ch
; Line 4272
	add	esi, 2
; Line 4273
	add	edi, 2
$loc_4659A4$85818:
; Line 4275
	mov	edx, esi
; Line 4276
	and	edx, 2
; Line 4277
	add	esi, edx
; Line 4278
	sub	edi, 800				; 00000320H
; Line 4279
	add	edi, ebp
; Line 4280
	sub	ebp, 2
; Line 4281
	jge	SHORT $loc_46593F$85814
; Line 4282
	mov	ebp, 16					; 00000010H
$loc_4659BD$85819:
; Line 4284
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4285
	jb	SHORT $loc_465A05$85815
; Line 4286
	mov	ecx, 32					; 00000020H
$loc_4659CA$85820:
; Line 4288
	mov	eax, DWORD PTR [esi]
; Line 4289
	add	esi, 4
; Line 4290
	mov	dl, al
; Line 4291
	mov	ch, BYTE PTR [ebx+edx]
; Line 4292
	mov	dl, ah
; Line 4293
	ror	eax, 16					; 00000010H
; Line 4294
	mov	BYTE PTR [edi], ch
; Line 4295
	mov	ch, BYTE PTR [ebx+edx]
; Line 4296
	mov	dl, al
; Line 4297
	mov	BYTE PTR [edi+1], ch
; Line 4298
	mov	ch, BYTE PTR [ebx+edx]
; Line 4299
	mov	dl, ah
; Line 4300
	mov	BYTE PTR [edi+2], ch
; Line 4301
	mov	ch, BYTE PTR [ebx+edx]
; Line 4302
	mov	BYTE PTR [edi+3], ch
; Line 4303
	add	edi, 4
; Line 4304
	sub	cl, 4
; Line 4305
	cmp	cl, 4
; Line 4306
	jge	SHORT $loc_4659CA$85820
; Line 4307
	sub	edi, 800				; 00000320H
; Line 4308
	dec	ebp
; Line 4309
	jne	SHORT $loc_4659BD$85819
$loc_465A05$85815:
; Line 4311
	pop	ebp
; Line 4313
	jmp	$L85831
$L85805:
; Line 4152
	push	ebp
; Line 4153
	mov	ebp, 30					; 0000001eH
$loc_46586D$85806:
; Line 4155
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4156
	jb	$loc_465933$85807
; Line 4157
	add	edi, ebp
; Line 4158
	mov	ecx, 32					; 00000020H
; Line 4159
	sub	ecx, ebp
; Line 4160
	mov	edx, ecx
; Line 4161
	and	edx, 2
; Line 4162
	add	esi, edx
; Line 4163
	cmp	cl, 4
; Line 4164
	jl	SHORT $loc_4658C0$85808
$loc_46588E$85809:
; Line 4166
	mov	eax, DWORD PTR [esi]
; Line 4167
	add	esi, 4
; Line 4168
	mov	dl, al
; Line 4169
	mov	ch, BYTE PTR [ebx+edx]
; Line 4170
	mov	dl, ah
; Line 4171
	ror	eax, 16					; 00000010H
; Line 4172
	mov	BYTE PTR [edi], ch
; Line 4173
	mov	ch, BYTE PTR [ebx+edx]
; Line 4174
	mov	dl, al
; Line 4175
	mov	BYTE PTR [edi+1], ch
; Line 4176
	mov	ch, BYTE PTR [ebx+edx]
; Line 4177
	mov	dl, ah
; Line 4178
	mov	BYTE PTR [edi+2], ch
; Line 4179
	mov	ch, BYTE PTR [ebx+edx]
; Line 4180
	mov	BYTE PTR [edi+3], ch
; Line 4181
	add	edi, 4
; Line 4182
	sub	cl, 4
; Line 4183
	cmp	cl, 4
; Line 4184
	jge	SHORT $loc_46588E$85809
$loc_4658C0$85808:
; Line 4186
	cmp	cl, 2
; Line 4187
	jl	SHORT $loc_4658DB$85810
; Line 4188
	mov	dl, BYTE PTR [esi]
; Line 4189
	mov	ch, BYTE PTR [ebx+edx]
; Line 4190
	mov	BYTE PTR [edi], ch
; Line 4191
	mov	dl, BYTE PTR [esi+1]
; Line 4192
	mov	ch, BYTE PTR [ebx+edx]
; Line 4193
	mov	BYTE PTR [edi+1], ch
; Line 4194
	add	esi, 2
; Line 4195
	add	edi, 2
$loc_4658DB$85810:
; Line 4197
	sub	edi, 800				; 00000320H
; Line 4198
	sub	ebp, 2
; Line 4199
	jge	SHORT $loc_46586D$85806
; Line 4200
	mov	ebp, 16					; 00000010H
$loc_4658EB$85811:
; Line 4202
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4203
	jb	SHORT $loc_465933$85807
; Line 4204
	mov	ecx, 32					; 00000020H
$loc_4658F8$85812:
; Line 4206
	mov	eax, DWORD PTR [esi]
; Line 4207
	add	esi, 4
; Line 4208
	mov	dl, al
; Line 4209
	mov	ch, BYTE PTR [ebx+edx]
; Line 4210
	mov	dl, ah
; Line 4211
	ror	eax, 16					; 00000010H
; Line 4212
	mov	BYTE PTR [edi], ch
; Line 4213
	mov	ch, BYTE PTR [ebx+edx]
; Line 4214
	mov	dl, al
; Line 4215
	mov	BYTE PTR [edi+1], ch
; Line 4216
	mov	ch, BYTE PTR [ebx+edx]
; Line 4217
	mov	dl, ah
; Line 4218
	mov	BYTE PTR [edi+2], ch
; Line 4219
	mov	ch, BYTE PTR [ebx+edx]
; Line 4220
	mov	BYTE PTR [edi+3], ch
; Line 4221
	add	edi, 4
; Line 4222
	sub	cl, 4
; Line 4223
	cmp	cl, 4
; Line 4224
	jge	SHORT $loc_4658F8$85812
; Line 4225
	sub	edi, 800				; 00000320H
; Line 4226
	dec	ebp
; Line 4227
	jne	SHORT $loc_4658EB$85811
$loc_465933$85807:
; Line 4229
	pop	ebp
; Line 4231
	jmp	$L85831
$L85795:
; Line 4050
	push	ebp
; Line 4051
	mov	ebp, 30					; 0000001eH
$loc_46576B$85796:
; Line 4053
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4054
	jb	$loc_465861$85797
; Line 4055
	mov	ecx, 32					; 00000020H
; Line 4056
	sub	ecx, ebp
; Line 4057
	cmp	cl, 4
; Line 4058
	jl	SHORT $loc_4657B5$85798
$loc_465783$85799:
; Line 4060
	mov	eax, DWORD PTR [esi]
; Line 4061
	add	esi, 4
; Line 4062
	mov	dl, al
; Line 4063
	mov	ch, BYTE PTR [ebx+edx]
; Line 4064
	mov	dl, ah
; Line 4065
	ror	eax, 16					; 00000010H
; Line 4066
	mov	BYTE PTR [edi], ch
; Line 4067
	mov	ch, BYTE PTR [ebx+edx]
; Line 4068
	mov	dl, al
; Line 4069
	mov	BYTE PTR [edi+1], ch
; Line 4070
	mov	ch, BYTE PTR [ebx+edx]
; Line 4071
	mov	dl, ah
; Line 4072
	mov	BYTE PTR [edi+2], ch
; Line 4073
	mov	ch, BYTE PTR [ebx+edx]
; Line 4074
	mov	BYTE PTR [edi+3], ch
; Line 4075
	add	edi, 4
; Line 4076
	sub	cl, 4
; Line 4077
	cmp	cl, 4
; Line 4078
	jge	SHORT $loc_465783$85799
$loc_4657B5$85798:
; Line 4080
	cmp	cl, 2
; Line 4081
	jl	SHORT $loc_4657D0$85800
; Line 4082
	mov	dl, BYTE PTR [esi]
; Line 4083
	mov	ch, BYTE PTR [ebx+edx]
; Line 4084
	mov	BYTE PTR [edi], ch
; Line 4085
	mov	dl, BYTE PTR [esi+1]
; Line 4086
	mov	ch, BYTE PTR [ebx+edx]
; Line 4087
	mov	BYTE PTR [edi+1], ch
; Line 4088
	add	esi, 2
; Line 4089
	add	edi, 2
$loc_4657D0$85800:
; Line 4091
	mov	edx, esi
; Line 4092
	and	edx, 2
; Line 4093
	add	esi, edx
; Line 4094
	sub	edi, 800				; 00000320H
; Line 4095
	add	edi, ebp
; Line 4096
	sub	ebp, 2
; Line 4097
	jge	SHORT $loc_46576B$85796
; Line 4098
	mov	ebp, 2
$loc_4657E9$85801:
; Line 4100
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4101
	jb	SHORT $loc_465861$85797
; Line 4102
	mov	ecx, 32					; 00000020H
; Line 4103
	sub	ecx, ebp
; Line 4104
	cmp	cl, 4
; Line 4105
	jl	SHORT $loc_46582F$85802
$loc_4657FD$85803:
; Line 4107
	mov	eax, DWORD PTR [esi]
; Line 4108
	add	esi, 4
; Line 4109
	mov	dl, al
; Line 4110
	mov	ch, BYTE PTR [ebx+edx]
; Line 4111
	mov	dl, ah
; Line 4112
	ror	eax, 16					; 00000010H
; Line 4113
	mov	BYTE PTR [edi], ch
; Line 4114
	mov	ch, BYTE PTR [ebx+edx]
; Line 4115
	mov	dl, al
; Line 4116
	mov	BYTE PTR [edi+1], ch
; Line 4117
	mov	ch, BYTE PTR [ebx+edx]
; Line 4118
	mov	dl, ah
; Line 4119
	mov	BYTE PTR [edi+2], ch
; Line 4120
	mov	ch, BYTE PTR [ebx+edx]
; Line 4121
	mov	BYTE PTR [edi+3], ch
; Line 4122
	add	edi, 4
; Line 4123
	sub	cl, 4
; Line 4124
	cmp	cl, 4
; Line 4125
	jge	SHORT $loc_4657FD$85803
$loc_46582F$85802:
; Line 4127
	cmp	cl, 2
; Line 4128
	jl	SHORT $loc_46584A$85804
; Line 4129
	mov	dl, BYTE PTR [esi]
; Line 4130
	mov	ch, BYTE PTR [ebx+edx]
; Line 4131
	mov	BYTE PTR [edi], ch
; Line 4132
	mov	dl, BYTE PTR [esi+1]
; Line 4133
	mov	ch, BYTE PTR [ebx+edx]
; Line 4134
	mov	BYTE PTR [edi+1], ch
; Line 4135
	add	esi, 2
; Line 4136
	add	edi, 2
$loc_46584A$85804:
; Line 4138
	mov	edx, esi
; Line 4139
	and	edx, 2
; Line 4140
	add	esi, edx
; Line 4141
	sub	edi, 800				; 00000320H
; Line 4142
	add	edi, ebp
; Line 4143
	add	ebp, 2
; Line 4144
	cmp	ebp, 32					; 00000020H
; Line 4145
	jne	SHORT $loc_4657E9$85801
$loc_465861$85797:
; Line 4147
	pop	ebp
; Line 4149
	jmp	$L85831
$L85785:
; Line 3948
	push	ebp
; Line 3949
	mov	ebp, 30					; 0000001eH
$loc_465669$85786:
; Line 3951
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3952
	jb	$loc_46575F$85787
; Line 3953
	add	edi, ebp
; Line 3954
	mov	ecx, 32					; 00000020H
; Line 3955
	sub	ecx, ebp
; Line 3956
	mov	edx, ecx
; Line 3957
	and	edx, 2
; Line 3958
	add	esi, edx
; Line 3959
	cmp	cl, 4
; Line 3960
	jl	SHORT $loc_4656BC$85788
$loc_46568A$85789:
; Line 3962
	mov	eax, DWORD PTR [esi]
; Line 3963
	add	esi, 4
; Line 3964
	mov	dl, al
; Line 3965
	mov	ch, BYTE PTR [ebx+edx]
; Line 3966
	mov	dl, ah
; Line 3967
	ror	eax, 16					; 00000010H
; Line 3968
	mov	BYTE PTR [edi], ch
; Line 3969
	mov	ch, BYTE PTR [ebx+edx]
; Line 3970
	mov	dl, al
; Line 3971
	mov	BYTE PTR [edi+1], ch
; Line 3972
	mov	ch, BYTE PTR [ebx+edx]
; Line 3973
	mov	dl, ah
; Line 3974
	mov	BYTE PTR [edi+2], ch
; Line 3975
	mov	ch, BYTE PTR [ebx+edx]
; Line 3976
	mov	BYTE PTR [edi+3], ch
; Line 3977
	add	edi, 4
; Line 3978
	sub	cl, 4
; Line 3979
	cmp	cl, 4
; Line 3980
	jge	SHORT $loc_46568A$85789
$loc_4656BC$85788:
; Line 3982
	cmp	cl, 2
; Line 3983
	jl	SHORT $loc_4656D7$85790
; Line 3984
	mov	dl, BYTE PTR [esi]
; Line 3985
	mov	ch, BYTE PTR [ebx+edx]
; Line 3986
	mov	BYTE PTR [edi], ch
; Line 3987
	mov	dl, BYTE PTR [esi+1]
; Line 3988
	mov	ch, BYTE PTR [ebx+edx]
; Line 3989
	mov	BYTE PTR [edi+1], ch
; Line 3990
	add	esi, 2
; Line 3991
	add	edi, 2
$loc_4656D7$85790:
; Line 3993
	sub	edi, 800				; 00000320H
; Line 3994
	sub	ebp, 2
; Line 3995
	jge	SHORT $loc_465669$85786
; Line 3996
	mov	ebp, 2
$loc_4656E7$85791:
; Line 3998
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3999
	jb	SHORT $loc_46575F$85787
; Line 4000
	add	edi, ebp
; Line 4001
	mov	ecx, 32					; 00000020H
; Line 4002
	sub	ecx, ebp
; Line 4003
	mov	edx, ecx
; Line 4004
	and	edx, 2
; Line 4005
	add	esi, edx
; Line 4006
	cmp	cl, 4
; Line 4007
	jl	SHORT $loc_465736$85792
$loc_465704$85793:
; Line 4009
	mov	eax, DWORD PTR [esi]
; Line 4010
	add	esi, 4
; Line 4011
	mov	dl, al
; Line 4012
	mov	ch, BYTE PTR [ebx+edx]
; Line 4013
	mov	dl, ah
; Line 4014
	ror	eax, 16					; 00000010H
; Line 4015
	mov	BYTE PTR [edi], ch
; Line 4016
	mov	ch, BYTE PTR [ebx+edx]
; Line 4017
	mov	dl, al
; Line 4018
	mov	BYTE PTR [edi+1], ch
; Line 4019
	mov	ch, BYTE PTR [ebx+edx]
; Line 4020
	mov	dl, ah
; Line 4021
	mov	BYTE PTR [edi+2], ch
; Line 4022
	mov	ch, BYTE PTR [ebx+edx]
; Line 4023
	mov	BYTE PTR [edi+3], ch
; Line 4024
	add	edi, 4
; Line 4025
	sub	cl, 4
; Line 4026
	cmp	cl, 4
; Line 4027
	jge	SHORT $loc_465704$85793
$loc_465736$85792:
; Line 4029
	cmp	cl, 2
; Line 4030
	jl	SHORT $loc_465751$85794
; Line 4031
	mov	dl, BYTE PTR [esi]
; Line 4032
	mov	ch, BYTE PTR [ebx+edx]
; Line 4033
	mov	BYTE PTR [edi], ch
; Line 4034
	mov	dl, BYTE PTR [esi+1]
; Line 4035
	mov	ch, BYTE PTR [ebx+edx]
; Line 4036
	mov	BYTE PTR [edi+1], ch
; Line 4037
	add	esi, 2
; Line 4038
	add	edi, 2
$loc_465751$85794:
; Line 4040
	sub	edi, 800				; 00000320H
; Line 4041
	add	ebp, 2
; Line 4042
	cmp	ebp, 32					; 00000020H
; Line 4043
	jne	SHORT $loc_4656E7$85791
$loc_46575F$85787:
; Line 4045
	pop	ebp
; Line 4047
	jmp	$L85831
$L85775:
; Line 3871
	push	ebp
; Line 3872
	mov	ebp, 32					; 00000020H
$loc_4655BB$85776:
; Line 3874
	mov	edx, 32					; 00000020H
$loc_4655C0$85777:
; Line 3876
	xor	eax, eax
; Line 3877
	mov	al, BYTE PTR [esi]
; Line 3878
	inc	esi
; Line 3879
	test	al, al
; Line 3880
	js	SHORT $loc_465644$85778
; Line 3881
	sub	edx, eax
; Line 3882
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3883
	jb	$loc_46565D$85779
; Line 3884
	mov	ecx, eax
; Line 3885
	push	edx
; Line 3886
	cmp	cl, 4
; Line 3887
	jl	SHORT $loc_465611$85780
$loc_4655DF$85781:
; Line 3889
	mov	eax, DWORD PTR [esi]
; Line 3890
	add	esi, 4
; Line 3891
	mov	dl, al
; Line 3892
	mov	ch, BYTE PTR [ebx+edx]
; Line 3893
	mov	dl, ah
; Line 3894
	ror	eax, 16					; 00000010H
; Line 3895
	mov	BYTE PTR [edi], ch
; Line 3896
	mov	ch, BYTE PTR [ebx+edx]
; Line 3897
	mov	dl, al
; Line 3898
	mov	BYTE PTR [edi+1], ch
; Line 3899
	mov	ch, BYTE PTR [ebx+edx]
; Line 3900
	mov	dl, ah
; Line 3901
	mov	BYTE PTR [edi+2], ch
; Line 3902
	mov	ch, BYTE PTR [ebx+edx]
; Line 3903
	mov	BYTE PTR [edi+3], ch
; Line 3904
	add	edi, 4
; Line 3905
	sub	cl, 4
; Line 3906
	cmp	cl, 4
; Line 3907
	jge	SHORT $loc_4655DF$85781
$loc_465611$85780:
; Line 3909
	cmp	cl, 2
; Line 3910
	jl	SHORT $loc_46562C$85782
; Line 3911
	mov	dl, BYTE PTR [esi]
; Line 3912
	mov	ch, BYTE PTR [ebx+edx]
; Line 3913
	mov	BYTE PTR [edi], ch
; Line 3914
	mov	dl, BYTE PTR [esi+1]
; Line 3915
	mov	ch, BYTE PTR [ebx+edx]
; Line 3916
	mov	BYTE PTR [edi+1], ch
; Line 3917
	add	esi, 2
; Line 3918
	add	edi, 2
$loc_46562C$85782:
; Line 3920
	and	cl, 1
; Line 3921
	je	SHORT $loc_46563A$85783
; Line 3922
	mov	dl, BYTE PTR [esi]
; Line 3923
	inc	esi
; Line 3924
	mov	dl, BYTE PTR [ebx+edx]
; Line 3925
	mov	BYTE PTR [edi], dl
; Line 3926
	inc	edi
$loc_46563A$85783:
; Line 3928
	pop	edx
; Line 3929
	test	edx, edx
; Line 3930
	je	SHORT $loc_465650$85784
; Line 3931
	jmp	$loc_4655C0$85777
$loc_465644$85778:
; Line 3934
	neg	al
; Line 3935
	add	edi, eax
; Line 3936
	sub	edx, eax
; Line 3937
	jne	$loc_4655C0$85777
$loc_465650$85784:
; Line 3939
	sub	edi, 800				; 00000320H
; Line 3940
	dec	ebp
; Line 3941
	jne	$loc_4655BB$85776
$loc_46565D$85779:
; Line 3943
	pop	ebp
; Line 3945
	jmp	$L85831
$L85771:
; Line 3836
	mov	edx, 32					; 00000020H
$loc_465562$85772:
; Line 3838
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3839
	jb	SHORT $ret_465F33_0L$85773
; Line 3840
	mov	ecx, 32					; 00000020H
; Line 3841
	push	edx
$loc_465574$85774:
; Line 3843
	mov	eax, DWORD PTR [esi]
; Line 3844
	add	esi, 4
; Line 3845
	mov	dl, al
; Line 3846
	mov	ch, BYTE PTR [ebx+edx]
; Line 3847
	mov	dl, ah
; Line 3848
	ror	eax, 16					; 00000010H
; Line 3849
	mov	BYTE PTR [edi], ch
; Line 3850
	mov	ch, BYTE PTR [ebx+edx]
; Line 3851
	mov	dl, al
; Line 3852
	mov	BYTE PTR [edi+1], ch
; Line 3853
	mov	ch, BYTE PTR [ebx+edx]
; Line 3854
	mov	dl, ah
; Line 3855
	mov	BYTE PTR [edi+2], ch
; Line 3856
	mov	ch, BYTE PTR [ebx+edx]
; Line 3857
	mov	BYTE PTR [edi+3], ch
; Line 3858
	add	edi, 4
; Line 3859
	sub	cl, 4
; Line 3860
	cmp	cl, 4
; Line 3861
	jge	SHORT $loc_465574$85774
; Line 3862
	pop	edx
; Line 3863
	sub	edi, 800				; 00000320H
; Line 3864
	dec	edx
; Line 3865
	jne	SHORT $loc_465562$85772
$ret_465F33_0L$85773:
; Line 4315
	jmp	$L85831
$L85762:
; Line 4318
	shl	eax, 4
	add	eax, ecx
	mov	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[eax*4]
	add	eax, DWORD PTR _pSpeedCels
; Line 4319
	shr	dx, 12					; 0000000cH
	mov	DWORD PTR _src$[ebp], eax
	mov	eax, edx
$LABEL_22$85709:
; Line 3512
	xor	edx, edx
; Line 3513
	xor	ecx, ecx
; Line 3514
	mov	edi, DWORD PTR _dst$[ebp]
; Line 3515
	mov	esi, DWORD PTR _src$[ebp]
; Line 4319
	movsx	eax, ax
	sub	eax, 8
	je	$L85714
; Line 3518
	dec	eax
	je	$L85718
	dec	eax
	je	$L85727
	dec	eax
	je	$L85735
	dec	eax
	je	SHORT $L85745
; Line 3767
	push	ebp
; Line 3768
	mov	edx, 30					; 0000001eH
$loc_465C59$85753:
; Line 3770
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3771
	jb	SHORT $loc_465CC2$85754
; Line 3772
	mov	ecx, 32					; 00000020H
; Line 3773
	sub	ecx, edx
; Line 3774
	mov	ebp, ecx
; Line 3775
	shr	ecx, 2
; Line 3776
	je	SHORT $loc_465C7C$85755
$loc_465C6F$85756:
; Line 3778
	mov	eax, DWORD PTR [esi]
; Line 3779
	add	esi, 4
; Line 3780
	mov	DWORD PTR [edi], eax
; Line 3781
	add	edi, 4
; Line 3782
	dec	ecx
; Line 3783
	jne	SHORT $loc_465C6F$85756
$loc_465C7C$85755:
; Line 3785
	and	ebp, 2
; Line 3786
	je	SHORT $loc_465C8D$85757
; Line 3787
	mov	ax, WORD PTR [esi]
; Line 3788
	add	esi, 4
; Line 3789
	mov	WORD PTR [edi], ax
; Line 3790
	add	edi, 2
$loc_465C8D$85757:
; Line 3792
	sub	edi, 800				; 00000320H
; Line 3793
	add	edi, edx
; Line 3794
	sub	edx, 2
; Line 3795
	jge	SHORT $loc_465C59$85753
; Line 3796
	mov	edx, 16					; 00000010H
$loc_465C9F$85758:
; Line 3798
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3799
	jb	SHORT $loc_465CC2$85754
; Line 3800
	mov	ecx, 8
$loc_465CAC$85759:
; Line 3802
	mov	eax, DWORD PTR [esi]
; Line 3803
	add	esi, 4
; Line 3804
	mov	DWORD PTR [edi], eax
; Line 3805
	add	edi, 4
; Line 3806
	dec	ecx
; Line 3807
	jne	SHORT $loc_465CAC$85759
; Line 3808
	sub	edi, 800				; 00000320H
; Line 3809
	dec	edx
; Line 3810
	jne	SHORT $loc_465C9F$85758
$loc_465CC2$85754:
; Line 3812
	pop	ebp
; Line 3814
	jmp	$L85831
$L85745:
; Line 3721
	mov	edx, 30					; 0000001eH
$loc_465BDF$85746:
; Line 3723
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3724
	jb	SHORT $ret_465F33_12S$85747
; Line 3725
	add	edi, edx
; Line 3726
	mov	ecx, 32					; 00000020H
; Line 3727
	sub	ecx, edx
; Line 3728
	shr	ecx, 2
; Line 3729
	jae	SHORT $loc_465C0A$85748
; Line 3730
	mov	ax, WORD PTR [esi+2]
; Line 3731
	add	esi, 4
; Line 3732
	mov	WORD PTR [edi], ax
; Line 3733
	add	edi, 2
; Line 3734
	test	ecx, ecx
; Line 3735
	je	SHORT $loc_465C17$85749
$loc_465C0A$85748:
; Line 3737
	mov	eax, DWORD PTR [esi]
; Line 3738
	add	esi, 4
; Line 3739
	mov	DWORD PTR [edi], eax
; Line 3740
	add	edi, 4
; Line 3741
	dec	ecx
; Line 3742
	jne	SHORT $loc_465C0A$85748
$loc_465C17$85749:
; Line 3744
	sub	edi, 800				; 00000320H
; Line 3745
	sub	edx, 2
; Line 3746
	jge	SHORT $loc_465BDF$85746
; Line 3747
	mov	edx, 16					; 00000010H
$loc_465C27$85750:
; Line 3749
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3750
	jb	SHORT $ret_465F33_12S$85747
; Line 3751
	mov	ecx, 8
$loc_465C38$85751:
; Line 3753
	mov	eax, DWORD PTR [esi]
; Line 3754
	add	esi, 4
; Line 3755
	mov	DWORD PTR [edi], eax
; Line 3756
	add	edi, 4
; Line 3757
	dec	ecx
; Line 3758
	jne	SHORT $loc_465C38$85751
; Line 3759
	sub	edi, 800				; 00000320H
; Line 3760
	dec	edx
; Line 3761
	jne	SHORT $loc_465C27$85750
$ret_465F33_12S$85747:
; Line 3764
	jmp	$L85831
$L85735:
; Line 3657
	push	ebp
; Line 3658
	mov	edx, 30					; 0000001eH
$loc_465B46$85736:
; Line 3660
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3661
	jb	$loc_465BD4$85737
; Line 3662
	mov	ecx, 32					; 00000020H
; Line 3663
	sub	ecx, edx
; Line 3664
	mov	ebp, ecx
; Line 3665
	shr	ecx, 2
; Line 3666
	je	SHORT $loc_465B6D$85738
$loc_465B60$85739:
; Line 3668
	mov	eax, DWORD PTR [esi]
; Line 3669
	add	esi, 4
; Line 3670
	mov	DWORD PTR [edi], eax
; Line 3671
	add	edi, 4
; Line 3672
	dec	ecx
; Line 3673
	jne	SHORT $loc_465B60$85739
$loc_465B6D$85738:
; Line 3675
	and	ebp, 2
; Line 3676
	je	SHORT $loc_465B7E$85740
; Line 3677
	mov	ax, WORD PTR [esi]
; Line 3678
	add	esi, 4
; Line 3679
	mov	WORD PTR [edi], ax
; Line 3680
	add	edi, 2
$loc_465B7E$85740:
; Line 3682
	sub	edi, 800				; 00000320H
; Line 3683
	add	edi, edx
; Line 3684
	sub	edx, 2
; Line 3685
	jge	SHORT $loc_465B46$85736
; Line 3686
	mov	edx, 2
$loc_465B90$85741:
; Line 3688
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3689
	jb	SHORT $loc_465BD4$85737
; Line 3690
	mov	ecx, 32					; 00000020H
; Line 3691
	sub	ecx, edx
; Line 3692
	mov	ebp, ecx
; Line 3693
	shr	ecx, 2
; Line 3694
	je	SHORT $loc_465BB3$85742
$loc_465BA6$85743:
; Line 3696
	mov	eax, DWORD PTR [esi]
; Line 3697
	add	esi, 4
; Line 3698
	mov	DWORD PTR [edi], eax
; Line 3699
	add	edi, 4
; Line 3700
	dec	ecx
; Line 3701
	jne	SHORT $loc_465BA6$85743
$loc_465BB3$85742:
; Line 3703
	and	ebp, 2
; Line 3704
	je	SHORT $loc_465BC4$85744
; Line 3705
	mov	ax, WORD PTR [esi]
; Line 3706
	add	esi, 4
; Line 3707
	mov	WORD PTR [edi], ax
; Line 3708
	add	edi, 2
$loc_465BC4$85744:
; Line 3710
	sub	edi, 800				; 00000320H
; Line 3711
	add	edi, edx
; Line 3712
	add	edx, 2
; Line 3713
	cmp	edx, 32					; 00000020H
; Line 3714
	jne	SHORT $loc_465B90$85741
$loc_465BD4$85737:
; Line 3716
	pop	ebp
; Line 3718
	jmp	$L85831
$L85727:
; Line 3599
	mov	edx, 30					; 0000001eH
$loc_465AAD$85728:
; Line 3601
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3602
	jb	SHORT $ret_465F33_10S$85729
; Line 3603
	add	edi, edx
; Line 3604
	mov	ecx, 32					; 00000020H
; Line 3605
	sub	ecx, edx
; Line 3606
	shr	ecx, 2
; Line 3607
	jae	SHORT $loc_465AD8$85730
; Line 3608
	mov	ax, WORD PTR [esi+2]
; Line 3609
	add	esi, 4
; Line 3610
	mov	WORD PTR [edi], ax
; Line 3611
	add	edi, 2
; Line 3612
	test	ecx, ecx
; Line 3613
	je	SHORT $loc_465AE5$85731
$loc_465AD8$85730:
; Line 3615
	mov	eax, DWORD PTR [esi]
; Line 3616
	add	esi, 4
; Line 3617
	mov	DWORD PTR [edi], eax
; Line 3618
	add	edi, 4
; Line 3619
	dec	ecx
; Line 3620
	jne	SHORT $loc_465AD8$85730
$loc_465AE5$85731:
; Line 3622
	sub	edi, 800				; 00000320H
; Line 3623
	sub	edx, 2
; Line 3624
	jge	SHORT $loc_465AAD$85728
; Line 3625
	mov	edx, 2
$loc_465AF5$85732:
; Line 3627
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3628
	jb	SHORT $ret_465F33_10S$85729
; Line 3629
	add	edi, edx
; Line 3630
	mov	ecx, 32					; 00000020H
; Line 3631
	sub	ecx, edx
; Line 3632
	shr	ecx, 2
; Line 3633
	jae	SHORT $loc_465B20$85733
; Line 3634
	mov	ax, WORD PTR [esi+2]
; Line 3635
	add	esi, 4
; Line 3636
	mov	WORD PTR [edi], ax
; Line 3637
	add	edi, 2
; Line 3638
	test	ecx, ecx
; Line 3639
	je	SHORT $loc_465B2D$85734
$loc_465B20$85733:
; Line 3641
	mov	eax, DWORD PTR [esi]
; Line 3642
	add	esi, 4
; Line 3643
	mov	DWORD PTR [edi], eax
; Line 3644
	add	edi, 4
; Line 3645
	dec	ecx
; Line 3646
	jne	SHORT $loc_465B20$85733
$loc_465B2D$85734:
; Line 3648
	sub	edi, 800				; 00000320H
; Line 3649
	add	edx, 2
; Line 3650
	cmp	edx, 32					; 00000020H
; Line 3651
	jne	SHORT $loc_465AF5$85732
$ret_465F33_10S$85729:
; Line 3654
	jmp	$L85831
$L85718:
; Line 3541
	push	ebp
; Line 3542
	mov	ebp, 32					; 00000020H
$loc_465A42$85719:
; Line 3544
	mov	edx, 32					; 00000020H
$loc_465A47$85720:
; Line 3546
	xor	eax, eax
; Line 3547
	mov	al, BYTE PTR [esi]
; Line 3548
	inc	esi
; Line 3549
	test	al, al
; Line 3550
	js	SHORT $loc_465A91$85721
; Line 3551
	sub	edx, eax
; Line 3552
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3553
	jb	SHORT $loc_465AA2$85722
; Line 3554
	mov	ecx, eax
; Line 3555
	shr	ecx, 1
; Line 3556
	jae	SHORT $loc_465A6A$85723
; Line 3557
	mov	al, BYTE PTR [esi]
; Line 3558
	inc	esi
; Line 3559
	mov	BYTE PTR [edi], al
; Line 3560
	inc	edi
; Line 3561
	test	ecx, ecx
; Line 3562
	je	SHORT $loc_465A8B$85724
$loc_465A6A$85723:
; Line 3564
	shr	ecx, 1
; Line 3565
	jae	SHORT $loc_465A7E$85725
; Line 3566
	mov	ax, WORD PTR [esi]
; Line 3567
	add	esi, 2
; Line 3568
	mov	WORD PTR [edi], ax
; Line 3569
	add	edi, 2
; Line 3570
	test	ecx, ecx
; Line 3571
	je	SHORT $loc_465A8B$85724
$loc_465A7E$85725:
; Line 3573
	mov	eax, DWORD PTR [esi]
; Line 3574
	add	esi, 4
; Line 3575
	mov	DWORD PTR [edi], eax
; Line 3576
	add	edi, 4
; Line 3577
	dec	ecx
; Line 3578
	jne	SHORT $loc_465A7E$85725
$loc_465A8B$85724:
; Line 3580
	test	edx, edx
; Line 3581
	je	SHORT $loc_465A99$85726
; Line 3582
	jmp	SHORT $loc_465A47$85720
$loc_465A91$85721:
; Line 3585
	neg	al
; Line 3586
	add	edi, eax
; Line 3587
	sub	edx, eax
; Line 3588
	jne	SHORT $loc_465A47$85720
$loc_465A99$85726:
; Line 3590
	sub	edi, 800				; 00000320H
; Line 3591
	dec	ebp
; Line 3592
	jne	SHORT $loc_465A42$85719
$loc_465AA2$85722:
; Line 3594
	pop	ebp
; Line 3596
	jmp	$L85831
$L85714:
; Line 3521
	mov	edx, 32					; 00000020H
$loc_465A10$85715:
; Line 3523
	cmp	edi, DWORD PTR _gpBufEnd
; Line 3524
	jb	SHORT $ret_465F33_8S$85716
; Line 3525
	mov	ecx, 8
$loc_465A21$85717:
; Line 3527
	mov	eax, DWORD PTR [esi]
; Line 3528
	add	esi, 4
; Line 3529
	mov	DWORD PTR [edi], eax
; Line 3530
	add	edi, 4
; Line 3531
	dec	ecx
; Line 3532
	jne	SHORT $loc_465A21$85717
; Line 3533
	sub	edi, 800				; 00000320H
; Line 3534
	dec	edx
; Line 3535
	jne	SHORT $loc_465A10$85715
$ret_465F33_8S$85716:
; Line 3816
	jmp	$L85831
$L85761:
; Line 4322
	mov	ecx, DWORD PTR _level_cel_block
	mov	edx, 4095				; 00000fffH
	test	ch, ch
	jns	SHORT $L85824
; Line 4324
	mov	eax, ecx
	and	ecx, 61440				; 0000f000H
	and	eax, edx
	shl	eax, 6
	add	ecx, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[eax]
	mov	DWORD PTR _level_cel_block, ecx
$L85824:
; Line 4325
	mov	eax, ecx
	and	eax, edx
	mov	edx, DWORD PTR _pDungeonCels
; Line 4326
	shr	ecx, 12					; 0000000cH
	mov	eax, DWORD PTR [edx+eax*4]
	and	ecx, 7
	add	eax, edx
	mov	ebx, ecx
	mov	DWORD PTR _src$[ebp], eax
; Line 4328
	xor	edx, edx
; Line 4329
	xor	ecx, ecx
; Line 4330
	mov	edi, DWORD PTR _dst$[ebp]
; Line 4331
	mov	esi, DWORD PTR _src$[ebp]
; Line 4334
	movsx	ecx, bx
	sub	ecx, 0
	je	$L85834
	dec	ecx
	je	$L85838
	dec	ecx
	je	$L85847
	dec	ecx
	je	$L85856
	dec	ecx
	je	SHORT $L85865
; Line 4565
	mov	edx, 30					; 0000001eH
; Line 4566
	xor	eax, eax
$loc_465ED6$85874:
; Line 4568
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4569
	jb	SHORT $ret_465F33_5B$85875
; Line 4570
	mov	ecx, 32					; 00000020H
; Line 4571
	sub	ecx, edx
; Line 4572
	shr	ecx, 2
; Line 4573
	jae	SHORT $loc_465EF4$85876
; Line 4574
	mov	WORD PTR [edi], ax
; Line 4575
	add	edi, 2
; Line 4576
	test	ecx, ecx
; Line 4577
	je	SHORT $loc_465EFC$85877
$loc_465EF4$85876:
; Line 4579
	mov	DWORD PTR [edi], eax
; Line 4580
	add	edi, 4
; Line 4581
	dec	ecx
; Line 4582
	jne	SHORT $loc_465EF4$85876
$loc_465EFC$85877:
; Line 4584
	sub	edi, 800				; 00000320H
; Line 4585
	test	edx, edx
; Line 4586
	je	SHORT $loc_465F0D$85878
; Line 4587
	add	edi, edx
; Line 4588
	sub	edx, 2
; Line 4589
	jmp	SHORT $loc_465ED6$85874
$loc_465F0D$85878:
; Line 4592
	mov	edx, 16					; 00000010H
$loc_465F12$85879:
; Line 4594
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4595
	jb	SHORT $ret_465F33_5B$85875
; Line 4596
	mov	ecx, 8
$loc_465F1F$85880:
; Line 4598
	mov	DWORD PTR [edi], eax
; Line 4599
	add	edi, 4
; Line 4600
	dec	ecx
; Line 4601
	jne	SHORT $loc_465F1F$85880
; Line 4602
	sub	edi, 800				; 00000320H
; Line 4603
	dec	edx
; Line 4604
	jne	SHORT $loc_465F12$85879
$ret_465F33_5B$85875:
; Line 4607
	jmp	$L85831
$L85865:
; Line 4520
	mov	edx, 30					; 0000001eH
; Line 4521
	xor	eax, eax
$loc_465E6B$85866:
; Line 4523
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4524
	jb	SHORT $ret_465F33_4B$85867
; Line 4525
	add	edi, edx
; Line 4526
	mov	ecx, 32					; 00000020H
; Line 4527
	sub	ecx, edx
; Line 4528
	shr	ecx, 2
; Line 4529
	jae	SHORT $loc_465E8F$85868
; Line 4530
	mov	WORD PTR [edi], ax
; Line 4531
	add	edi, 2
; Line 4532
	test	ecx, ecx
; Line 4533
	je	SHORT $loc_465E97$85869
$loc_465E8F$85868:
; Line 4535
	mov	DWORD PTR [edi], eax
; Line 4536
	add	edi, 4
; Line 4537
	dec	ecx
; Line 4538
	jne	SHORT $loc_465E8F$85868
$loc_465E97$85869:
; Line 4540
	sub	edi, 800				; 00000320H
; Line 4541
	test	edx, edx
; Line 4542
	je	SHORT $loc_465EA6$85870
; Line 4543
	sub	edx, 2
; Line 4544
	jmp	SHORT $loc_465E6B$85866
$loc_465EA6$85870:
; Line 4547
	mov	edx, 16					; 00000010H
$loc_465EAB$85871:
; Line 4549
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4550
	jb	SHORT $ret_465F33_4B$85867
; Line 4551
	mov	ecx, 8
$loc_465EBC$85872:
; Line 4553
	mov	DWORD PTR [edi], eax
; Line 4554
	add	edi, 4
; Line 4555
	dec	ecx
; Line 4556
	jne	SHORT $loc_465EBC$85872
; Line 4557
	sub	edi, 800				; 00000320H
; Line 4558
	dec	edx
; Line 4559
	jne	SHORT $loc_465EAB$85871
$ret_465F33_4B$85867:
; Line 4562
	jmp	$L85831
$L85856:
; Line 4465
	mov	edx, 30					; 0000001eH
; Line 4466
	xor	eax, eax
$loc_465DE5$85857:
; Line 4468
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4469
	jb	SHORT $ret_465F33_3B$85858
; Line 4470
	mov	ecx, 32					; 00000020H
; Line 4471
	sub	ecx, edx
; Line 4472
	shr	ecx, 2
; Line 4473
	jae	SHORT $loc_465E07$85859
; Line 4474
	mov	WORD PTR [edi], ax
; Line 4475
	add	edi, 2
; Line 4476
	test	ecx, ecx
; Line 4477
	je	SHORT $loc_465E0F$85860
$loc_465E07$85859:
; Line 4479
	mov	DWORD PTR [edi], eax
; Line 4480
	add	edi, 4
; Line 4481
	dec	ecx
; Line 4482
	jne	SHORT $loc_465E07$85859
$loc_465E0F$85860:
; Line 4484
	sub	edi, 800				; 00000320H
; Line 4485
	test	edx, edx
; Line 4486
	je	SHORT $loc_465E20$85861
; Line 4487
	add	edi, edx
; Line 4488
	sub	edx, 2
; Line 4489
	jmp	SHORT $loc_465DE5$85857
$loc_465E20$85861:
; Line 4492
	mov	edx, 2
$loc_465E25$85862:
; Line 4494
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4495
	jb	SHORT $ret_465F33_3B$85858
; Line 4496
	mov	ecx, 32					; 00000020H
; Line 4497
	sub	ecx, edx
; Line 4498
	shr	ecx, 2
; Line 4499
	jae	SHORT $loc_465E47$85863
; Line 4500
	mov	WORD PTR [edi], ax
; Line 4501
	add	edi, 2
; Line 4502
	test	ecx, ecx
; Line 4503
	je	SHORT $loc_465E4F$85864
$loc_465E47$85863:
; Line 4505
	mov	DWORD PTR [edi], eax
; Line 4506
	add	edi, 4
; Line 4507
	dec	ecx
; Line 4508
	jne	SHORT $loc_465E47$85863
$loc_465E4F$85864:
; Line 4510
	sub	edi, 800				; 00000320H
; Line 4511
	add	edi, edx
; Line 4512
	add	edx, 2
; Line 4513
	cmp	edx, 32					; 00000020H
; Line 4514
	jne	SHORT $loc_465E25$85862
$ret_465F33_3B$85858:
; Line 4517
	jmp	$L85831
$L85847:
; Line 4410
	mov	edx, 30					; 0000001eH
; Line 4411
	xor	eax, eax
$loc_465D5F$85848:
; Line 4413
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4414
	jb	SHORT $ret_465F33_2B$85849
; Line 4415
	add	edi, edx
; Line 4416
	mov	ecx, 32					; 00000020H
; Line 4417
	sub	ecx, edx
; Line 4418
	shr	ecx, 2
; Line 4419
	jae	SHORT $loc_465D83$85850
; Line 4420
	mov	WORD PTR [edi], ax
; Line 4421
	add	edi, 2
; Line 4422
	test	ecx, ecx
; Line 4423
	je	SHORT $loc_465D8B$85851
$loc_465D83$85850:
; Line 4425
	mov	DWORD PTR [edi], eax
; Line 4426
	add	edi, 4
; Line 4427
	dec	ecx
; Line 4428
	jne	SHORT $loc_465D83$85850
$loc_465D8B$85851:
; Line 4430
	sub	edi, 800				; 00000320H
; Line 4431
	test	edx, edx
; Line 4432
	je	SHORT $loc_465D9A$85852
; Line 4433
	sub	edx, 2
; Line 4434
	jmp	SHORT $loc_465D5F$85848
$loc_465D9A$85852:
; Line 4437
	mov	edx, 2
$loc_465D9F$85853:
; Line 4439
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4440
	jb	SHORT $ret_465F33_2B$85849
; Line 4441
	add	edi, edx
; Line 4442
	mov	ecx, 32					; 00000020H
; Line 4443
	sub	ecx, edx
; Line 4444
	shr	ecx, 2
; Line 4445
	jae	SHORT $loc_465DC3$85854
; Line 4446
	mov	WORD PTR [edi], ax
; Line 4447
	add	edi, 2
; Line 4448
	test	ecx, ecx
; Line 4449
	je	SHORT $loc_465DCB$85855
$loc_465DC3$85854:
; Line 4451
	mov	DWORD PTR [edi], eax
; Line 4452
	add	edi, 4
; Line 4453
	dec	ecx
; Line 4454
	jne	SHORT $loc_465DC3$85854
$loc_465DCB$85855:
; Line 4456
	sub	edi, 800				; 00000320H
; Line 4457
	add	edx, 2
; Line 4458
	cmp	edx, 32					; 00000020H
; Line 4459
	jne	SHORT $loc_465D9F$85853
$ret_465F33_2B$85849:
; Line 4462
	jmp	$L85831
$L85838:
; Line 4356
	push	ebp
; Line 4357
	mov	ebp, 32					; 00000020H
$loc_465CFC$85839:
; Line 4359
	mov	edx, 32					; 00000020H
$loc_465D01$85840:
; Line 4361
	xor	eax, eax
; Line 4362
	mov	al, BYTE PTR [esi]
; Line 4363
	inc	esi
; Line 4364
	test	al, al
; Line 4365
	js	SHORT $loc_465D41$85841
; Line 4366
	sub	edx, eax
; Line 4367
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4368
	jb	SHORT $loc_465D52$85842
; Line 4369
	mov	ecx, eax
; Line 4370
	add	esi, ecx
; Line 4371
	xor	eax, eax
; Line 4372
	shr	ecx, 1
; Line 4373
	jae	SHORT $loc_465D25$85843
; Line 4374
	mov	BYTE PTR [edi], al
; Line 4375
	inc	edi
; Line 4376
	test	ecx, ecx
; Line 4377
	je	SHORT $loc_465D3B$85844
$loc_465D25$85843:
; Line 4379
	shr	ecx, 1
; Line 4380
	jae	SHORT $loc_465D33$85845
; Line 4381
	mov	WORD PTR [edi], ax
; Line 4382
	add	edi, 2
; Line 4383
	test	ecx, ecx
; Line 4384
	je	SHORT $loc_465D3B$85844
$loc_465D33$85845:
; Line 4386
	mov	DWORD PTR [edi], eax
; Line 4387
	add	edi, 4
; Line 4388
	dec	ecx
; Line 4389
	jne	SHORT $loc_465D33$85845
$loc_465D3B$85844:
; Line 4391
	test	edx, edx
; Line 4392
	je	SHORT $loc_465D49$85846
; Line 4393
	jmp	SHORT $loc_465D01$85840
$loc_465D41$85841:
; Line 4396
	neg	al
; Line 4397
	add	edi, eax
; Line 4398
	sub	edx, eax
; Line 4399
	jne	SHORT $loc_465D01$85840
$loc_465D49$85846:
; Line 4401
	sub	edi, 800				; 00000320H
; Line 4402
	dec	ebp
; Line 4403
	jne	SHORT $loc_465CFC$85839
$loc_465D52$85842:
; Line 4405
	pop	ebp
; Line 4407
	jmp	SHORT $L85831
$L85834:
; Line 4337
	mov	edx, 32					; 00000020H
; Line 4338
	xor	eax, eax
$loc_465CCF$85835:
; Line 4340
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4341
	jb	SHORT $ret_465F33_0B$85836
; Line 4342
	mov	ecx, 8
$loc_465CE0$85837:
; Line 4344
	mov	DWORD PTR [edi], eax
; Line 4345
	add	edi, 4
; Line 4346
	dec	ecx
; Line 4347
	jne	SHORT $loc_465CE0$85837
; Line 4348
	sub	edi, 800				; 00000320H
; Line 4349
	dec	edx
; Line 4350
	jne	SHORT $loc_465CCF$85835
$ret_465F33_0B$85836:
$L85831:
; Line 4609
	pop	edi
	pop	esi
	pop	ebx
	leave
	ret	0
@drawUpperScreen@4 ENDP
_TEXT	ENDS
PUBLIC	@drawTopArchesLowerScreen@4
; Function compile flags: /Ogsy
;	COMDAT @drawTopArchesLowerScreen@4
_TEXT	SEGMENT
_dst$ = -8
_tbl$ = -12
_src$ = -4
@drawTopArchesLowerScreen@4 PROC NEAR			; COMDAT
; _pbDst$ = ecx
; Line 4612
	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
; Line 4620
	mov	eax, DWORD PTR _light_table_index
	push	ebx
	push	esi
	push	edi
	test	al, al
	mov	DWORD PTR _gpCelFrame, OFFSET FLAT:_speed_cel_frame_num_from_light_index_frame_num
	mov	DWORD PTR _dst$[ebp], ecx
	jne	SHORT $L85890
; Line 4622
	mov	eax, DWORD PTR _level_cel_block
	mov	ecx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L85891
; Line 4624
	mov	edx, eax
	and	eax, 61440				; 0000f000H
	and	edx, ecx
	shl	edx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx]
	mov	DWORD PTR _level_cel_block, eax
$L85891:
; Line 4625
	mov	edx, eax
	and	edx, ecx
	mov	ecx, DWORD PTR _pDungeonCels
; Line 4626
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+edx*4]
	and	eax, 7
	add	edx, ecx
	add	eax, 8
	mov	DWORD PTR _src$[ebp], edx
; Line 4627
	jmp	$LABEL_11$85896
$L85890:
; Line 4629
	movsx	ecx, BYTE PTR _lightmax
	movzx	edx, al
	cmp	edx, ecx
	jne	$L85898
; Line 4631
	mov	eax, DWORD PTR _level_cel_block
	mov	ecx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L85899
; Line 4633
	mov	edx, eax
	and	eax, 61440				; 0000f000H
	and	edx, ecx
	shl	edx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx]
	mov	DWORD PTR _level_cel_block, eax
$L85899:
; Line 4634
	mov	edx, eax
	and	edx, ecx
	mov	ecx, DWORD PTR _pDungeonCels
; Line 4635
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+edx*4]
	and	eax, 7
	add	edx, ecx
	mov	DWORD PTR _src$[ebp], edx
; Line 4637
	xor	edx, edx
; Line 4638
	xor	ecx, ecx
; Line 4639
	mov	edi, DWORD PTR _dst$[ebp]
; Line 4640
	mov	esi, DWORD PTR _src$[ebp]
; Line 4643
	movsx	eax, ax
	sub	eax, 0
	je	$L85908
	dec	eax
	je	$L85916
	dec	eax
	je	$L85928
	dec	eax
	je	$L85942
	dec	eax
	je	$L85956
; Line 5116
	xor	eax, eax
; Line 5117
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5118
	mov	edx, 30					; 0000001eH
$loc_467877$85972:
; Line 5120
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5121
	jb	SHORT $loc_46788B$85973
; Line 5122
	add	esi, 32					; 00000020H
; Line 5123
	sub	esi, edx
; Line 5124
	add	edi, 32					; 00000020H
; Line 5125
	sub	edi, edx
; Line 5126
	jmp	SHORT $loc_4678DA$85974
$loc_46788B$85973:
; Line 5129
	mov	ecx, 32					; 00000020H
; Line 5130
	sub	ecx, edx
; Line 5131
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5132
	inc	eax
; Line 5133
	and	eax, 1
; Line 5134
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5135
	je	SHORT $loc_4678BF$85975
; Line 5136
	xor	eax, eax
; Line 5137
	shr	ecx, 2
; Line 5138
	jae	SHORT $loc_4678B1$85976
; Line 5139
	inc	edi
; Line 5140
	mov	BYTE PTR [edi], al
; Line 5141
	inc	edi
; Line 5142
	test	ecx, ecx
; Line 5143
	je	SHORT $loc_4678DA$85974
$loc_4678B1$85976:
; Line 5145
	mov	BYTE PTR [edi+1], al
; Line 5146
	mov	BYTE PTR [edi+3], al
; Line 5147
	add	edi, 4
; Line 5148
	dec	ecx
; Line 5149
	jne	SHORT $loc_4678B1$85976
; Line 5150
	jmp	SHORT $loc_4678DA$85974
$loc_4678BF$85975:
; Line 5153
	xor	eax, eax
; Line 5154
	shr	ecx, 2
; Line 5155
	jae	SHORT $loc_4678CF$85977
; Line 5156
	mov	BYTE PTR [edi], al
; Line 5157
	add	edi, 2
; Line 5158
	test	ecx, ecx
; Line 5159
	je	SHORT $loc_4678DA$85974
$loc_4678CF$85977:
; Line 5161
	mov	BYTE PTR [edi], al
; Line 5162
	mov	BYTE PTR [edi+2], al
; Line 5163
	add	edi, 4
; Line 5164
	dec	ecx
; Line 5165
	jne	SHORT $loc_4678CF$85977
$loc_4678DA$85974:
; Line 5167
	sub	edi, 800				; 00000320H
; Line 5168
	test	edx, edx
; Line 5169
	je	SHORT $loc_4678EB$85978
; Line 5170
	add	edi, edx
; Line 5171
	sub	edx, 2
; Line 5172
	jmp	SHORT $loc_467877$85972
$loc_4678EB$85978:
; Line 5175
	mov	edx, 8
$loc_4678F0$85979:
; Line 5177
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5178
	jb	SHORT $loc_467900$85980
; Line 5179
	add	esi, 32					; 00000020H
; Line 5180
	add	edi, 32					; 00000020H
; Line 5181
	jmp	SHORT $loc_467913$85981
$loc_467900$85980:
; Line 5184
	mov	ecx, 8
; Line 5185
	xor	eax, eax
$loc_467907$85982:
; Line 5187
	mov	BYTE PTR [edi+1], al
; Line 5188
	mov	BYTE PTR [edi+3], al
; Line 5189
	add	edi, 4
; Line 5190
	dec	ecx
; Line 5191
	jne	SHORT $loc_467907$85982
$loc_467913$85981:
; Line 5193
	sub	edi, 800				; 00000320H
; Line 5194
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5195
	jb	SHORT $loc_467929$85983
; Line 5196
	add	esi, 32					; 00000020H
; Line 5197
	add	edi, 32					; 00000020H
; Line 5198
	jmp	SHORT $loc_46793B$85984
$loc_467929$85983:
; Line 5201
	mov	ecx, 8
; Line 5202
	xor	eax, eax
$loc_467930$85985:
; Line 5204
	mov	BYTE PTR [edi], al
; Line 5205
	mov	BYTE PTR [edi+2], al
; Line 5206
	add	edi, 4
; Line 5207
	dec	ecx
; Line 5208
	jne	SHORT $loc_467930$85985
$loc_46793B$85984:
; Line 5210
	sub	edi, 800				; 00000320H
; Line 5211
	dec	edx
; Line 5212
	jne	SHORT $loc_4678F0$85979
; Line 5214
	jmp	$L86157
$L85956:
; Line 5016
	xor	eax, eax
; Line 5017
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5018
	mov	edx, 30					; 0000001eH
$loc_46779B$85957:
; Line 5020
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5021
	jb	SHORT $loc_4677AD$85958
; Line 5022
	add	esi, 32					; 00000020H
; Line 5023
	sub	esi, edx
; Line 5024
	add	edi, 32					; 00000020H
; Line 5025
	jmp	SHORT $loc_4677FE$85959
$loc_4677AD$85958:
; Line 5028
	add	edi, edx
; Line 5029
	mov	ecx, 32					; 00000020H
; Line 5030
	sub	ecx, edx
; Line 5031
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5032
	inc	eax
; Line 5033
	and	eax, 1
; Line 5034
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5035
	je	SHORT $loc_4677E3$85960
; Line 5036
	xor	eax, eax
; Line 5037
	shr	ecx, 2
; Line 5038
	jae	SHORT $loc_4677D5$85961
; Line 5039
	inc	edi
; Line 5040
	mov	BYTE PTR [edi], al
; Line 5041
	inc	edi
; Line 5042
	test	ecx, ecx
; Line 5043
	je	SHORT $loc_4677FE$85959
$loc_4677D5$85961:
; Line 5045
	mov	BYTE PTR [edi+1], al
; Line 5046
	mov	BYTE PTR [edi+3], al
; Line 5047
	add	edi, 4
; Line 5048
	dec	ecx
; Line 5049
	jne	SHORT $loc_4677D5$85961
; Line 5050
	jmp	SHORT $loc_4677FE$85959
$loc_4677E3$85960:
; Line 5053
	xor	eax, eax
; Line 5054
	shr	ecx, 2
; Line 5055
	jae	SHORT $loc_4677F3$85962
; Line 5056
	mov	BYTE PTR [edi], al
; Line 5057
	add	edi, 2
; Line 5058
	test	ecx, ecx
; Line 5059
	je	SHORT $loc_4677FE$85959
$loc_4677F3$85962:
; Line 5061
	mov	BYTE PTR [edi], al
; Line 5062
	mov	BYTE PTR [edi+2], al
; Line 5063
	add	edi, 4
; Line 5064
	dec	ecx
; Line 5065
	jne	SHORT $loc_4677F3$85962
$loc_4677FE$85959:
; Line 5067
	sub	edi, 800				; 00000320H
; Line 5068
	test	edx, edx
; Line 5069
	je	SHORT $loc_46780D$85963
; Line 5070
	sub	edx, 2
; Line 5071
	jmp	SHORT $loc_46779B$85957
$loc_46780D$85963:
; Line 5074
	mov	edx, 8
$loc_467812$85964:
; Line 5076
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5077
	jb	SHORT $loc_467822$85965
; Line 5078
	add	esi, 32					; 00000020H
; Line 5079
	add	edi, 32					; 00000020H
; Line 5080
	jmp	SHORT $loc_467835$85966
$loc_467822$85965:
; Line 5083
	mov	ecx, 8
; Line 5084
	xor	eax, eax
$loc_467829$85967:
; Line 5086
	mov	BYTE PTR [edi+1], al
; Line 5087
	mov	BYTE PTR [edi+3], al
; Line 5088
	add	edi, 4
; Line 5089
	dec	ecx
; Line 5090
	jne	SHORT $loc_467829$85967
$loc_467835$85966:
; Line 5092
	sub	edi, 800				; 00000320H
; Line 5093
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5094
	jb	SHORT $loc_46784B$85968
; Line 5095
	add	esi, 32					; 00000020H
; Line 5096
	add	edi, 32					; 00000020H
; Line 5097
	jmp	SHORT $loc_46785D$85969
$loc_46784B$85968:
; Line 5100
	mov	ecx, 8
; Line 5101
	xor	eax, eax
$loc_467852$85970:
; Line 5103
	mov	BYTE PTR [edi], al
; Line 5104
	mov	BYTE PTR [edi+2], al
; Line 5105
	add	edi, 4
; Line 5106
	dec	ecx
; Line 5107
	jne	SHORT $loc_467852$85970
$loc_46785D$85969:
; Line 5109
	sub	edi, 800				; 00000320H
; Line 5110
	dec	edx
; Line 5111
	jne	SHORT $loc_467812$85964
; Line 5113
	jmp	$L86157
$L85942:
; Line 4899
	xor	eax, eax
; Line 4900
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 4901
	mov	edx, 30					; 0000001eH
$loc_46769E$85943:
; Line 4903
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4904
	jb	SHORT $loc_4676B2$85944
; Line 4905
	add	esi, 32					; 00000020H
; Line 4906
	sub	esi, edx
; Line 4907
	add	edi, 32					; 00000020H
; Line 4908
	sub	edi, edx
; Line 4909
	jmp	SHORT $loc_467701$85945
$loc_4676B2$85944:
; Line 4912
	mov	ecx, 32					; 00000020H
; Line 4913
	sub	ecx, edx
; Line 4914
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 4915
	inc	eax
; Line 4916
	and	eax, 1
; Line 4917
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 4918
	je	SHORT $loc_4676E6$85946
; Line 4919
	xor	eax, eax
; Line 4920
	shr	ecx, 2
; Line 4921
	jae	SHORT $loc_4676D8$85947
; Line 4922
	inc	edi
; Line 4923
	mov	BYTE PTR [edi], al
; Line 4924
	inc	edi
; Line 4925
	test	ecx, ecx
; Line 4926
	je	SHORT $loc_467701$85945
$loc_4676D8$85947:
; Line 4928
	mov	BYTE PTR [edi+1], al
; Line 4929
	mov	BYTE PTR [edi+3], al
; Line 4930
	add	edi, 4
; Line 4931
	dec	ecx
; Line 4932
	jne	SHORT $loc_4676D8$85947
; Line 4933
	jmp	SHORT $loc_467701$85945
$loc_4676E6$85946:
; Line 4936
	xor	eax, eax
; Line 4937
	shr	ecx, 2
; Line 4938
	jae	SHORT $loc_4676F6$85948
; Line 4939
	mov	BYTE PTR [edi], al
; Line 4940
	add	edi, 2
; Line 4941
	test	ecx, ecx
; Line 4942
	je	SHORT $loc_467701$85945
$loc_4676F6$85948:
; Line 4944
	mov	BYTE PTR [edi], al
; Line 4945
	mov	BYTE PTR [edi+2], al
; Line 4946
	add	edi, 4
; Line 4947
	dec	ecx
; Line 4948
	jne	SHORT $loc_4676F6$85948
$loc_467701$85945:
; Line 4950
	sub	edi, 800				; 00000320H
; Line 4951
	test	edx, edx
; Line 4952
	je	SHORT $loc_467712$85949
; Line 4953
	add	edi, edx
; Line 4954
	sub	edx, 2
; Line 4955
	jmp	SHORT $loc_46769E$85943
$loc_467712$85949:
; Line 4958
	mov	edx, 2
$loc_467717$85950:
; Line 4960
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4961
	jb	SHORT $loc_46772B$85951
; Line 4962
	add	esi, 32					; 00000020H
; Line 4963
	sub	esi, edx
; Line 4964
	add	edi, 32					; 00000020H
; Line 4965
	sub	edi, edx
; Line 4966
	jmp	SHORT $loc_46777A$85952
$loc_46772B$85951:
; Line 4969
	mov	ecx, 32					; 00000020H
; Line 4970
	sub	ecx, edx
; Line 4971
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 4972
	inc	eax
; Line 4973
	and	eax, 1
; Line 4974
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 4975
	je	SHORT $loc_46775F$85953
; Line 4976
	xor	eax, eax
; Line 4977
	shr	ecx, 2
; Line 4978
	jae	SHORT $loc_467751$85954
; Line 4979
	inc	edi
; Line 4980
	mov	BYTE PTR [edi], al
; Line 4981
	inc	edi
; Line 4982
	test	ecx, ecx
; Line 4983
	je	SHORT $loc_46777A$85952
$loc_467751$85954:
; Line 4985
	mov	BYTE PTR [edi+1], al
; Line 4986
	mov	BYTE PTR [edi+3], al
; Line 4987
	add	edi, 4
; Line 4988
	dec	ecx
; Line 4989
	jne	SHORT $loc_467751$85954
; Line 4990
	jmp	SHORT $loc_46777A$85952
$loc_46775F$85953:
; Line 4993
	xor	eax, eax
; Line 4994
	shr	ecx, 2
; Line 4995
	jae	SHORT $loc_46776F$85955
; Line 4996
	mov	BYTE PTR [edi], al
; Line 4997
	add	edi, 2
; Line 4998
	test	ecx, ecx
; Line 4999
	je	SHORT $loc_46777A$85952
$loc_46776F$85955:
; Line 5001
	mov	BYTE PTR [edi], al
; Line 5002
	mov	BYTE PTR [edi+2], al
; Line 5003
	add	edi, 4
; Line 5004
	dec	ecx
; Line 5005
	jne	SHORT $loc_46776F$85955
$loc_46777A$85952:
; Line 5007
	sub	edi, 800				; 00000320H
; Line 5008
	add	edi, edx
; Line 5009
	add	edx, 2
; Line 5010
	cmp	edx, 32					; 00000020H
; Line 5011
	jne	SHORT $loc_467717$85950
; Line 5013
	jmp	$L86157
$L85928:
; Line 4784
	xor	eax, eax
; Line 4785
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 4786
	mov	edx, 30					; 0000001eH
$loc_4675A5$85929:
; Line 4788
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4789
	jb	SHORT $loc_4675B7$85930
; Line 4790
	add	esi, 32					; 00000020H
; Line 4791
	sub	esi, edx
; Line 4792
	add	edi, 32					; 00000020H
; Line 4793
	jmp	SHORT $loc_467608$85931
$loc_4675B7$85930:
; Line 4796
	add	edi, edx
; Line 4797
	mov	ecx, 32					; 00000020H
; Line 4798
	sub	ecx, edx
; Line 4799
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 4800
	inc	eax
; Line 4801
	and	eax, 1
; Line 4802
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 4803
	je	SHORT $loc_4675ED$85932
; Line 4804
	xor	eax, eax
; Line 4805
	shr	ecx, 2
; Line 4806
	jae	SHORT $loc_4675DF$85933
; Line 4807
	inc	edi
; Line 4808
	mov	BYTE PTR [edi], al
; Line 4809
	inc	edi
; Line 4810
	test	ecx, ecx
; Line 4811
	je	SHORT $loc_467608$85931
$loc_4675DF$85933:
; Line 4813
	mov	BYTE PTR [edi+1], al
; Line 4814
	mov	BYTE PTR [edi+3], al
; Line 4815
	add	edi, 4
; Line 4816
	dec	ecx
; Line 4817
	jne	SHORT $loc_4675DF$85933
; Line 4818
	jmp	SHORT $loc_467608$85931
$loc_4675ED$85932:
; Line 4821
	xor	eax, eax
; Line 4822
	shr	ecx, 2
; Line 4823
	jae	SHORT $loc_4675FD$85934
; Line 4824
	mov	BYTE PTR [edi], al
; Line 4825
	add	edi, 2
; Line 4826
	test	ecx, ecx
; Line 4827
	je	SHORT $loc_467608$85931
$loc_4675FD$85934:
; Line 4829
	mov	BYTE PTR [edi], al
; Line 4830
	mov	BYTE PTR [edi+2], al
; Line 4831
	add	edi, 4
; Line 4832
	dec	ecx
; Line 4833
	jne	SHORT $loc_4675FD$85934
$loc_467608$85931:
; Line 4835
	sub	edi, 800				; 00000320H
; Line 4836
	test	edx, edx
; Line 4837
	je	SHORT $loc_467617$85935
; Line 4838
	sub	edx, 2
; Line 4839
	jmp	SHORT $loc_4675A5$85929
$loc_467617$85935:
; Line 4842
	mov	edx, 2
$loc_46761C$85936:
; Line 4844
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4845
	jb	SHORT $loc_46762E$85937
; Line 4846
	add	esi, 32					; 00000020H
; Line 4847
	sub	esi, edx
; Line 4848
	add	edi, 32					; 00000020H
; Line 4849
	jmp	SHORT $loc_46767F$85938
$loc_46762E$85937:
; Line 4852
	add	edi, edx
; Line 4853
	mov	ecx, 32					; 00000020H
; Line 4854
	sub	ecx, edx
; Line 4855
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 4856
	inc	eax
; Line 4857
	and	eax, 1
; Line 4858
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 4859
	je	SHORT $loc_467664$85939
; Line 4860
	xor	eax, eax
; Line 4861
	shr	ecx, 2
; Line 4862
	jae	SHORT $loc_467656$85940
; Line 4863
	inc	edi
; Line 4864
	mov	BYTE PTR [edi], al
; Line 4865
	inc	edi
; Line 4866
	test	ecx, ecx
; Line 4867
	je	SHORT $loc_46767F$85938
$loc_467656$85940:
; Line 4869
	mov	BYTE PTR [edi+1], al
; Line 4870
	mov	BYTE PTR [edi+3], al
; Line 4871
	add	edi, 4
; Line 4872
	dec	ecx
; Line 4873
	jne	SHORT $loc_467656$85940
; Line 4874
	jmp	SHORT $loc_46767F$85938
$loc_467664$85939:
; Line 4877
	xor	eax, eax
; Line 4878
	shr	ecx, 2
; Line 4879
	jae	SHORT $loc_467674$85941
; Line 4880
	mov	BYTE PTR [edi], al
; Line 4881
	add	edi, 2
; Line 4882
	test	ecx, ecx
; Line 4883
	je	SHORT $loc_46767F$85938
$loc_467674$85941:
; Line 4885
	mov	BYTE PTR [edi], al
; Line 4886
	mov	BYTE PTR [edi+2], al
; Line 4887
	add	edi, 4
; Line 4888
	dec	ecx
; Line 4889
	jne	SHORT $loc_467674$85941
$loc_46767F$85938:
; Line 4891
	sub	edi, 800				; 00000320H
; Line 4892
	add	edx, 2
; Line 4893
	cmp	edx, 32					; 00000020H
; Line 4894
	jne	SHORT $loc_46761C$85936
; Line 4896
	jmp	$L86157
$L85916:
; Line 4687
	mov	eax, edi
; Line 4688
	and	eax, 1
; Line 4689
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 4690
	mov	ecx, 32					; 00000020H
$loc_4674E8$85917:
; Line 4692
	push	ecx
; Line 4693
	mov	edx, 32					; 00000020H
$loc_4674EE$85918:
; Line 4695
	xor	eax, eax
; Line 4696
	mov	al, BYTE PTR [esi]
; Line 4697
	inc	esi
; Line 4698
	test	al, al
; Line 4699
	js	SHORT $loc_46756C$85919
; Line 4700
	sub	edx, eax
; Line 4701
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4702
	jb	SHORT $loc_467507$85920
; Line 4703
	add	esi, eax
; Line 4704
	add	edi, eax
; Line 4705
	jmp	SHORT $loc_467566$85921
$loc_467507$85920:
; Line 4708
	mov	ecx, eax
; Line 4709
	add	esi, ecx
; Line 4710
	mov	eax, edi
; Line 4711
	and	eax, 1
; Line 4712
	cmp	eax, DWORD PTR _WorldBoolFlag
; Line 4713
	jne	SHORT $loc_46753F$85922
; Line 4714
	xor	eax, eax
; Line 4715
	shr	ecx, 1
; Line 4716
	jae	SHORT $loc_467525$85923
; Line 4717
	inc	edi
; Line 4718
	test	ecx, ecx
; Line 4719
	je	SHORT $loc_467566$85921
; Line 4720
	jmp	SHORT $loc_46754E$85924
$loc_467525$85923:
; Line 4723
	shr	ecx, 1
; Line 4724
	jae	SHORT $loc_467531$85925
; Line 4725
	inc	edi
; Line 4726
	mov	BYTE PTR [edi], al
; Line 4727
	inc	edi
; Line 4728
	test	ecx, ecx
; Line 4729
	je	SHORT $loc_467566$85921
$loc_467531$85925:
; Line 4731
	mov	BYTE PTR [edi+1], al
; Line 4732
	mov	BYTE PTR [edi+3], al
; Line 4733
	add	edi, 4
; Line 4734
	dec	ecx
; Line 4735
	jne	SHORT $loc_467531$85925
; Line 4736
	jmp	SHORT $loc_467566$85921
$loc_46753F$85922:
; Line 4739
	xor	eax, eax
; Line 4740
	shr	ecx, 1
; Line 4741
	jae	SHORT $loc_46754E$85924
; Line 4742
	mov	BYTE PTR [edi], al
; Line 4743
	inc	edi
; Line 4744
	test	ecx, ecx
; Line 4745
	je	SHORT $loc_467566$85921
; Line 4746
	jmp	SHORT $loc_467525$85923
$loc_46754E$85924:
; Line 4749
	shr	ecx, 1
; Line 4750
	jae	SHORT $loc_46755B$85926
; Line 4751
	mov	BYTE PTR [edi], al
; Line 4752
	add	edi, 2
; Line 4753
	test	ecx, ecx
; Line 4754
	je	SHORT $loc_467566$85921
$loc_46755B$85926:
; Line 4756
	mov	BYTE PTR [edi], al
; Line 4757
	mov	BYTE PTR [edi+2], al
; Line 4758
	add	edi, 4
; Line 4759
	dec	ecx
; Line 4760
	jne	SHORT $loc_46755B$85926
$loc_467566$85921:
; Line 4762
	test	edx, edx
; Line 4763
	je	SHORT $loc_467578$85927
; Line 4764
	jmp	SHORT $loc_4674EE$85918
$loc_46756C$85919:
; Line 4767
	neg	al
; Line 4768
	add	edi, eax
; Line 4769
	sub	edx, eax
; Line 4770
	jne	$loc_4674EE$85918
$loc_467578$85927:
; Line 4772
	pop	ecx
; Line 4773
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 4774
	inc	eax
; Line 4775
	and	eax, 1
; Line 4776
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 4777
	sub	edi, 800				; 00000320H
; Line 4778
	dec	ecx
; Line 4779
	jne	$loc_4674E8$85917
; Line 4781
	jmp	$L86157
$L85908:
; Line 4646
	mov	edx, 16					; 00000010H
; Line 4647
	xor	eax, eax
$loc_467484$85909:
; Line 4649
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4650
	jb	SHORT $loc_467494$85910
; Line 4651
	add	esi, 32					; 00000020H
; Line 4652
	add	edi, 32					; 00000020H
; Line 4653
	jmp	SHORT $loc_4674A5$85911
$loc_467494$85910:
; Line 4656
	mov	ecx, 8
$loc_467499$85912:
; Line 4658
	mov	BYTE PTR [edi+1], al
; Line 4659
	mov	BYTE PTR [edi+3], al
; Line 4660
	add	edi, 4
; Line 4661
	dec	ecx
; Line 4662
	jne	SHORT $loc_467499$85912
$loc_4674A5$85911:
; Line 4664
	sub	edi, 800				; 00000320H
; Line 4665
	cmp	edi, DWORD PTR _gpBufEnd
; Line 4666
	jb	SHORT $loc_4674BB$85913
; Line 4667
	add	esi, 32					; 00000020H
; Line 4668
	add	edi, 32					; 00000020H
; Line 4669
	jmp	SHORT $loc_4674CB$85914
$loc_4674BB$85913:
; Line 4672
	mov	ecx, 8
$loc_4674C0$85915:
; Line 4674
	mov	BYTE PTR [edi], al
; Line 4675
	mov	BYTE PTR [edi+2], al
; Line 4676
	add	edi, 4
; Line 4677
	dec	ecx
; Line 4678
	jne	SHORT $loc_4674C0$85915
$loc_4674CB$85914:
; Line 4680
	sub	edi, 800				; 00000320H
; Line 4681
	dec	edx
; Line 4682
	jne	SHORT $loc_467484$85909
; Line 5216
	jmp	$L86157
$L85898:
; Line 5218
	mov	ecx, DWORD PTR _level_cel_block
	test	ch, ch
	js	$L85986
; Line 5220
	mov	edx, DWORD PTR _pDungeonCels
	mov	esi, ecx
	and	esi, 4095				; 00000fffH
; Line 5221
	shl	eax, 8
	mov	esi, DWORD PTR [edx+esi*4]
	add	eax, DWORD PTR _pLightTbl
	add	esi, edx
; Line 5222
	shr	ecx, 12					; 0000000cH
	mov	DWORD PTR _tbl$[ebp], eax
	mov	DWORD PTR _src$[ebp], esi
	mov	eax, ecx
; Line 5224
	xor	edx, edx
; Line 5225
	xor	ecx, ecx
; Line 5226
	mov	ebx, DWORD PTR _tbl$[ebp]
; Line 5227
	mov	edi, DWORD PTR _dst$[ebp]
; Line 5228
	mov	esi, DWORD PTR _src$[ebp]
; Line 5231
	movsx	eax, ax
	sub	eax, 0
	je	$L85995
	dec	eax
	je	$L86003
	dec	eax
	je	$L86024
	dec	eax
	je	$L86061
	dec	eax
	je	$L86100
; Line 6344
	push	ebp
; Line 6345
	xor	eax, eax
; Line 6346
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6347
	mov	ebp, 30					; 0000001eH
; Line 6348
	mov	eax, edi
; Line 6349
	sub	eax, DWORD PTR _gpBufEnd
; Line 6350
	jb	SHORT $loc_466B71$86127
; Line 6351
	add	eax, 1023				; 000003ffH
; Line 6352
	shr	eax, 8
; Line 6353
	cmp	eax, 45					; 0000002dH
; Line 6354
	jg	SHORT $loc_466B60$86128
; Line 6355
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 6356
	mov	eax, ecx
; Line 6357
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 6358
	shl	eax, 6
; Line 6359
	lea	eax, DWORD PTR [eax+eax*2]
; Line 6360
	shr	ecx, 1
; Line 6361
	sub	edi, eax
; Line 6362
	sub	ebp, ecx
; Line 6363
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6364
	shr	ecx, 1
; Line 6365
	add	eax, ecx
; Line 6366
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6367
	jmp	SHORT $loc_466B71$86127
$loc_466B60$86128:
; Line 6370
	sub	edi, 12288				; 00003000H
; Line 6371
	add	esi, 288				; 00000120H
; Line 6372
	jmp	$loc_466C91$86129
$loc_466B71$86127:
; Line 6375
	mov	ecx, 32					; 00000020H
; Line 6376
	sub	ecx, ebp
; Line 6377
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6378
	inc	eax
; Line 6379
	and	eax, 1
; Line 6380
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6381
	je	SHORT $loc_466C03$86130
; Line 6382
	shr	ecx, 1
; Line 6383
	jb	SHORT $loc_466BC3$86131
; Line 6384
	shr	ecx, 1
; Line 6385
	jae	SHORT $loc_466B9F$86132
; Line 6386
	mov	dl, BYTE PTR [esi+1]
; Line 6387
	mov	dl, BYTE PTR [ebx+edx]
; Line 6388
	add	esi, 2
; Line 6389
	mov	BYTE PTR [edi+1], dl
; Line 6390
	add	edi, 2
$loc_466B9F$86132:
; Line 6392
	test	cl, cl
; Line 6393
	je	SHORT $loc_466BC1$86133
$loc_466BA3$86134:
; Line 6395
	mov	eax, DWORD PTR [esi]
; Line 6396
	add	esi, 4
; Line 6397
	mov	dl, ah
; Line 6398
	shr	eax, 16					; 00000010H
; Line 6399
	mov	dl, BYTE PTR [ebx+edx]
; Line 6400
	mov	BYTE PTR [edi+1], dl
; Line 6401
	mov	dl, ah
; Line 6402
	add	edi, 4
; Line 6403
	mov	dl, BYTE PTR [ebx+edx]
; Line 6404
	dec	ecx
; Line 6405
	mov	BYTE PTR [edi-1], dl
; Line 6406
	jne	SHORT $loc_466BA3$86134
$loc_466BC1$86133:
; Line 6408
	jmp	SHORT $loc_466BF7$86135
$loc_466BC3$86131:
; Line 6411
	inc	esi
; Line 6412
	inc	edi
; Line 6413
	shr	ecx, 1
; Line 6414
	jae	SHORT $loc_466BD6$86136
; Line 6415
	mov	dl, BYTE PTR [esi]
; Line 6416
	mov	dl, BYTE PTR [ebx+edx]
; Line 6417
	add	esi, 2
; Line 6418
	mov	BYTE PTR [edi], dl
; Line 6419
	add	edi, 2
$loc_466BD6$86136:
; Line 6421
	test	cl, cl
; Line 6422
	je	SHORT $loc_466BF7$86135
$loc_466BDA$86137:
; Line 6424
	mov	eax, DWORD PTR [esi]
; Line 6425
	add	esi, 4
; Line 6426
	mov	dl, al
; Line 6427
	shr	eax, 16					; 00000010H
; Line 6428
	mov	dl, BYTE PTR [ebx+edx]
; Line 6429
	mov	BYTE PTR [edi], dl
; Line 6430
	mov	dl, al
; Line 6431
	add	edi, 4
; Line 6432
	mov	dl, BYTE PTR [ebx+edx]
; Line 6433
	dec	ecx
; Line 6434
	mov	BYTE PTR [edi-2], dl
; Line 6435
	jne	SHORT $loc_466BDA$86137
$loc_466BF7$86135:
; Line 6437
	mov	edx, esi
; Line 6438
	and	edx, 2
; Line 6439
	add	esi, edx
; Line 6440
	jmp	SHORT $loc_466C80$86138
$loc_466C03$86130:
; Line 6443
	shr	ecx, 1
; Line 6444
	jb	SHORT $loc_466C3B$86139
; Line 6445
	shr	ecx, 1
; Line 6446
	jae	SHORT $loc_466C18$86140
; Line 6447
	mov	dl, BYTE PTR [esi]
; Line 6448
	mov	dl, BYTE PTR [ebx+edx]
; Line 6449
	add	esi, 2
; Line 6450
	mov	BYTE PTR [edi], dl
; Line 6451
	add	edi, 2
$loc_466C18$86140:
; Line 6453
	test	cl, cl
; Line 6454
	je	SHORT $loc_466C39$86141
$loc_466C1C$86142:
; Line 6456
	mov	eax, DWORD PTR [esi]
; Line 6457
	add	esi, 4
; Line 6458
	mov	dl, al
; Line 6459
	shr	eax, 16					; 00000010H
; Line 6460
	mov	dl, BYTE PTR [ebx+edx]
; Line 6461
	mov	BYTE PTR [edi], dl
; Line 6462
	mov	dl, al
; Line 6463
	add	edi, 4
; Line 6464
	mov	dl, BYTE PTR [ebx+edx]
; Line 6465
	dec	ecx
; Line 6466
	mov	BYTE PTR [edi-2], dl
; Line 6467
	jne	SHORT $loc_466C1C$86142
$loc_466C39$86141:
; Line 6469
	jmp	SHORT $loc_466C79$86143
$loc_466C3B$86139:
; Line 6472
	mov	dl, BYTE PTR [esi]
; Line 6473
	mov	dl, BYTE PTR [ebx+edx]
; Line 6474
	inc	esi
; Line 6475
	mov	BYTE PTR [edi], dl
; Line 6476
	inc	edi
; Line 6477
	shr	ecx, 1
; Line 6478
	jae	SHORT $loc_466C57$86144
; Line 6479
	mov	dl, BYTE PTR [esi+1]
; Line 6480
	mov	dl, BYTE PTR [ebx+edx]
; Line 6481
	add	esi, 2
; Line 6482
	mov	BYTE PTR [edi+1], dl
; Line 6483
	add	edi, 2
$loc_466C57$86144:
; Line 6485
	test	cl, cl
; Line 6486
	je	SHORT $loc_466C79$86143
$loc_466C5B$86145:
; Line 6488
	mov	eax, DWORD PTR [esi]
; Line 6489
	add	esi, 4
; Line 6490
	mov	dl, ah
; Line 6491
	shr	eax, 16					; 00000010H
; Line 6492
	mov	dl, BYTE PTR [ebx+edx]
; Line 6493
	mov	BYTE PTR [edi+1], dl
; Line 6494
	mov	dl, ah
; Line 6495
	add	edi, 4
; Line 6496
	mov	dl, BYTE PTR [ebx+edx]
; Line 6497
	dec	ecx
; Line 6498
	mov	BYTE PTR [edi-1], dl
; Line 6499
	jne	SHORT $loc_466C5B$86145
$loc_466C79$86143:
; Line 6501
	mov	edx, esi
; Line 6502
	and	edx, 2
; Line 6503
	add	esi, edx
$loc_466C80$86138:
; Line 6505
	sub	edi, 800				; 00000320H
; Line 6506
	add	edi, ebp
; Line 6507
	sub	ebp, 2
; Line 6508
	jge	$loc_466B71$86127
$loc_466C91$86129:
; Line 6510
	mov	ebp, 8
$loc_466C96$86146:
; Line 6512
	cmp	edi, DWORD PTR _gpBufEnd
; Line 6513
	jb	SHORT $loc_466CA6$86147
; Line 6514
	add	esi, 32					; 00000020H
; Line 6515
	add	edi, 32					; 00000020H
; Line 6516
	jmp	SHORT $loc_466CC9$86148
$loc_466CA6$86147:
; Line 6519
	mov	ecx, 8
$loc_466CAB$86149:
; Line 6521
	mov	eax, DWORD PTR [esi]
; Line 6522
	add	esi, 4
; Line 6523
	mov	dl, ah
; Line 6524
	shr	eax, 16					; 00000010H
; Line 6525
	mov	dl, BYTE PTR [ebx+edx]
; Line 6526
	mov	BYTE PTR [edi+1], dl
; Line 6527
	mov	dl, ah
; Line 6528
	add	edi, 4
; Line 6529
	mov	dl, BYTE PTR [ebx+edx]
; Line 6530
	dec	ecx
; Line 6531
	mov	BYTE PTR [edi-1], dl
; Line 6532
	jne	SHORT $loc_466CAB$86149
$loc_466CC9$86148:
; Line 6534
	sub	edi, 800				; 00000320H
; Line 6535
	cmp	edi, DWORD PTR _gpBufEnd
; Line 6536
	jb	SHORT $loc_466CDF$86150
; Line 6537
	add	esi, 32					; 00000020H
; Line 6538
	add	edi, 32					; 00000020H
; Line 6539
	jmp	SHORT $loc_466D01$86151
$loc_466CDF$86150:
; Line 6542
	mov	ecx, 8
$loc_466CE4$86152:
; Line 6544
	mov	eax, DWORD PTR [esi]
; Line 6545
	add	esi, 4
; Line 6546
	mov	dl, al
; Line 6547
	shr	eax, 16					; 00000010H
; Line 6548
	mov	dl, BYTE PTR [ebx+edx]
; Line 6549
	mov	BYTE PTR [edi], dl
; Line 6550
	mov	dl, al
; Line 6551
	add	edi, 4
; Line 6552
	mov	dl, BYTE PTR [ebx+edx]
; Line 6553
	dec	ecx
; Line 6554
	mov	BYTE PTR [edi-2], dl
; Line 6555
	jne	SHORT $loc_466CE4$86152
$loc_466D01$86151:
; Line 6557
	sub	edi, 800				; 00000320H
; Line 6558
	dec	ebp
; Line 6559
	jne	SHORT $loc_466C96$86146
; Line 6560
	pop	ebp
; Line 6562
	jmp	$L86157
$L86100:
; Line 6124
	push	ebp
; Line 6125
	xor	eax, eax
; Line 6126
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6127
	mov	ebp, 30					; 0000001eH
; Line 6128
	mov	eax, edi
; Line 6129
	sub	eax, DWORD PTR _gpBufEnd
; Line 6130
	jb	SHORT $loc_466972$86101
; Line 6131
	add	eax, 1023				; 000003ffH
; Line 6132
	shr	eax, 8
; Line 6133
	cmp	eax, 45					; 0000002dH
; Line 6134
	jg	SHORT $loc_466961$86102
; Line 6135
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 6136
	mov	eax, ecx
; Line 6137
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 6138
	shl	eax, 6
; Line 6139
	lea	eax, DWORD PTR [eax+eax*2]
; Line 6140
	shr	ecx, 1
; Line 6141
	sub	edi, eax
; Line 6142
	sub	ebp, ecx
; Line 6143
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6144
	shr	ecx, 1
; Line 6145
	add	eax, ecx
; Line 6146
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6147
	jmp	SHORT $loc_466972$86101
$loc_466961$86102:
; Line 6150
	sub	edi, 12288				; 00003000H
; Line 6151
	add	esi, 288				; 00000120H
; Line 6152
	jmp	$loc_466A92$86103
$loc_466972$86101:
; Line 6155
	add	edi, ebp
; Line 6156
	mov	ecx, 32					; 00000020H
; Line 6157
	sub	ecx, ebp
; Line 6158
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6159
	inc	eax
; Line 6160
	and	eax, 1
; Line 6161
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6162
	je	SHORT $loc_466A06$86104
; Line 6163
	mov	edx, ecx
; Line 6164
	and	edx, 2
; Line 6165
	add	esi, edx
; Line 6166
	shr	ecx, 1
; Line 6167
	jb	SHORT $loc_4669CD$86105
; Line 6168
	shr	ecx, 1
; Line 6169
	jae	SHORT $loc_4669A9$86106
; Line 6170
	mov	dl, BYTE PTR [esi+1]
; Line 6171
	mov	dl, BYTE PTR [ebx+edx]
; Line 6172
	add	esi, 2
; Line 6173
	mov	BYTE PTR [edi+1], dl
; Line 6174
	add	edi, 2
$loc_4669A9$86106:
; Line 6176
	test	cl, cl
; Line 6177
	je	SHORT $loc_4669CB$86107
$loc_4669AD$86108:
; Line 6179
	mov	eax, DWORD PTR [esi]
; Line 6180
	add	esi, 4
; Line 6181
	mov	dl, ah
; Line 6182
	shr	eax, 16					; 00000010H
; Line 6183
	mov	dl, BYTE PTR [ebx+edx]
; Line 6184
	mov	BYTE PTR [edi+1], dl
; Line 6185
	mov	dl, ah
; Line 6186
	add	edi, 4
; Line 6187
	mov	dl, BYTE PTR [ebx+edx]
; Line 6188
	dec	ecx
; Line 6189
	mov	BYTE PTR [edi-1], dl
; Line 6190
	jne	SHORT $loc_4669AD$86108
$loc_4669CB$86107:
; Line 6192
	jmp	SHORT $loc_466A01$86109
$loc_4669CD$86105:
; Line 6195
	inc	esi
; Line 6196
	inc	edi
; Line 6197
	shr	ecx, 1
; Line 6198
	jae	SHORT $loc_4669E0$86110
; Line 6199
	mov	dl, BYTE PTR [esi]
; Line 6200
	mov	dl, BYTE PTR [ebx+edx]
; Line 6201
	add	esi, 2
; Line 6202
	mov	BYTE PTR [edi], dl
; Line 6203
	add	edi, 2
$loc_4669E0$86110:
; Line 6205
	test	cl, cl
; Line 6206
	je	SHORT $loc_466A01$86109
$loc_4669E4$86111:
; Line 6208
	mov	eax, DWORD PTR [esi]
; Line 6209
	add	esi, 4
; Line 6210
	mov	dl, al
; Line 6211
	shr	eax, 16					; 00000010H
; Line 6212
	mov	dl, BYTE PTR [ebx+edx]
; Line 6213
	mov	BYTE PTR [edi], dl
; Line 6214
	mov	dl, al
; Line 6215
	add	edi, 4
; Line 6216
	mov	dl, BYTE PTR [ebx+edx]
; Line 6217
	dec	ecx
; Line 6218
	mov	BYTE PTR [edi-2], dl
; Line 6219
	jne	SHORT $loc_4669E4$86111
$loc_466A01$86109:
; Line 6221
	jmp	SHORT $loc_466A83$86112
$loc_466A06$86104:
; Line 6224
	mov	edx, ecx
; Line 6225
	and	edx, 2
; Line 6226
	add	esi, edx
; Line 6227
	shr	ecx, 1
; Line 6228
	jb	SHORT $loc_466A45$86113
; Line 6229
	shr	ecx, 1
; Line 6230
	jae	SHORT $loc_466A22$86114
; Line 6231
	mov	dl, BYTE PTR [esi]
; Line 6232
	mov	dl, BYTE PTR [ebx+edx]
; Line 6233
	add	esi, 2
; Line 6234
	mov	BYTE PTR [edi], dl
; Line 6235
	add	edi, 2
$loc_466A22$86114:
; Line 6237
	test	cl, cl
; Line 6238
	je	SHORT $loc_466A43$86115
$loc_466A26$86116:
; Line 6240
	mov	eax, DWORD PTR [esi]
; Line 6241
	add	esi, 4
; Line 6242
	mov	dl, al
; Line 6243
	shr	eax, 16					; 00000010H
; Line 6244
	mov	dl, BYTE PTR [ebx+edx]
; Line 6245
	mov	BYTE PTR [edi], dl
; Line 6246
	mov	dl, al
; Line 6247
	add	edi, 4
; Line 6248
	mov	dl, BYTE PTR [ebx+edx]
; Line 6249
	dec	ecx
; Line 6250
	mov	BYTE PTR [edi-2], dl
; Line 6251
	jne	SHORT $loc_466A26$86116
$loc_466A43$86115:
; Line 6253
	jmp	SHORT $loc_466A83$86112
$loc_466A45$86113:
; Line 6256
	mov	dl, BYTE PTR [esi]
; Line 6257
	mov	dl, BYTE PTR [ebx+edx]
; Line 6258
	inc	esi
; Line 6259
	mov	BYTE PTR [edi], dl
; Line 6260
	inc	edi
; Line 6261
	shr	ecx, 1
; Line 6262
	jae	SHORT $loc_466A61$86117
; Line 6263
	mov	dl, BYTE PTR [esi+1]
; Line 6264
	mov	dl, BYTE PTR [ebx+edx]
; Line 6265
	add	esi, 2
; Line 6266
	mov	BYTE PTR [edi+1], dl
; Line 6267
	add	edi, 2
$loc_466A61$86117:
; Line 6269
	test	cl, cl
; Line 6270
	je	SHORT $loc_466A83$86112
$loc_466A65$86118:
; Line 6272
	mov	eax, DWORD PTR [esi]
; Line 6273
	add	esi, 4
; Line 6274
	mov	dl, ah
; Line 6275
	shr	eax, 16					; 00000010H
; Line 6276
	mov	dl, BYTE PTR [ebx+edx]
; Line 6277
	mov	BYTE PTR [edi+1], dl
; Line 6278
	mov	dl, ah
; Line 6279
	add	edi, 4
; Line 6280
	mov	dl, BYTE PTR [ebx+edx]
; Line 6281
	dec	ecx
; Line 6282
	mov	BYTE PTR [edi-1], dl
; Line 6283
	jne	SHORT $loc_466A65$86118
$loc_466A83$86112:
; Line 6285
	sub	edi, 800				; 00000320H
; Line 6286
	sub	ebp, 2
; Line 6287
	jge	$loc_466972$86101
$loc_466A92$86103:
; Line 6289
	mov	ebp, 8
$loc_466A97$86119:
; Line 6291
	cmp	edi, DWORD PTR _gpBufEnd
; Line 6292
	jb	SHORT $loc_466AA7$86120
; Line 6293
	add	esi, 32					; 00000020H
; Line 6294
	add	edi, 32					; 00000020H
; Line 6295
	jmp	SHORT $loc_466ACA$86121
$loc_466AA7$86120:
; Line 6298
	mov	ecx, 8
$loc_466AAC$86122:
; Line 6300
	mov	eax, DWORD PTR [esi]
; Line 6301
	add	esi, 4
; Line 6302
	mov	dl, ah
; Line 6303
	shr	eax, 16					; 00000010H
; Line 6304
	mov	dl, BYTE PTR [ebx+edx]
; Line 6305
	mov	BYTE PTR [edi+1], dl
; Line 6306
	mov	dl, ah
; Line 6307
	add	edi, 4
; Line 6308
	mov	dl, BYTE PTR [ebx+edx]
; Line 6309
	dec	ecx
; Line 6310
	mov	BYTE PTR [edi-1], dl
; Line 6311
	jne	SHORT $loc_466AAC$86122
$loc_466ACA$86121:
; Line 6313
	sub	edi, 800				; 00000320H
; Line 6314
	cmp	edi, DWORD PTR _gpBufEnd
; Line 6315
	jb	SHORT $loc_466AE0$86123
; Line 6316
	add	esi, 32					; 00000020H
; Line 6317
	add	edi, 32					; 00000020H
; Line 6318
	jmp	SHORT $loc_466B02$86124
$loc_466AE0$86123:
; Line 6321
	mov	ecx, 8
$loc_466AE5$86125:
; Line 6323
	mov	eax, DWORD PTR [esi]
; Line 6324
	add	esi, 4
; Line 6325
	mov	dl, al
; Line 6326
	shr	eax, 16					; 00000010H
; Line 6327
	mov	dl, BYTE PTR [ebx+edx]
; Line 6328
	mov	BYTE PTR [edi], dl
; Line 6329
	mov	dl, al
; Line 6330
	add	edi, 4
; Line 6331
	mov	dl, BYTE PTR [ebx+edx]
; Line 6332
	dec	ecx
; Line 6333
	mov	BYTE PTR [edi-2], dl
; Line 6334
	jne	SHORT $loc_466AE5$86125
$loc_466B02$86124:
; Line 6336
	sub	edi, 800				; 00000320H
; Line 6337
	dec	ebp
; Line 6338
	jne	SHORT $loc_466A97$86119
; Line 6339
	pop	ebp
; Line 6341
	jmp	$L86157
$L86061:
; Line 5789
	push	ebp
; Line 5790
	xor	eax, eax
; Line 5791
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5792
	mov	ebp, 30					; 0000001eH
; Line 5793
	mov	eax, edi
; Line 5794
	sub	eax, DWORD PTR _gpBufEnd
; Line 5795
	jb	SHORT $loc_466671$86062
; Line 5796
	add	eax, 1023				; 000003ffH
; Line 5797
	shr	eax, 8
; Line 5798
	cmp	eax, 45					; 0000002dH
; Line 5799
	jg	SHORT $loc_466660$86063
; Line 5800
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 5801
	mov	eax, ecx
; Line 5802
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 5803
	shl	eax, 6
; Line 5804
	lea	eax, DWORD PTR [eax+eax*2]
; Line 5805
	shr	ecx, 1
; Line 5806
	sub	edi, eax
; Line 5807
	sub	ebp, ecx
; Line 5808
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5809
	shr	ecx, 1
; Line 5810
	add	eax, ecx
; Line 5811
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5812
	jmp	SHORT $loc_466671$86062
$loc_466660$86063:
; Line 5815
	sub	edi, 12288				; 00003000H
; Line 5816
	add	esi, 288				; 00000120H
; Line 5817
	jmp	$loc_466791$86064
$loc_466671$86062:
; Line 5820
	mov	ecx, 32					; 00000020H
; Line 5821
	sub	ecx, ebp
; Line 5822
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5823
	inc	eax
; Line 5824
	and	eax, 1
; Line 5825
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5826
	je	SHORT $loc_466703$86065
; Line 5827
	shr	ecx, 1
; Line 5828
	jb	SHORT $loc_4666C3$86066
; Line 5829
	shr	ecx, 1
; Line 5830
	jae	SHORT $loc_46669F$86067
; Line 5831
	mov	dl, BYTE PTR [esi+1]
; Line 5832
	mov	dl, BYTE PTR [ebx+edx]
; Line 5833
	add	esi, 2
; Line 5834
	mov	BYTE PTR [edi+1], dl
; Line 5835
	add	edi, 2
$loc_46669F$86067:
; Line 5837
	test	cl, cl
; Line 5838
	je	SHORT $loc_4666C1$86068
$loc_4666A3$86069:
; Line 5840
	mov	eax, DWORD PTR [esi]
; Line 5841
	add	esi, 4
; Line 5842
	mov	dl, ah
; Line 5843
	shr	eax, 16					; 00000010H
; Line 5844
	mov	dl, BYTE PTR [ebx+edx]
; Line 5845
	mov	BYTE PTR [edi+1], dl
; Line 5846
	mov	dl, ah
; Line 5847
	add	edi, 4
; Line 5848
	mov	dl, BYTE PTR [ebx+edx]
; Line 5849
	dec	ecx
; Line 5850
	mov	BYTE PTR [edi-1], dl
; Line 5851
	jne	SHORT $loc_4666A3$86069
$loc_4666C1$86068:
; Line 5853
	jmp	SHORT $loc_4666F7$86070
$loc_4666C3$86066:
; Line 5856
	inc	esi
; Line 5857
	inc	edi
; Line 5858
	shr	ecx, 1
; Line 5859
	jae	SHORT $loc_4666D6$86071
; Line 5860
	mov	dl, BYTE PTR [esi]
; Line 5861
	mov	dl, BYTE PTR [ebx+edx]
; Line 5862
	add	esi, 2
; Line 5863
	mov	BYTE PTR [edi], dl
; Line 5864
	add	edi, 2
$loc_4666D6$86071:
; Line 5866
	test	cl, cl
; Line 5867
	je	SHORT $loc_4666F7$86070
$loc_4666DA$86072:
; Line 5869
	mov	eax, DWORD PTR [esi]
; Line 5870
	add	esi, 4
; Line 5871
	mov	dl, al
; Line 5872
	shr	eax, 16					; 00000010H
; Line 5873
	mov	dl, BYTE PTR [ebx+edx]
; Line 5874
	mov	BYTE PTR [edi], dl
; Line 5875
	mov	dl, al
; Line 5876
	add	edi, 4
; Line 5877
	mov	dl, BYTE PTR [ebx+edx]
; Line 5878
	dec	ecx
; Line 5879
	mov	BYTE PTR [edi-2], dl
; Line 5880
	jne	SHORT $loc_4666DA$86072
$loc_4666F7$86070:
; Line 5882
	mov	edx, esi
; Line 5883
	and	edx, 2
; Line 5884
	add	esi, edx
; Line 5885
	jmp	SHORT $loc_466780$86073
$loc_466703$86065:
; Line 5888
	shr	ecx, 1
; Line 5889
	jb	SHORT $loc_46673B$86074
; Line 5890
	shr	ecx, 1
; Line 5891
	jae	SHORT $loc_466718$86075
; Line 5892
	mov	dl, BYTE PTR [esi]
; Line 5893
	mov	dl, BYTE PTR [ebx+edx]
; Line 5894
	add	esi, 2
; Line 5895
	mov	BYTE PTR [edi], dl
; Line 5896
	add	edi, 2
$loc_466718$86075:
; Line 5898
	test	cl, cl
; Line 5899
	je	SHORT $loc_466739$86076
$loc_46671C$86077:
; Line 5901
	mov	eax, DWORD PTR [esi]
; Line 5902
	add	esi, 4
; Line 5903
	mov	dl, al
; Line 5904
	shr	eax, 16					; 00000010H
; Line 5905
	mov	dl, BYTE PTR [ebx+edx]
; Line 5906
	mov	BYTE PTR [edi], dl
; Line 5907
	mov	dl, al
; Line 5908
	add	edi, 4
; Line 5909
	mov	dl, BYTE PTR [ebx+edx]
; Line 5910
	dec	ecx
; Line 5911
	mov	BYTE PTR [edi-2], dl
; Line 5912
	jne	SHORT $loc_46671C$86077
$loc_466739$86076:
; Line 5914
	jmp	SHORT $loc_466779$86078
$loc_46673B$86074:
; Line 5917
	mov	dl, BYTE PTR [esi]
; Line 5918
	mov	dl, BYTE PTR [ebx+edx]
; Line 5919
	inc	esi
; Line 5920
	mov	BYTE PTR [edi], dl
; Line 5921
	inc	edi
; Line 5922
	shr	ecx, 1
; Line 5923
	jae	SHORT $loc_466757$86079
; Line 5924
	mov	dl, BYTE PTR [esi+1]
; Line 5925
	mov	dl, BYTE PTR [ebx+edx]
; Line 5926
	add	esi, 2
; Line 5927
	mov	BYTE PTR [edi+1], dl
; Line 5928
	add	edi, 2
$loc_466757$86079:
; Line 5930
	test	cl, cl
; Line 5931
	je	SHORT $loc_466779$86078
$loc_46675B$86080:
; Line 5933
	mov	eax, DWORD PTR [esi]
; Line 5934
	add	esi, 4
; Line 5935
	mov	dl, ah
; Line 5936
	shr	eax, 16					; 00000010H
; Line 5937
	mov	dl, BYTE PTR [ebx+edx]
; Line 5938
	mov	BYTE PTR [edi+1], dl
; Line 5939
	mov	dl, ah
; Line 5940
	add	edi, 4
; Line 5941
	mov	dl, BYTE PTR [ebx+edx]
; Line 5942
	dec	ecx
; Line 5943
	mov	BYTE PTR [edi-1], dl
; Line 5944
	jne	SHORT $loc_46675B$86080
$loc_466779$86078:
; Line 5946
	mov	edx, esi
; Line 5947
	and	edx, 2
; Line 5948
	add	esi, edx
$loc_466780$86073:
; Line 5950
	sub	edi, 800				; 00000320H
; Line 5951
	add	edi, ebp
; Line 5952
	sub	ebp, 2
; Line 5953
	jge	$loc_466671$86062
$loc_466791$86064:
; Line 5955
	mov	ebp, 2
; Line 5956
	mov	eax, edi
; Line 5957
	sub	eax, DWORD PTR _gpBufEnd
; Line 5958
	jb	SHORT $loc_4667E9$86081
; Line 5959
	add	eax, 1023				; 000003ffH
; Line 5960
	shr	eax, 8
; Line 5961
	cmp	eax, 42					; 0000002aH
; Line 5962
	jg	SHORT $loc_4667D8$86082
; Line 5963
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 5964
	mov	eax, ecx
; Line 5965
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 5966
	shl	eax, 6
; Line 5967
	lea	eax, DWORD PTR [eax+eax*2]
; Line 5968
	shr	ecx, 1
; Line 5969
	sub	edi, eax
; Line 5970
	add	ebp, ecx
; Line 5971
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5972
	shr	ecx, 1
; Line 5973
	add	eax, ecx
; Line 5974
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5975
	jmp	SHORT $loc_4667E9$86081
$loc_4667D8$86082:
; Line 5978
	sub	edi, 11520				; 00002d00H
; Line 5979
	add	esi, 256				; 00000100H
; Line 5980
	jmp	$loc_46690C$86083
$loc_4667E9$86081:
; Line 5983
	mov	ecx, 32					; 00000020H
; Line 5984
	sub	ecx, ebp
; Line 5985
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5986
	inc	eax
; Line 5987
	and	eax, 1
; Line 5988
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5989
	je	SHORT $loc_46687B$86084
; Line 5990
	shr	ecx, 1
; Line 5991
	jb	SHORT $loc_46683B$86085
; Line 5992
	shr	ecx, 1
; Line 5993
	jae	SHORT $loc_466817$86086
; Line 5994
	mov	dl, BYTE PTR [esi+1]
; Line 5995
	mov	dl, BYTE PTR [ebx+edx]
; Line 5996
	add	esi, 2
; Line 5997
	mov	BYTE PTR [edi+1], dl
; Line 5998
	add	edi, 2
$loc_466817$86086:
; Line 6000
	test	cl, cl
; Line 6001
	je	SHORT $loc_466839$86087
$loc_46681B$86088:
; Line 6003
	mov	eax, DWORD PTR [esi]
; Line 6004
	add	esi, 4
; Line 6005
	mov	dl, ah
; Line 6006
	shr	eax, 16					; 00000010H
; Line 6007
	mov	dl, BYTE PTR [ebx+edx]
; Line 6008
	mov	BYTE PTR [edi+1], dl
; Line 6009
	mov	dl, ah
; Line 6010
	add	edi, 4
; Line 6011
	mov	dl, BYTE PTR [ebx+edx]
; Line 6012
	dec	ecx
; Line 6013
	mov	BYTE PTR [edi-1], dl
; Line 6014
	jne	SHORT $loc_46681B$86088
$loc_466839$86087:
; Line 6016
	jmp	SHORT $loc_46686F$86089
$loc_46683B$86085:
; Line 6019
	inc	esi
; Line 6020
	inc	edi
; Line 6021
	shr	ecx, 1
; Line 6022
	jae	SHORT $loc_46684E$86090
; Line 6023
	mov	dl, BYTE PTR [esi]
; Line 6024
	mov	dl, BYTE PTR [ebx+edx]
; Line 6025
	add	esi, 2
; Line 6026
	mov	BYTE PTR [edi], dl
; Line 6027
	add	edi, 2
$loc_46684E$86090:
; Line 6029
	test	cl, cl
; Line 6030
	je	SHORT $loc_46686F$86089
$loc_466852$86091:
; Line 6032
	mov	eax, DWORD PTR [esi]
; Line 6033
	add	esi, 4
; Line 6034
	mov	dl, al
; Line 6035
	shr	eax, 16					; 00000010H
; Line 6036
	mov	dl, BYTE PTR [ebx+edx]
; Line 6037
	mov	BYTE PTR [edi], dl
; Line 6038
	mov	dl, al
; Line 6039
	add	edi, 4
; Line 6040
	mov	dl, BYTE PTR [ebx+edx]
; Line 6041
	dec	ecx
; Line 6042
	mov	BYTE PTR [edi-2], dl
; Line 6043
	jne	SHORT $loc_466852$86091
$loc_46686F$86089:
; Line 6045
	mov	edx, esi
; Line 6046
	and	edx, 2
; Line 6047
	add	esi, edx
; Line 6048
	jmp	SHORT $loc_4668F8$86092
$loc_46687B$86084:
; Line 6051
	shr	ecx, 1
; Line 6052
	jb	SHORT $loc_4668B3$86093
; Line 6053
	shr	ecx, 1
; Line 6054
	jae	SHORT $loc_466890$86094
; Line 6055
	mov	dl, BYTE PTR [esi]
; Line 6056
	mov	dl, BYTE PTR [ebx+edx]
; Line 6057
	add	esi, 2
; Line 6058
	mov	BYTE PTR [edi], dl
; Line 6059
	add	edi, 2
$loc_466890$86094:
; Line 6061
	test	cl, cl
; Line 6062
	je	SHORT $loc_4668B1$86095
$loc_466894$86096:
; Line 6064
	mov	eax, DWORD PTR [esi]
; Line 6065
	add	esi, 4
; Line 6066
	mov	dl, al
; Line 6067
	shr	eax, 16					; 00000010H
; Line 6068
	mov	dl, BYTE PTR [ebx+edx]
; Line 6069
	mov	BYTE PTR [edi], dl
; Line 6070
	mov	dl, al
; Line 6071
	add	edi, 4
; Line 6072
	mov	dl, BYTE PTR [ebx+edx]
; Line 6073
	dec	ecx
; Line 6074
	mov	BYTE PTR [edi-2], dl
; Line 6075
	jne	SHORT $loc_466894$86096
$loc_4668B1$86095:
; Line 6077
	jmp	SHORT $loc_4668F1$86097
$loc_4668B3$86093:
; Line 6080
	mov	dl, BYTE PTR [esi]
; Line 6081
	mov	dl, BYTE PTR [ebx+edx]
; Line 6082
	inc	esi
; Line 6083
	mov	BYTE PTR [edi], dl
; Line 6084
	inc	edi
; Line 6085
	shr	ecx, 1
; Line 6086
	jae	SHORT $loc_4668CF$86098
; Line 6087
	mov	dl, BYTE PTR [esi+1]
; Line 6088
	mov	dl, BYTE PTR [ebx+edx]
; Line 6089
	add	esi, 2
; Line 6090
	mov	BYTE PTR [edi+1], dl
; Line 6091
	add	edi, 2
$loc_4668CF$86098:
; Line 6093
	test	cl, cl
; Line 6094
	je	SHORT $loc_4668F1$86097
$loc_4668D3$86099:
; Line 6096
	mov	eax, DWORD PTR [esi]
; Line 6097
	add	esi, 4
; Line 6098
	mov	dl, ah
; Line 6099
	shr	eax, 16					; 00000010H
; Line 6100
	mov	dl, BYTE PTR [ebx+edx]
; Line 6101
	mov	BYTE PTR [edi+1], dl
; Line 6102
	mov	dl, ah
; Line 6103
	add	edi, 4
; Line 6104
	mov	dl, BYTE PTR [ebx+edx]
; Line 6105
	dec	ecx
; Line 6106
	mov	BYTE PTR [edi-1], dl
; Line 6107
	jne	SHORT $loc_4668D3$86099
$loc_4668F1$86097:
; Line 6109
	mov	edx, esi
; Line 6110
	and	edx, 2
; Line 6111
	add	esi, edx
$loc_4668F8$86092:
; Line 6113
	sub	edi, 800				; 00000320H
; Line 6114
	add	edi, ebp
; Line 6115
	add	ebp, 2
; Line 6116
	cmp	ebp, 32					; 00000020H
; Line 6117
	jne	$loc_4667E9$86081
$loc_46690C$86083:
; Line 6119
	pop	ebp
; Line 6121
	jmp	$L86157
$L86024:
; Line 5456
	push	ebp
; Line 5457
	xor	eax, eax
; Line 5458
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5459
	mov	ebp, 30					; 0000001eH
; Line 5460
	mov	eax, edi
; Line 5461
	sub	eax, DWORD PTR _gpBufEnd
; Line 5462
	jb	SHORT $loc_466370$86025
; Line 5463
	add	eax, 1023				; 000003ffH
; Line 5464
	shr	eax, 8
; Line 5465
	cmp	eax, 45					; 0000002dH
; Line 5466
	jg	SHORT $loc_46635F$86026
; Line 5467
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 5468
	mov	eax, ecx
; Line 5469
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 5470
	shl	eax, 6
; Line 5471
	lea	eax, DWORD PTR [eax+eax*2]
; Line 5472
	shr	ecx, 1
; Line 5473
	sub	edi, eax
; Line 5474
	sub	ebp, ecx
; Line 5475
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5476
	shr	ecx, 1
; Line 5477
	add	eax, ecx
; Line 5478
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5479
	jmp	SHORT $loc_466370$86025
$loc_46635F$86026:
; Line 5482
	sub	edi, 12288				; 00003000H
; Line 5483
	add	esi, 288				; 00000120H
; Line 5484
	jmp	$loc_466490$86027
$loc_466370$86025:
; Line 5487
	add	edi, ebp
; Line 5488
	mov	ecx, 32					; 00000020H
; Line 5489
	sub	ecx, ebp
; Line 5490
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5491
	inc	eax
; Line 5492
	and	eax, 1
; Line 5493
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5494
	je	SHORT $loc_466404$86028
; Line 5495
	mov	edx, ecx
; Line 5496
	and	edx, 2
; Line 5497
	add	esi, edx
; Line 5498
	shr	ecx, 1
; Line 5499
	jb	SHORT $loc_4663CB$86029
; Line 5500
	shr	ecx, 1
; Line 5501
	jae	SHORT $loc_4663A7$86030
; Line 5502
	mov	dl, BYTE PTR [esi+1]
; Line 5503
	mov	dl, BYTE PTR [ebx+edx]
; Line 5504
	add	esi, 2
; Line 5505
	mov	BYTE PTR [edi+1], dl
; Line 5506
	add	edi, 2
$loc_4663A7$86030:
; Line 5508
	test	cl, cl
; Line 5509
	je	SHORT $loc_4663C9$86031
$loc_4663AB$86032:
; Line 5511
	mov	eax, DWORD PTR [esi]
; Line 5512
	add	esi, 4
; Line 5513
	mov	dl, ah
; Line 5514
	shr	eax, 16					; 00000010H
; Line 5515
	mov	dl, BYTE PTR [ebx+edx]
; Line 5516
	mov	BYTE PTR [edi+1], dl
; Line 5517
	mov	dl, ah
; Line 5518
	add	edi, 4
; Line 5519
	mov	dl, BYTE PTR [ebx+edx]
; Line 5520
	dec	ecx
; Line 5521
	mov	BYTE PTR [edi-1], dl
; Line 5522
	jne	SHORT $loc_4663AB$86032
$loc_4663C9$86031:
; Line 5524
	jmp	SHORT $loc_4663FF$86033
$loc_4663CB$86029:
; Line 5527
	inc	esi
; Line 5528
	inc	edi
; Line 5529
	shr	ecx, 1
; Line 5530
	jae	SHORT $loc_4663DE$86034
; Line 5531
	mov	dl, BYTE PTR [esi]
; Line 5532
	mov	dl, BYTE PTR [ebx+edx]
; Line 5533
	add	esi, 2
; Line 5534
	mov	BYTE PTR [edi], dl
; Line 5535
	add	edi, 2
$loc_4663DE$86034:
; Line 5537
	test	cl, cl
; Line 5538
	je	SHORT $loc_4663FF$86033
$loc_4663E2$86035:
; Line 5540
	mov	eax, DWORD PTR [esi]
; Line 5541
	add	esi, 4
; Line 5542
	mov	dl, al
; Line 5543
	shr	eax, 16					; 00000010H
; Line 5544
	mov	dl, BYTE PTR [ebx+edx]
; Line 5545
	mov	BYTE PTR [edi], dl
; Line 5546
	mov	dl, al
; Line 5547
	add	edi, 4
; Line 5548
	mov	dl, BYTE PTR [ebx+edx]
; Line 5549
	dec	ecx
; Line 5550
	mov	BYTE PTR [edi-2], dl
; Line 5551
	jne	SHORT $loc_4663E2$86035
$loc_4663FF$86033:
; Line 5553
	jmp	SHORT $loc_466481$86036
$loc_466404$86028:
; Line 5556
	mov	edx, ecx
; Line 5557
	and	edx, 2
; Line 5558
	add	esi, edx
; Line 5559
	shr	ecx, 1
; Line 5560
	jb	SHORT $loc_466443$86037
; Line 5561
	shr	ecx, 1
; Line 5562
	jae	SHORT $loc_466420$86038
; Line 5563
	mov	dl, BYTE PTR [esi]
; Line 5564
	mov	dl, BYTE PTR [ebx+edx]
; Line 5565
	add	esi, 2
; Line 5566
	mov	BYTE PTR [edi], dl
; Line 5567
	add	edi, 2
$loc_466420$86038:
; Line 5569
	test	cl, cl
; Line 5570
	je	SHORT $loc_466441$86039
$loc_466424$86040:
; Line 5572
	mov	eax, DWORD PTR [esi]
; Line 5573
	add	esi, 4
; Line 5574
	mov	dl, al
; Line 5575
	shr	eax, 16					; 00000010H
; Line 5576
	mov	dl, BYTE PTR [ebx+edx]
; Line 5577
	mov	BYTE PTR [edi], dl
; Line 5578
	mov	dl, al
; Line 5579
	add	edi, 4
; Line 5580
	mov	dl, BYTE PTR [ebx+edx]
; Line 5581
	dec	ecx
; Line 5582
	mov	BYTE PTR [edi-2], dl
; Line 5583
	jne	SHORT $loc_466424$86040
$loc_466441$86039:
; Line 5585
	jmp	SHORT $loc_466481$86036
$loc_466443$86037:
; Line 5588
	mov	dl, BYTE PTR [esi]
; Line 5589
	mov	dl, BYTE PTR [ebx+edx]
; Line 5590
	inc	esi
; Line 5591
	mov	BYTE PTR [edi], dl
; Line 5592
	inc	edi
; Line 5593
	shr	ecx, 1
; Line 5594
	jae	SHORT $loc_46645F$86041
; Line 5595
	mov	dl, BYTE PTR [esi+1]
; Line 5596
	mov	dl, BYTE PTR [ebx+edx]
; Line 5597
	add	esi, 2
; Line 5598
	mov	BYTE PTR [edi+1], dl
; Line 5599
	add	edi, 2
$loc_46645F$86041:
; Line 5601
	test	cl, cl
; Line 5602
	je	SHORT $loc_466481$86036
$loc_466463$86042:
; Line 5604
	mov	eax, DWORD PTR [esi]
; Line 5605
	add	esi, 4
; Line 5606
	mov	dl, ah
; Line 5607
	shr	eax, 16					; 00000010H
; Line 5608
	mov	dl, BYTE PTR [ebx+edx]
; Line 5609
	mov	BYTE PTR [edi+1], dl
; Line 5610
	mov	dl, ah
; Line 5611
	add	edi, 4
; Line 5612
	mov	dl, BYTE PTR [ebx+edx]
; Line 5613
	dec	ecx
; Line 5614
	mov	BYTE PTR [edi-1], dl
; Line 5615
	jne	SHORT $loc_466463$86042
$loc_466481$86036:
; Line 5617
	sub	edi, 800				; 00000320H
; Line 5618
	sub	ebp, 2
; Line 5619
	jge	$loc_466370$86025
$loc_466490$86027:
; Line 5621
	mov	ebp, 2
; Line 5622
	mov	eax, edi
; Line 5623
	sub	eax, DWORD PTR _gpBufEnd
; Line 5624
	jb	SHORT $loc_4664E8$86043
; Line 5625
	add	eax, 1023				; 000003ffH
; Line 5626
	shr	eax, 8
; Line 5627
	cmp	eax, 42					; 0000002aH
; Line 5628
	jg	SHORT $loc_4664D7$86044
; Line 5629
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 5630
	mov	eax, ecx
; Line 5631
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 5632
	shl	eax, 6
; Line 5633
	lea	eax, DWORD PTR [eax+eax*2]
; Line 5634
	shr	ecx, 1
; Line 5635
	sub	edi, eax
; Line 5636
	add	ebp, ecx
; Line 5637
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5638
	shr	ecx, 1
; Line 5639
	add	eax, ecx
; Line 5640
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5641
	jmp	SHORT $loc_4664E8$86043
$loc_4664D7$86044:
; Line 5644
	sub	edi, 11520				; 00002d00H
; Line 5645
	add	esi, 256				; 00000100H
; Line 5646
	jmp	$loc_46660B$86045
$loc_4664E8$86043:
; Line 5649
	add	edi, ebp
; Line 5650
	mov	ecx, 32					; 00000020H
; Line 5651
	sub	ecx, ebp
; Line 5652
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5653
	inc	eax
; Line 5654
	and	eax, 1
; Line 5655
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5656
	je	SHORT $loc_46657C$86046
; Line 5657
	mov	edx, ecx
; Line 5658
	and	edx, 2
; Line 5659
	add	esi, edx
; Line 5660
	shr	ecx, 1
; Line 5661
	jb	SHORT $loc_466543$86047
; Line 5662
	shr	ecx, 1
; Line 5663
	jae	SHORT $loc_46651F$86048
; Line 5664
	mov	dl, BYTE PTR [esi+1]
; Line 5665
	mov	dl, BYTE PTR [ebx+edx]
; Line 5666
	add	esi, 2
; Line 5667
	mov	BYTE PTR [edi+1], dl
; Line 5668
	add	edi, 2
$loc_46651F$86048:
; Line 5670
	test	cl, cl
; Line 5671
	je	SHORT $loc_466541$86049
$loc_466523$86050:
; Line 5673
	mov	eax, DWORD PTR [esi]
; Line 5674
	add	esi, 4
; Line 5675
	mov	dl, ah
; Line 5676
	shr	eax, 16					; 00000010H
; Line 5677
	mov	dl, BYTE PTR [ebx+edx]
; Line 5678
	mov	BYTE PTR [edi+1], dl
; Line 5679
	mov	dl, ah
; Line 5680
	add	edi, 4
; Line 5681
	mov	dl, BYTE PTR [ebx+edx]
; Line 5682
	dec	ecx
; Line 5683
	mov	BYTE PTR [edi-1], dl
; Line 5684
	jne	SHORT $loc_466523$86050
$loc_466541$86049:
; Line 5686
	jmp	SHORT $loc_466577$86051
$loc_466543$86047:
; Line 5689
	inc	esi
; Line 5690
	inc	edi
; Line 5691
	shr	ecx, 1
; Line 5692
	jae	SHORT $loc_466556$86052
; Line 5693
	mov	dl, BYTE PTR [esi]
; Line 5694
	mov	dl, BYTE PTR [ebx+edx]
; Line 5695
	add	esi, 2
; Line 5696
	mov	BYTE PTR [edi], dl
; Line 5697
	add	edi, 2
$loc_466556$86052:
; Line 5699
	test	cl, cl
; Line 5700
	je	SHORT $loc_466577$86051
$loc_46655A$86053:
; Line 5702
	mov	eax, DWORD PTR [esi]
; Line 5703
	add	esi, 4
; Line 5704
	mov	dl, al
; Line 5705
	shr	eax, 16					; 00000010H
; Line 5706
	mov	dl, BYTE PTR [ebx+edx]
; Line 5707
	mov	BYTE PTR [edi], dl
; Line 5708
	mov	dl, al
; Line 5709
	add	edi, 4
; Line 5710
	mov	dl, BYTE PTR [ebx+edx]
; Line 5711
	dec	ecx
; Line 5712
	mov	BYTE PTR [edi-2], dl
; Line 5713
	jne	SHORT $loc_46655A$86053
$loc_466577$86051:
; Line 5715
	jmp	SHORT $loc_4665F9$86054
$loc_46657C$86046:
; Line 5718
	mov	edx, ecx
; Line 5719
	and	edx, 2
; Line 5720
	add	esi, edx
; Line 5721
	shr	ecx, 1
; Line 5722
	jb	SHORT $loc_4665BB$86055
; Line 5723
	shr	ecx, 1
; Line 5724
	jae	SHORT $loc_466598$86056
; Line 5725
	mov	dl, BYTE PTR [esi]
; Line 5726
	mov	dl, BYTE PTR [ebx+edx]
; Line 5727
	add	esi, 2
; Line 5728
	mov	BYTE PTR [edi], dl
; Line 5729
	add	edi, 2
$loc_466598$86056:
; Line 5731
	test	cl, cl
; Line 5732
	je	SHORT $loc_4665B9$86057
$loc_46659C$86058:
; Line 5734
	mov	eax, DWORD PTR [esi]
; Line 5735
	add	esi, 4
; Line 5736
	mov	dl, al
; Line 5737
	shr	eax, 16					; 00000010H
; Line 5738
	mov	dl, BYTE PTR [ebx+edx]
; Line 5739
	mov	BYTE PTR [edi], dl
; Line 5740
	mov	dl, al
; Line 5741
	add	edi, 4
; Line 5742
	mov	dl, BYTE PTR [ebx+edx]
; Line 5743
	dec	ecx
; Line 5744
	mov	BYTE PTR [edi-2], dl
; Line 5745
	jne	SHORT $loc_46659C$86058
$loc_4665B9$86057:
; Line 5747
	jmp	SHORT $loc_4665F9$86054
$loc_4665BB$86055:
; Line 5750
	mov	dl, BYTE PTR [esi]
; Line 5751
	mov	dl, BYTE PTR [ebx+edx]
; Line 5752
	inc	esi
; Line 5753
	mov	BYTE PTR [edi], dl
; Line 5754
	inc	edi
; Line 5755
	shr	ecx, 1
; Line 5756
	jae	SHORT $loc_4665D7$86059
; Line 5757
	mov	dl, BYTE PTR [esi+1]
; Line 5758
	mov	dl, BYTE PTR [ebx+edx]
; Line 5759
	add	esi, 2
; Line 5760
	mov	BYTE PTR [edi+1], dl
; Line 5761
	add	edi, 2
$loc_4665D7$86059:
; Line 5763
	test	cl, cl
; Line 5764
	je	SHORT $loc_4665F9$86054
$loc_4665DB$86060:
; Line 5766
	mov	eax, DWORD PTR [esi]
; Line 5767
	add	esi, 4
; Line 5768
	mov	dl, ah
; Line 5769
	shr	eax, 16					; 00000010H
; Line 5770
	mov	dl, BYTE PTR [ebx+edx]
; Line 5771
	mov	BYTE PTR [edi+1], dl
; Line 5772
	mov	dl, ah
; Line 5773
	add	edi, 4
; Line 5774
	mov	dl, BYTE PTR [ebx+edx]
; Line 5775
	dec	ecx
; Line 5776
	mov	BYTE PTR [edi-1], dl
; Line 5777
	jne	SHORT $loc_4665DB$86060
$loc_4665F9$86054:
; Line 5779
	sub	edi, 800				; 00000320H
; Line 5780
	add	ebp, 2
; Line 5781
	cmp	ebp, 32					; 00000020H
; Line 5782
	jne	$loc_4664E8$86043
$loc_46660B$86045:
; Line 5784
	pop	ebp
; Line 5786
	jmp	$L86157
$L86003:
; Line 5290
	push	ebp
; Line 5291
	mov	eax, edi
; Line 5292
	and	eax, 1
; Line 5293
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5294
	mov	ecx, 32					; 00000020H
$loc_4661BD$86004:
; Line 5296
	push	ecx
; Line 5297
	mov	ebp, 32					; 00000020H
$loc_4661C3$86005:
; Line 5299
	xor	eax, eax
; Line 5300
	mov	al, BYTE PTR [esi]
; Line 5301
	inc	esi
; Line 5302
	test	al, al
; Line 5303
	js	$loc_4662E2$86006
; Line 5304
	sub	ebp, eax
; Line 5305
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5306
	jb	SHORT $loc_4661E3$86007
; Line 5307
	add	esi, eax
; Line 5308
	add	edi, eax
; Line 5309
	jmp	$loc_4662D9$86008
$loc_4661E3$86007:
; Line 5312
	mov	ecx, eax
; Line 5313
	mov	eax, edi
; Line 5314
	and	eax, 1
; Line 5315
	cmp	eax, DWORD PTR _WorldBoolFlag
; Line 5316
	jne	SHORT $loc_466263$86009
; Line 5317
	shr	ecx, 1
; Line 5318
	jb	SHORT $loc_46622D$86010
; Line 5319
	shr	ecx, 1
; Line 5320
	jae	SHORT $loc_466209$86011
; Line 5321
	mov	dl, BYTE PTR [esi+1]
; Line 5322
	mov	dl, BYTE PTR [ebx+edx]
; Line 5323
	add	esi, 2
; Line 5324
	mov	BYTE PTR [edi+1], dl
; Line 5325
	add	edi, 2
$loc_466209$86011:
; Line 5327
	test	cl, cl
; Line 5328
	je	SHORT $loc_46622B$86012
$loc_46620D$86013:
; Line 5330
	mov	eax, DWORD PTR [esi]
; Line 5331
	add	esi, 4
; Line 5332
	mov	dl, ah
; Line 5333
	shr	eax, 16					; 00000010H
; Line 5334
	mov	dl, BYTE PTR [ebx+edx]
; Line 5335
	mov	BYTE PTR [edi+1], dl
; Line 5336
	mov	dl, ah
; Line 5337
	add	edi, 4
; Line 5338
	mov	dl, BYTE PTR [ebx+edx]
; Line 5339
	dec	ecx
; Line 5340
	mov	BYTE PTR [edi-1], dl
; Line 5341
	jne	SHORT $loc_46620D$86013
$loc_46622B$86012:
; Line 5343
	jmp	SHORT $loc_466261$86014
$loc_46622D$86010:
; Line 5346
	inc	esi
; Line 5347
	inc	edi
; Line 5348
	shr	ecx, 1
; Line 5349
	jae	SHORT $loc_466240$86015
; Line 5350
	mov	dl, BYTE PTR [esi]
; Line 5351
	mov	dl, BYTE PTR [ebx+edx]
; Line 5352
	add	esi, 2
; Line 5353
	mov	BYTE PTR [edi], dl
; Line 5354
	add	edi, 2
$loc_466240$86015:
; Line 5356
	test	cl, cl
; Line 5357
	je	SHORT $loc_466261$86014
$loc_466244$86016:
; Line 5359
	mov	eax, DWORD PTR [esi]
; Line 5360
	add	esi, 4
; Line 5361
	mov	dl, al
; Line 5362
	shr	eax, 16					; 00000010H
; Line 5363
	mov	dl, BYTE PTR [ebx+edx]
; Line 5364
	mov	BYTE PTR [edi], dl
; Line 5365
	mov	dl, al
; Line 5366
	add	edi, 4
; Line 5367
	mov	dl, BYTE PTR [ebx+edx]
; Line 5368
	dec	ecx
; Line 5369
	mov	BYTE PTR [edi-2], dl
; Line 5370
	jne	SHORT $loc_466244$86016
$loc_466261$86014:
; Line 5372
	jmp	SHORT $loc_4662D9$86008
$loc_466263$86009:
; Line 5375
	shr	ecx, 1
; Line 5376
	jb	SHORT $loc_46629B$86017
; Line 5377
	shr	ecx, 1
; Line 5378
	jae	SHORT $loc_466278$86018
; Line 5379
	mov	dl, BYTE PTR [esi]
; Line 5380
	mov	dl, BYTE PTR [ebx+edx]
; Line 5381
	add	esi, 2
; Line 5382
	mov	BYTE PTR [edi], dl
; Line 5383
	add	edi, 2
$loc_466278$86018:
; Line 5385
	test	cl, cl
; Line 5386
	je	SHORT $loc_466299$86019
$loc_46627C$86020:
; Line 5388
	mov	eax, DWORD PTR [esi]
; Line 5389
	add	esi, 4
; Line 5390
	mov	dl, al
; Line 5391
	shr	eax, 16					; 00000010H
; Line 5392
	mov	dl, BYTE PTR [ebx+edx]
; Line 5393
	mov	BYTE PTR [edi], dl
; Line 5394
	mov	dl, al
; Line 5395
	add	edi, 4
; Line 5396
	mov	dl, BYTE PTR [ebx+edx]
; Line 5397
	dec	ecx
; Line 5398
	mov	BYTE PTR [edi-2], dl
; Line 5399
	jne	SHORT $loc_46627C$86020
$loc_466299$86019:
; Line 5401
	jmp	SHORT $loc_4662D9$86008
$loc_46629B$86017:
; Line 5404
	mov	dl, BYTE PTR [esi]
; Line 5405
	mov	dl, BYTE PTR [ebx+edx]
; Line 5406
	inc	esi
; Line 5407
	mov	BYTE PTR [edi], dl
; Line 5408
	inc	edi
; Line 5409
	shr	ecx, 1
; Line 5410
	jae	SHORT $loc_4662B7$86021
; Line 5411
	mov	dl, BYTE PTR [esi+1]
; Line 5412
	mov	dl, BYTE PTR [ebx+edx]
; Line 5413
	add	esi, 2
; Line 5414
	mov	BYTE PTR [edi+1], dl
; Line 5415
	add	edi, 2
$loc_4662B7$86021:
; Line 5417
	test	cl, cl
; Line 5418
	je	SHORT $loc_4662D9$86008
$loc_4662BB$86022:
; Line 5420
	mov	eax, DWORD PTR [esi]
; Line 5421
	add	esi, 4
; Line 5422
	mov	dl, ah
; Line 5423
	shr	eax, 16					; 00000010H
; Line 5424
	mov	dl, BYTE PTR [ebx+edx]
; Line 5425
	mov	BYTE PTR [edi+1], dl
; Line 5426
	mov	dl, ah
; Line 5427
	add	edi, 4
; Line 5428
	mov	dl, BYTE PTR [ebx+edx]
; Line 5429
	dec	ecx
; Line 5430
	mov	BYTE PTR [edi-1], dl
; Line 5431
	jne	SHORT $loc_4662BB$86022
$loc_4662D9$86008:
; Line 5433
	test	ebp, ebp
; Line 5434
	je	SHORT $loc_4662EE$86023
; Line 5435
	jmp	$loc_4661C3$86005
$loc_4662E2$86006:
; Line 5438
	neg	al
; Line 5439
	add	edi, eax
; Line 5440
	sub	ebp, eax
; Line 5441
	jne	$loc_4661C3$86005
$loc_4662EE$86023:
; Line 5443
	pop	ecx
; Line 5444
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 5445
	inc	eax
; Line 5446
	and	eax, 1
; Line 5447
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 5448
	sub	edi, 800				; 00000320H
; Line 5449
	dec	ecx
; Line 5450
	jne	$loc_4661BD$86004
; Line 5451
	pop	ebp
; Line 5453
	jmp	$L86157
$L85995:
; Line 5234
	push	ebp
; Line 5235
	mov	ebp, 16					; 00000010H
$loc_466133$85996:
; Line 5237
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5238
	jb	SHORT $loc_466143$85997
; Line 5239
	add	esi, 32					; 00000020H
; Line 5240
	add	edi, 32					; 00000020H
; Line 5241
	jmp	SHORT $loc_466166$85998
$loc_466143$85997:
; Line 5244
	mov	ecx, 8
$loc_466148$85999:
; Line 5246
	mov	eax, DWORD PTR [esi]
; Line 5247
	add	esi, 4
; Line 5248
	mov	dl, ah
; Line 5249
	shr	eax, 16					; 00000010H
; Line 5250
	mov	dl, BYTE PTR [ebx+edx]
; Line 5251
	mov	BYTE PTR [edi+1], dl
; Line 5252
	mov	dl, ah
; Line 5253
	add	edi, 4
; Line 5254
	mov	dl, BYTE PTR [ebx+edx]
; Line 5255
	dec	ecx
; Line 5256
	mov	BYTE PTR [edi-1], dl
; Line 5257
	jne	SHORT $loc_466148$85999
$loc_466166$85998:
; Line 5259
	sub	edi, 800				; 00000320H
; Line 5260
	cmp	edi, DWORD PTR _gpBufEnd
; Line 5261
	jb	SHORT $loc_46617C$86000
; Line 5262
	add	esi, 32					; 00000020H
; Line 5263
	add	edi, 32					; 00000020H
; Line 5264
	jmp	SHORT $loc_46619E$86001
$loc_46617C$86000:
; Line 5267
	mov	ecx, 8
$loc_466181$86002:
; Line 5269
	mov	eax, DWORD PTR [esi]
; Line 5270
	add	esi, 4
; Line 5271
	mov	dl, al
; Line 5272
	shr	eax, 16					; 00000010H
; Line 5273
	mov	dl, BYTE PTR [ebx+edx]
; Line 5274
	mov	BYTE PTR [edi], dl
; Line 5275
	mov	dl, al
; Line 5276
	add	edi, 4
; Line 5277
	mov	dl, BYTE PTR [ebx+edx]
; Line 5278
	dec	ecx
; Line 5279
	mov	BYTE PTR [edi-2], dl
; Line 5280
	jne	SHORT $loc_466181$86002
$loc_46619E$86001:
; Line 5282
	sub	edi, 800				; 00000320H
; Line 5283
	dec	ebp
; Line 5284
	jne	SHORT $loc_466133$85996
; Line 5285
	pop	ebp
; Line 6564
	jmp	$L86157
$L85986:
; Line 6566
	mov	edx, ecx
	and	edx, 4095				; 00000fffH
	shl	edx, 4
	add	edx, eax
	mov	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx*4]
	add	eax, DWORD PTR _pSpeedCels
; Line 6567
	shr	ecx, 12					; 0000000cH
	mov	DWORD PTR _src$[ebp], eax
	mov	eax, ecx
$LABEL_11$85896:
; Line 6570
	xor	edx, edx
; Line 6571
	xor	ecx, ecx
; Line 6572
	mov	edi, DWORD PTR _dst$[ebp]
; Line 6573
	mov	esi, DWORD PTR _src$[ebp]
; Line 6576
	movsx	eax, ax
	sub	eax, 8
	je	$L86160
	dec	eax
	je	$L86168
	dec	eax
	je	$L86180
	dec	eax
	je	$L86195
	dec	eax
	je	$L86214
; Line 7235
	push	ebp
; Line 7236
	xor	eax, eax
; Line 7237
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 7238
	mov	edx, 30					; 0000001eH
; Line 7239
	mov	eax, edi
; Line 7240
	sub	eax, DWORD PTR _gpBufEnd
; Line 7241
	jb	SHORT $loc_46738D$86230
; Line 7242
	add	eax, 1023				; 000003ffH
; Line 7243
	shr	eax, 8
; Line 7244
	cmp	eax, 45					; 0000002dH
; Line 7245
	jg	SHORT $loc_46737C$86231
; Line 7246
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 7247
	mov	eax, ecx
; Line 7248
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 7249
	shl	eax, 6
; Line 7250
	lea	eax, DWORD PTR [eax+eax*2]
; Line 7251
	shr	ecx, 1
; Line 7252
	sub	edi, eax
; Line 7253
	sub	edx, ecx
; Line 7254
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 7255
	shr	ecx, 1
; Line 7256
	add	eax, ecx
; Line 7257
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 7258
	jmp	SHORT $loc_46738D$86230
$loc_46737C$86231:
; Line 7261
	sub	edi, 12288				; 00003000H
; Line 7262
	add	esi, 288				; 00000120H
; Line 7263
	jmp	$loc_46740D$86232
$loc_46738D$86230:
; Line 7266
	mov	ecx, 32					; 00000020H
; Line 7267
	sub	ecx, edx
; Line 7268
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 7269
	inc	eax
; Line 7270
	and	eax, 1
; Line 7271
	mov	ebp, ecx
; Line 7272
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 7273
	je	SHORT $loc_4673D6$86233
; Line 7274
	shr	ecx, 2
; Line 7275
	je	SHORT $loc_4673C2$86234
$loc_4673AB$86235:
; Line 7277
	mov	eax, DWORD PTR [esi]
; Line 7278
	add	esi, 4
; Line 7279
	inc	edi
; Line 7280
	ror	eax, 8
; Line 7281
	mov	BYTE PTR [edi], al
; Line 7282
	add	edi, 2
; Line 7283
	ror	eax, 16					; 00000010H
; Line 7284
	mov	BYTE PTR [edi], al
; Line 7285
	inc	edi
; Line 7286
	dec	ecx
; Line 7287
	jne	SHORT $loc_4673AB$86235
$loc_4673C2$86234:
; Line 7289
	and	ebp, 2
; Line 7290
	je	SHORT $loc_467400$86236
; Line 7291
	mov	ax, WORD PTR [esi]
; Line 7292
	add	esi, 4
; Line 7293
	inc	edi
; Line 7294
	ror	eax, 8
; Line 7295
	mov	BYTE PTR [edi], al
; Line 7296
	inc	edi
; Line 7297
	jmp	SHORT $loc_467400$86236
$loc_4673D6$86233:
; Line 7300
	shr	ecx, 2
; Line 7301
	je	SHORT $loc_4673F0$86237
$loc_4673DB$86238:
; Line 7303
	mov	eax, DWORD PTR [esi]
; Line 7304
	add	esi, 4
; Line 7305
	mov	BYTE PTR [edi], al
; Line 7306
	add	edi, 2
; Line 7307
	ror	eax, 16					; 00000010H
; Line 7308
	mov	BYTE PTR [edi], al
; Line 7309
	add	edi, 2
; Line 7310
	dec	ecx
; Line 7311
	jne	SHORT $loc_4673DB$86238
$loc_4673F0$86237:
; Line 7313
	and	ebp, 2
; Line 7314
	je	SHORT $loc_467400$86236
; Line 7315
	mov	ax, WORD PTR [esi]
; Line 7316
	add	esi, 4
; Line 7317
	mov	BYTE PTR [edi], al
; Line 7318
	add	edi, 2
$loc_467400$86236:
; Line 7320
	sub	edi, 800				; 00000320H
; Line 7321
	add	edi, edx
; Line 7322
	sub	edx, 2
; Line 7323
	jge	SHORT $loc_46738D$86230
$loc_46740D$86232:
; Line 7325
	mov	edx, 8
$loc_467412$86239:
; Line 7327
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7328
	jb	SHORT $loc_467422$86240
; Line 7329
	add	esi, 32					; 00000020H
; Line 7330
	add	edi, 32					; 00000020H
; Line 7331
	jmp	SHORT $loc_46743E$86241
$loc_467422$86240:
; Line 7334
	mov	ecx, 8
$loc_467427$86242:
; Line 7336
	mov	eax, DWORD PTR [esi]
; Line 7337
	add	esi, 4
; Line 7338
	inc	edi
; Line 7339
	ror	eax, 8
; Line 7340
	mov	BYTE PTR [edi], al
; Line 7341
	add	edi, 2
; Line 7342
	ror	eax, 16					; 00000010H
; Line 7343
	mov	BYTE PTR [edi], al
; Line 7344
	inc	edi
; Line 7345
	dec	ecx
; Line 7346
	jne	SHORT $loc_467427$86242
$loc_46743E$86241:
; Line 7348
	sub	edi, 800				; 00000320H
; Line 7349
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7350
	jb	SHORT $loc_467454$86243
; Line 7351
	add	esi, 32					; 00000020H
; Line 7352
	add	edi, 32					; 00000020H
; Line 7353
	jmp	SHORT $loc_46746E$86244
$loc_467454$86243:
; Line 7356
	mov	ecx, 8
$loc_467459$86245:
; Line 7358
	mov	eax, DWORD PTR [esi]
; Line 7359
	add	esi, 4
; Line 7360
	mov	BYTE PTR [edi], al
; Line 7361
	add	edi, 2
; Line 7362
	ror	eax, 16					; 00000010H
; Line 7363
	mov	BYTE PTR [edi], al
; Line 7364
	add	edi, 2
; Line 7365
	dec	ecx
; Line 7366
	jne	SHORT $loc_467459$86245
$loc_46746E$86244:
; Line 7368
	sub	edi, 800				; 00000320H
; Line 7369
	dec	edx
; Line 7370
	jne	SHORT $loc_467412$86239
; Line 7371
	pop	ebp
; Line 7373
	jmp	$L86157
$L86214:
; Line 7099
	xor	eax, eax
; Line 7100
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 7101
	mov	edx, 30					; 0000001eH
; Line 7102
	mov	eax, edi
; Line 7103
	sub	eax, DWORD PTR _gpBufEnd
; Line 7104
	jb	SHORT $loc_467240$86215
; Line 7105
	add	eax, 1023				; 000003ffH
; Line 7106
	shr	eax, 8
; Line 7107
	cmp	eax, 45					; 0000002dH
; Line 7108
	jg	SHORT $loc_46722F$86216
; Line 7109
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 7110
	mov	eax, ecx
; Line 7111
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 7112
	shl	eax, 6
; Line 7113
	lea	eax, DWORD PTR [eax+eax*2]
; Line 7114
	shr	ecx, 1
; Line 7115
	sub	edi, eax
; Line 7116
	sub	edx, ecx
; Line 7117
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 7118
	shr	ecx, 1
; Line 7119
	add	eax, ecx
; Line 7120
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 7121
	jmp	SHORT $loc_467240$86215
$loc_46722F$86216:
; Line 7124
	sub	edi, 12288				; 00003000H
; Line 7125
	add	esi, 288				; 00000120H
; Line 7126
	jmp	SHORT $loc_4672BE$86217
$loc_467240$86215:
; Line 7129
	add	edi, edx
; Line 7130
	mov	ecx, 32					; 00000020H
; Line 7131
	sub	ecx, edx
; Line 7132
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 7133
	inc	eax
; Line 7134
	and	eax, 1
; Line 7135
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 7136
	je	SHORT $loc_467289$86218
; Line 7137
	shr	ecx, 2
; Line 7138
	jae	SHORT $loc_467270$86219
; Line 7139
	mov	ax, WORD PTR [esi+2]
; Line 7140
	add	esi, 4
; Line 7141
	inc	edi
; Line 7142
	ror	eax, 8
; Line 7143
	mov	BYTE PTR [edi], al
; Line 7144
	inc	edi
; Line 7145
	test	ecx, ecx
; Line 7146
	je	SHORT $loc_4672B3$86220
$loc_467270$86219:
; Line 7148
	mov	eax, DWORD PTR [esi]
; Line 7149
	add	esi, 4
; Line 7150
	inc	edi
; Line 7151
	ror	eax, 8
; Line 7152
	mov	BYTE PTR [edi], al
; Line 7153
	add	edi, 2
; Line 7154
	ror	eax, 16					; 00000010H
; Line 7155
	mov	BYTE PTR [edi], al
; Line 7156
	inc	edi
; Line 7157
	dec	ecx
; Line 7158
	jne	SHORT $loc_467270$86219
; Line 7159
	jmp	SHORT $loc_4672B3$86220
$loc_467289$86218:
; Line 7162
	shr	ecx, 2
; Line 7163
	jae	SHORT $loc_46729E$86221
; Line 7164
	mov	ax, WORD PTR [esi+2]
; Line 7165
	add	esi, 4
; Line 7166
	mov	BYTE PTR [edi], al
; Line 7167
	test	ecx, ecx
; Line 7168
	lea	edi, DWORD PTR [edi+2]
; Line 7169
	je	SHORT $loc_4672B3$86220
$loc_46729E$86221:
; Line 7171
	mov	eax, DWORD PTR [esi]
; Line 7172
	add	esi, 4
; Line 7173
	mov	BYTE PTR [edi], al
; Line 7174
	add	edi, 2
; Line 7175
	ror	eax, 16					; 00000010H
; Line 7176
	mov	BYTE PTR [edi], al
; Line 7177
	dec	ecx
; Line 7178
	lea	edi, DWORD PTR [edi+2]
; Line 7179
	jne	SHORT $loc_46729E$86221
$loc_4672B3$86220:
; Line 7181
	sub	edi, 800				; 00000320H
; Line 7182
	sub	edx, 2
; Line 7183
	jge	SHORT $loc_467240$86215
$loc_4672BE$86217:
; Line 7185
	mov	edx, 8
$loc_4672C3$86222:
; Line 7187
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7188
	jb	SHORT $loc_4672D3$86223
; Line 7189
	add	esi, 32					; 00000020H
; Line 7190
	add	edi, 32					; 00000020H
; Line 7191
	jmp	SHORT $loc_4672EF$86224
$loc_4672D3$86223:
; Line 7194
	mov	ecx, 8
$loc_4672D8$86225:
; Line 7196
	mov	eax, DWORD PTR [esi]
; Line 7197
	add	esi, 4
; Line 7198
	inc	edi
; Line 7199
	ror	eax, 8
; Line 7200
	mov	BYTE PTR [edi], al
; Line 7201
	add	edi, 2
; Line 7202
	ror	eax, 16					; 00000010H
; Line 7203
	mov	BYTE PTR [edi], al
; Line 7204
	inc	edi
; Line 7205
	dec	ecx
; Line 7206
	jne	SHORT $loc_4672D8$86225
$loc_4672EF$86224:
; Line 7208
	sub	edi, 800				; 00000320H
; Line 7209
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7210
	jb	SHORT $loc_467305$86226
; Line 7211
	add	esi, 32					; 00000020H
; Line 7212
	add	edi, 32					; 00000020H
; Line 7213
	jmp	SHORT $loc_46731F$86227
$loc_467305$86226:
; Line 7216
	mov	ecx, 8
$loc_46730A$86228:
; Line 7218
	mov	eax, DWORD PTR [esi]
; Line 7219
	add	esi, 4
; Line 7220
	mov	BYTE PTR [edi], al
; Line 7221
	add	edi, 2
; Line 7222
	ror	eax, 16					; 00000010H
; Line 7223
	mov	BYTE PTR [edi], al
; Line 7224
	add	edi, 2
; Line 7225
	dec	ecx
; Line 7226
	jne	SHORT $loc_46730A$86228
$loc_46731F$86227:
; Line 7228
	sub	edi, 800				; 00000320H
; Line 7229
	dec	edx
; Line 7230
	jne	SHORT $loc_4672C3$86222
; Line 7232
	jmp	$L86157
$L86195:
; Line 6916
	push	ebp
; Line 6917
	xor	eax, eax
; Line 6918
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6919
	mov	edx, 30					; 0000001eH
; Line 6920
	mov	eax, edi
; Line 6921
	sub	eax, DWORD PTR _gpBufEnd
; Line 6922
	jb	SHORT $loc_46707C$86196
; Line 6923
	add	eax, 1023				; 000003ffH
; Line 6924
	shr	eax, 8
; Line 6925
	cmp	eax, 45					; 0000002dH
; Line 6926
	jg	SHORT $loc_46706B$86197
; Line 6927
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 6928
	mov	eax, ecx
; Line 6929
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 6930
	shl	eax, 6
; Line 6931
	lea	eax, DWORD PTR [eax+eax*2]
; Line 6932
	shr	ecx, 1
; Line 6933
	sub	edi, eax
; Line 6934
	sub	edx, ecx
; Line 6935
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6936
	shr	ecx, 1
; Line 6937
	add	eax, ecx
; Line 6938
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6939
	jmp	SHORT $loc_46707C$86196
$loc_46706B$86197:
; Line 6942
	sub	edi, 12288				; 00003000H
; Line 6943
	add	esi, 288				; 00000120H
; Line 6944
	jmp	$loc_4670FC$86198
$loc_46707C$86196:
; Line 6947
	mov	ecx, 32					; 00000020H
; Line 6948
	sub	ecx, edx
; Line 6949
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6950
	inc	eax
; Line 6951
	and	eax, 1
; Line 6952
	mov	ebp, ecx
; Line 6953
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6954
	je	SHORT $loc_4670C5$86199
; Line 6955
	shr	ecx, 2
; Line 6956
	je	SHORT $loc_4670B1$86200
$loc_46709A$86201:
; Line 6958
	mov	eax, DWORD PTR [esi]
; Line 6959
	add	esi, 4
; Line 6960
	inc	edi
; Line 6961
	ror	eax, 8
; Line 6962
	mov	BYTE PTR [edi], al
; Line 6963
	add	edi, 2
; Line 6964
	ror	eax, 16					; 00000010H
; Line 6965
	mov	BYTE PTR [edi], al
; Line 6966
	inc	edi
; Line 6967
	dec	ecx
; Line 6968
	jne	SHORT $loc_46709A$86201
$loc_4670B1$86200:
; Line 6970
	and	ebp, 2
; Line 6971
	je	SHORT $loc_4670EF$86202
; Line 6972
	mov	ax, WORD PTR [esi]
; Line 6973
	add	esi, 4
; Line 6974
	inc	edi
; Line 6975
	ror	eax, 8
; Line 6976
	mov	BYTE PTR [edi], al
; Line 6977
	inc	edi
; Line 6978
	jmp	SHORT $loc_4670EF$86202
$loc_4670C5$86199:
; Line 6981
	shr	ecx, 2
; Line 6982
	je	SHORT $loc_4670DF$86203
$loc_4670CA$86204:
; Line 6984
	mov	eax, DWORD PTR [esi]
; Line 6985
	add	esi, 4
; Line 6986
	mov	BYTE PTR [edi], al
; Line 6987
	add	edi, 2
; Line 6988
	ror	eax, 16					; 00000010H
; Line 6989
	mov	BYTE PTR [edi], al
; Line 6990
	add	edi, 2
; Line 6991
	dec	ecx
; Line 6992
	jne	SHORT $loc_4670CA$86204
$loc_4670DF$86203:
; Line 6994
	and	ebp, 2
; Line 6995
	je	SHORT $loc_4670EF$86202
; Line 6996
	mov	ax, WORD PTR [esi]
; Line 6997
	add	esi, 4
; Line 6998
	mov	BYTE PTR [edi], al
; Line 6999
	add	edi, 2
$loc_4670EF$86202:
; Line 7001
	sub	edi, 800				; 00000320H
; Line 7002
	add	edi, edx
; Line 7003
	sub	edx, 2
; Line 7004
	jge	SHORT $loc_46707C$86196
$loc_4670FC$86198:
; Line 7006
	mov	edx, 2
; Line 7007
	mov	eax, edi
; Line 7008
	sub	eax, DWORD PTR _gpBufEnd
; Line 7009
	jb	SHORT $loc_467154$86205
; Line 7010
	add	eax, 1023				; 000003ffH
; Line 7011
	shr	eax, 8
; Line 7012
	cmp	eax, 42					; 0000002aH
; Line 7013
	jg	SHORT $loc_467143$86206
; Line 7014
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 7015
	mov	eax, ecx
; Line 7016
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 7017
	shl	eax, 6
; Line 7018
	lea	eax, DWORD PTR [eax+eax*2]
; Line 7019
	shr	ecx, 1
; Line 7020
	sub	edi, eax
; Line 7021
	add	edx, ecx
; Line 7022
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 7023
	shr	ecx, 1
; Line 7024
	add	eax, ecx
; Line 7025
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 7026
	jmp	SHORT $loc_467154$86205
$loc_467143$86206:
; Line 7029
	sub	edi, 11520				; 00002d00H
; Line 7030
	add	esi, 256				; 00000100H
; Line 7031
	jmp	$loc_4671DB$86207
$loc_467154$86205:
; Line 7034
	mov	ecx, 32					; 00000020H
; Line 7035
	sub	ecx, edx
; Line 7036
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 7037
	inc	eax
; Line 7038
	and	eax, 1
; Line 7039
	mov	ebp, ecx
; Line 7040
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 7041
	je	SHORT $loc_46719D$86208
; Line 7042
	shr	ecx, 2
; Line 7043
	je	SHORT $loc_467189$86209
$loc_467172$86210:
; Line 7045
	mov	eax, DWORD PTR [esi]
; Line 7046
	add	esi, 4
; Line 7047
	inc	edi
; Line 7048
	ror	eax, 8
; Line 7049
	mov	BYTE PTR [edi], al
; Line 7050
	add	edi, 2
; Line 7051
	ror	eax, 16					; 00000010H
; Line 7052
	mov	BYTE PTR [edi], al
; Line 7053
	inc	edi
; Line 7054
	dec	ecx
; Line 7055
	jne	SHORT $loc_467172$86210
$loc_467189$86209:
; Line 7057
	and	ebp, 2
; Line 7058
	je	SHORT $loc_4671C7$86211
; Line 7059
	mov	ax, WORD PTR [esi]
; Line 7060
	add	esi, 4
; Line 7061
	inc	edi
; Line 7062
	ror	eax, 8
; Line 7063
	mov	BYTE PTR [edi], al
; Line 7064
	inc	edi
; Line 7065
	jmp	SHORT $loc_4671C7$86211
$loc_46719D$86208:
; Line 7068
	shr	ecx, 2
; Line 7069
	je	SHORT $loc_4671B7$86212
$loc_4671A2$86213:
; Line 7071
	mov	eax, DWORD PTR [esi]
; Line 7072
	add	esi, 4
; Line 7073
	mov	BYTE PTR [edi], al
; Line 7074
	add	edi, 2
; Line 7075
	ror	eax, 16					; 00000010H
; Line 7076
	mov	BYTE PTR [edi], al
; Line 7077
	add	edi, 2
; Line 7078
	dec	ecx
; Line 7079
	jne	SHORT $loc_4671A2$86213
$loc_4671B7$86212:
; Line 7081
	and	ebp, 2
; Line 7082
	je	SHORT $loc_4671C7$86211
; Line 7083
	mov	ax, WORD PTR [esi]
; Line 7084
	add	esi, 4
; Line 7085
	mov	BYTE PTR [edi], al
; Line 7086
	add	edi, 2
$loc_4671C7$86211:
; Line 7088
	sub	edi, 800				; 00000320H
; Line 7089
	add	edi, edx
; Line 7090
	add	edx, 2
; Line 7091
	cmp	edx, 32					; 00000020H
; Line 7092
	jne	$loc_467154$86205
$loc_4671DB$86207:
; Line 7094
	pop	ebp
; Line 7096
	jmp	$L86157
$L86180:
; Line 6741
	xor	eax, eax
; Line 6742
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6743
	mov	edx, 30					; 0000001eH
; Line 6744
	mov	eax, edi
; Line 6745
	sub	eax, DWORD PTR _gpBufEnd
; Line 6746
	jb	SHORT $loc_466EC1$86181
; Line 6747
	add	eax, 1023				; 000003ffH
; Line 6748
	shr	eax, 8
; Line 6749
	cmp	eax, 45					; 0000002dH
; Line 6750
	jg	SHORT $loc_466EB0$86182
; Line 6751
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 6752
	mov	eax, ecx
; Line 6753
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 6754
	shl	eax, 6
; Line 6755
	lea	eax, DWORD PTR [eax+eax*2]
; Line 6756
	shr	ecx, 1
; Line 6757
	sub	edi, eax
; Line 6758
	sub	edx, ecx
; Line 6759
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6760
	shr	ecx, 1
; Line 6761
	add	eax, ecx
; Line 6762
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6763
	jmp	SHORT $loc_466EC1$86181
$loc_466EB0$86182:
; Line 6766
	sub	edi, 12288				; 00003000H
; Line 6767
	add	esi, 288				; 00000120H
; Line 6768
	jmp	SHORT $loc_466F3F$86183
$loc_466EC1$86181:
; Line 6771
	add	edi, edx
; Line 6772
	mov	ecx, 32					; 00000020H
; Line 6773
	sub	ecx, edx
; Line 6774
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6775
	inc	eax
; Line 6776
	and	eax, 1
; Line 6777
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6778
	je	SHORT $loc_466F0A$86184
; Line 6779
	shr	ecx, 2
; Line 6780
	jae	SHORT $loc_466EF1$86185
; Line 6781
	mov	ax, WORD PTR [esi+2]
; Line 6782
	add	esi, 4
; Line 6783
	inc	edi
; Line 6784
	ror	eax, 8
; Line 6785
	mov	BYTE PTR [edi], al
; Line 6786
	inc	edi
; Line 6787
	test	ecx, ecx
; Line 6788
	je	SHORT $loc_466F34$86186
$loc_466EF1$86185:
; Line 6790
	mov	eax, DWORD PTR [esi]
; Line 6791
	add	esi, 4
; Line 6792
	inc	edi
; Line 6793
	ror	eax, 8
; Line 6794
	mov	BYTE PTR [edi], al
; Line 6795
	add	edi, 2
; Line 6796
	ror	eax, 16					; 00000010H
; Line 6797
	mov	BYTE PTR [edi], al
; Line 6798
	inc	edi
; Line 6799
	dec	ecx
; Line 6800
	jne	SHORT $loc_466EF1$86185
; Line 6801
	jmp	SHORT $loc_466F34$86186
$loc_466F0A$86184:
; Line 6804
	shr	ecx, 2
; Line 6805
	jae	SHORT $loc_466F1F$86187
; Line 6806
	mov	ax, WORD PTR [esi+2]
; Line 6807
	add	esi, 4
; Line 6808
	mov	BYTE PTR [edi], al
; Line 6809
	add	edi, 2
; Line 6810
	test	ecx, ecx
; Line 6811
	je	SHORT $loc_466F34$86186
$loc_466F1F$86187:
; Line 6813
	mov	eax, DWORD PTR [esi]
; Line 6814
	add	esi, 4
; Line 6815
	mov	BYTE PTR [edi], al
; Line 6816
	add	edi, 2
; Line 6817
	ror	eax, 16					; 00000010H
; Line 6818
	mov	BYTE PTR [edi], al
; Line 6819
	add	edi, 2
; Line 6820
	dec	ecx
; Line 6821
	jne	SHORT $loc_466F1F$86187
$loc_466F34$86186:
; Line 6823
	sub	edi, 800				; 00000320H
; Line 6824
	sub	edx, 2
; Line 6825
	jge	SHORT $loc_466EC1$86181
$loc_466F3F$86183:
; Line 6827
	mov	edx, 2
; Line 6828
	mov	eax, edi
; Line 6829
	sub	eax, DWORD PTR _gpBufEnd
; Line 6830
	jb	SHORT $loc_466F97$86188
; Line 6831
	add	eax, 1023				; 000003ffH
; Line 6832
	shr	eax, 8
; Line 6833
	cmp	eax, 42					; 0000002aH
; Line 6834
	jg	SHORT $loc_466F86$86189
; Line 6835
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 6836
	mov	eax, ecx
; Line 6837
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 6838
	shl	eax, 6
; Line 6839
	lea	eax, DWORD PTR [eax+eax*2]
; Line 6840
	shr	ecx, 1
; Line 6841
	sub	edi, eax
; Line 6842
	add	edx, ecx
; Line 6843
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6844
	shr	ecx, 1
; Line 6845
	add	eax, ecx
; Line 6846
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6847
	jmp	SHORT $loc_466F97$86188
$loc_466F86$86189:
; Line 6850
	sub	edi, 11520				; 00002d00H
; Line 6851
	add	esi, 256				; 00000100H
; Line 6852
	jmp	$ret_467944_10S$86190
$loc_466F97$86188:
; Line 6855
	add	edi, edx
; Line 6856
	mov	ecx, 32					; 00000020H
; Line 6857
	sub	ecx, edx
; Line 6858
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6859
	inc	eax
; Line 6860
	and	eax, 1
; Line 6861
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6862
	je	SHORT $loc_466FE0$86191
; Line 6863
	shr	ecx, 2
; Line 6864
	jae	SHORT $loc_466FC7$86192
; Line 6865
	mov	ax, WORD PTR [esi+2]
; Line 6866
	add	esi, 4
; Line 6867
	inc	edi
; Line 6868
	ror	eax, 8
; Line 6869
	mov	BYTE PTR [edi], al
; Line 6870
	inc	edi
; Line 6871
	test	ecx, ecx
; Line 6872
	je	SHORT $loc_467009$86193
$loc_466FC7$86192:
; Line 6874
	mov	eax, DWORD PTR [esi]
; Line 6875
	add	esi, 4
; Line 6876
	inc	edi
; Line 6877
	ror	eax, 8
; Line 6878
	mov	BYTE PTR [edi], al
; Line 6879
	add	edi, 2
; Line 6880
	ror	eax, 16					; 00000010H
; Line 6881
	mov	BYTE PTR [edi], al
; Line 6882
	inc	edi
; Line 6883
	dec	ecx
; Line 6884
	jne	SHORT $loc_466FC7$86192
; Line 6885
	jmp	SHORT $loc_467009$86193
$loc_466FE0$86191:
; Line 6888
	shr	ecx, 2
; Line 6889
	jae	SHORT $loc_466FF4$86194
; Line 6890
	mov	ax, WORD PTR [esi+2]
; Line 6891
	add	esi, 4
; Line 6892
	mov	BYTE PTR [edi], al
; Line 6893
	add	edi, 2
; Line 6894
	dec	ecx
; Line 6895
	je	SHORT $loc_467009$86193
$loc_466FF4$86194:
; Line 6897
	mov	eax, DWORD PTR [esi]
; Line 6898
	add	esi, 4
; Line 6899
	mov	BYTE PTR [edi], al
; Line 6900
	add	edi, 2
; Line 6901
	ror	eax, 16					; 00000010H
; Line 6902
	mov	BYTE PTR [edi], al
; Line 6903
	add	edi, 2
; Line 6904
	dec	ecx
; Line 6905
	jne	SHORT $loc_466FF4$86194
$loc_467009$86193:
; Line 6907
	sub	edi, 800				; 00000320H
; Line 6908
	add	edx, 2
; Line 6909
	cmp	edx, 32					; 00000020H
; Line 6910
	jne	SHORT $loc_466F97$86188
$ret_467944_10S$86190:
; Line 6913
	jmp	$L86157
$L86168:
; Line 6629
	mov	eax, edi
; Line 6630
	and	eax, 1
; Line 6631
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6632
	mov	ecx, 32					; 00000020H
$loc_466D8E$86169:
; Line 6634
	push	ecx
; Line 6635
	mov	edx, 32					; 00000020H
$loc_466D94$86170:
; Line 6637
	xor	eax, eax
; Line 6638
	mov	al, BYTE PTR [esi]
; Line 6639
	inc	esi
; Line 6640
	test	al, al
; Line 6641
	js	$loc_466E35$86171
; Line 6642
	sub	edx, eax
; Line 6643
	cmp	edi, DWORD PTR _gpBufEnd
; Line 6644
	jb	SHORT $loc_466DB1$86172
; Line 6645
	add	esi, eax
; Line 6646
	add	edi, eax
; Line 6647
	jmp	SHORT $loc_466E2C$86173
$loc_466DB1$86172:
; Line 6650
	mov	ecx, eax
; Line 6651
	mov	eax, edi
; Line 6652
	and	eax, 1
; Line 6653
	cmp	eax, DWORD PTR _WorldBoolFlag
; Line 6654
	jne	SHORT $loc_466DF5$86174
; Line 6655
	shr	ecx, 1
; Line 6656
	jae	SHORT $loc_466DCC$86175
; Line 6657
	inc	esi
; Line 6658
	inc	edi
; Line 6659
	test	ecx, ecx
; Line 6660
	je	SHORT $loc_466E2C$86173
; Line 6661
	jmp	SHORT $loc_466E05$86176
$loc_466DCC$86175:
; Line 6664
	shr	ecx, 1
; Line 6665
	jae	SHORT $loc_466DDC$86177
; Line 6666
	inc	esi
; Line 6667
	inc	edi
; Line 6668
	mov	al, BYTE PTR [esi]
; Line 6669
	inc	esi
; Line 6670
	mov	BYTE PTR [edi], al
; Line 6671
	inc	edi
; Line 6672
	test	ecx, ecx
; Line 6673
	je	SHORT $loc_466E2C$86173
$loc_466DDC$86177:
; Line 6675
	mov	eax, DWORD PTR [esi]
; Line 6676
	add	esi, 4
; Line 6677
	inc	edi
; Line 6678
	ror	eax, 8
; Line 6679
	mov	BYTE PTR [edi], al
; Line 6680
	add	edi, 2
; Line 6681
	ror	eax, 16					; 00000010H
; Line 6682
	mov	BYTE PTR [edi], al
; Line 6683
	inc	edi
; Line 6684
	dec	ecx
; Line 6685
	jne	SHORT $loc_466DDC$86177
; Line 6686
	jmp	SHORT $loc_466E2C$86173
$loc_466DF5$86174:
; Line 6689
	shr	ecx, 1
; Line 6690
	jae	SHORT $loc_466E05$86176
; Line 6691
	mov	al, BYTE PTR [esi]
; Line 6692
	inc	esi
; Line 6693
	mov	BYTE PTR [edi], al
; Line 6694
	inc	edi
; Line 6695
	test	ecx, ecx
; Line 6696
	je	SHORT $loc_466E2C$86173
; Line 6697
	jmp	SHORT $loc_466DCC$86175
$loc_466E05$86176:
; Line 6700
	shr	ecx, 1
; Line 6701
	jae	SHORT $loc_466E17$86178
; Line 6702
	mov	al, BYTE PTR [esi]
; Line 6703
	add	esi, 2
; Line 6704
	mov	BYTE PTR [edi], al
; Line 6705
	add	edi, 2
; Line 6706
	test	ecx, ecx
; Line 6707
	je	SHORT $loc_466E2C$86173
$loc_466E17$86178:
; Line 6709
	mov	eax, DWORD PTR [esi]
; Line 6710
	add	esi, 4
; Line 6711
	mov	BYTE PTR [edi], al
; Line 6712
	add	edi, 2
; Line 6713
	ror	eax, 16					; 00000010H
; Line 6714
	mov	BYTE PTR [edi], al
; Line 6715
	add	edi, 2
; Line 6716
	dec	ecx
; Line 6717
	jne	SHORT $loc_466E17$86178
$loc_466E2C$86173:
; Line 6719
	test	edx, edx
; Line 6720
	je	SHORT $loc_466E41$86179
; Line 6721
	jmp	$loc_466D94$86170
$loc_466E35$86171:
; Line 6724
	neg	al
; Line 6725
	add	edi, eax
; Line 6726
	sub	edx, eax
; Line 6727
	jne	$loc_466D94$86170
$loc_466E41$86179:
; Line 6729
	pop	ecx
; Line 6730
	mov	eax, DWORD PTR _WorldBoolFlag
; Line 6731
	inc	eax
; Line 6732
	and	eax, 1
; Line 6733
	mov	DWORD PTR _WorldBoolFlag, eax
; Line 6734
	sub	edi, 800				; 00000320H
; Line 6735
	dec	ecx
; Line 6736
	jne	$loc_466D8E$86169
; Line 6738
	jmp	SHORT $L86157
$L86160:
; Line 6579
	mov	edx, 16					; 00000010H
$loc_466D15$86161:
; Line 6581
	cmp	edi, DWORD PTR _gpBufEnd
; Line 6582
	jb	SHORT $loc_466D25$86162
; Line 6583
	add	esi, 32					; 00000020H
; Line 6584
	add	edi, 32					; 00000020H
; Line 6585
	jmp	SHORT $loc_466D41$86163
$loc_466D25$86162:
; Line 6588
	mov	ecx, 8
$loc_466D2A$86164:
; Line 6590
	mov	eax, DWORD PTR [esi]
; Line 6591
	add	esi, 4
; Line 6592
	inc	edi
; Line 6593
	ror	eax, 8
; Line 6594
	mov	BYTE PTR [edi], al
; Line 6595
	add	edi, 2
; Line 6596
	ror	eax, 16					; 00000010H
; Line 6597
	mov	BYTE PTR [edi], al
; Line 6598
	inc	edi
; Line 6599
	dec	ecx
; Line 6600
	jne	SHORT $loc_466D2A$86164
$loc_466D41$86163:
; Line 6602
	sub	edi, 800				; 00000320H
; Line 6603
	cmp	edi, DWORD PTR _gpBufEnd
; Line 6604
	jb	SHORT $loc_466D57$86165
; Line 6605
	add	esi, 32					; 00000020H
; Line 6606
	add	edi, 32					; 00000020H
; Line 6607
	jmp	SHORT $loc_466D71$86166
$loc_466D57$86165:
; Line 6610
	mov	ecx, 8
$loc_466D5C$86167:
; Line 6612
	mov	eax, DWORD PTR [esi]
; Line 6613
	add	esi, 4
; Line 6614
	mov	BYTE PTR [edi], al
; Line 6615
	add	edi, 2
; Line 6616
	ror	eax, 16					; 00000010H
; Line 6617
	mov	BYTE PTR [edi], al
; Line 6618
	add	edi, 2
; Line 6619
	dec	ecx
; Line 6620
	jne	SHORT $loc_466D5C$86167
$loc_466D71$86166:
; Line 6622
	sub	edi, 800				; 00000320H
; Line 6623
	dec	edx
; Line 6624
	jne	SHORT $loc_466D15$86161
$L86157:
; Line 7375
	pop	edi
	pop	esi
	pop	ebx
	leave
	ret	0
@drawTopArchesLowerScreen@4 ENDP
_TEXT	ENDS
PUBLIC	@drawBottomArchesLowerScreen@8
; Function compile flags: /Ogsy
;	COMDAT @drawBottomArchesLowerScreen@8
_TEXT	SEGMENT
_dst$ = -8
_src$ = -4
_tbl$ = -12
@drawBottomArchesLowerScreen@8 PROC NEAR		; COMDAT
; _pbDst$ = ecx
; _pMask$ = edx
; Line 7378
	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
; Line 7387
	mov	eax, DWORD PTR _light_table_index
	push	ebx
	push	esi
	push	edi
	test	al, al
	mov	DWORD PTR _gpCelFrame, OFFSET FLAT:_speed_cel_frame_num_from_light_index_frame_num
	mov	DWORD PTR _dst$[ebp], ecx
	mov	DWORD PTR _gpDrawMask, edx
	je	$L86257
; Line 7389
	movsx	ecx, BYTE PTR _lightmax
	movzx	edx, al
	cmp	edx, ecx
	jne	$L86259
; Line 7391
	mov	eax, DWORD PTR _level_cel_block
	mov	ecx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L86260
; Line 7393
	mov	edx, eax
	and	eax, 61440				; 0000f000H
	and	edx, ecx
	shl	edx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx]
	mov	DWORD PTR _level_cel_block, eax
$L86260:
; Line 7394
	mov	edx, eax
	and	edx, ecx
	mov	ecx, DWORD PTR _pDungeonCels
; Line 7395
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+edx*4]
	and	eax, 7
	add	edx, ecx
	mov	DWORD PTR _src$[ebp], edx
; Line 7397
	xor	edx, edx
; Line 7398
	xor	ecx, ecx
; Line 7399
	mov	edi, DWORD PTR _dst$[ebp]
; Line 7400
	mov	esi, DWORD PTR _src$[ebp]
; Line 7403
	movsx	eax, ax
	sub	eax, 0
	je	$L86269
	dec	eax
	je	$L86275
	dec	eax
	je	$L86285
	dec	eax
	je	$L86295
	dec	eax
	je	$L86305
; Line 7709
	mov	edx, 30					; 0000001eH
; Line 7710
	xor	eax, eax
$loc_4687D2$86317:
; Line 7712
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7713
	jb	SHORT $loc_4687E6$86318
; Line 7714
	add	esi, 32					; 00000020H
; Line 7715
	sub	esi, edx
; Line 7716
	add	edi, 32					; 00000020H
; Line 7717
	sub	edi, edx
; Line 7718
	jmp	SHORT $loc_468804$86319
$loc_4687E6$86318:
; Line 7721
	mov	ecx, 32					; 00000020H
; Line 7722
	sub	ecx, edx
; Line 7723
	shr	ecx, 2
; Line 7724
	jae	SHORT $loc_4687FC$86320
; Line 7725
	mov	WORD PTR [edi], ax
; Line 7726
	add	edi, 2
; Line 7727
	test	ecx, ecx
; Line 7728
	je	SHORT $loc_468804$86319
$loc_4687FC$86320:
; Line 7730
	mov	DWORD PTR [edi], eax
; Line 7731
	add	edi, 4
; Line 7732
	dec	ecx
; Line 7733
	jne	SHORT $loc_4687FC$86320
$loc_468804$86319:
; Line 7735
	sub	edi, 800				; 00000320H
; Line 7736
	test	edx, edx
; Line 7737
	je	SHORT $loc_468815$86321
; Line 7738
	add	edi, edx
; Line 7739
	sub	edx, 2
; Line 7740
	jmp	SHORT $loc_4687D2$86317
$loc_468815$86321:
; Line 7743
	mov	eax, DWORD PTR _gpDrawMask
; Line 7744
	sub	eax, 64					; 00000040H
; Line 7745
	mov	DWORD PTR _gpDrawMask, eax
; Line 7746
	mov	edx, 16					; 00000010H
$loc_468827$86322:
; Line 7748
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7749
	jb	SHORT $loc_468837$86323
; Line 7750
	add	esi, 32					; 00000020H
; Line 7751
	add	edi, 32					; 00000020H
; Line 7752
	jmp	SHORT $loc_468851$86324
$loc_468837$86323:
; Line 7755
	push	edx
; Line 7756
	mov	eax, DWORD PTR _gpDrawMask
; Line 7757
	mov	edx, DWORD PTR [eax]
; Line 7758
	xor	eax, eax
; Line 7759
	mov	ecx, 32					; 00000020H
$loc_468846$86325:
; Line 7761
	shl	edx, 1
; Line 7762
	jae	SHORT $loc_46884C$86326
; Line 7763
	mov	BYTE PTR [edi], al
$loc_46884C$86326:
; Line 7765
	inc	edi
; Line 7766
	dec	ecx
; Line 7767
	jne	SHORT $loc_468846$86325
; Line 7768
	pop	edx
$loc_468851$86324:
; Line 7770
	sub	edi, 800				; 00000320H
; Line 7771
	mov	eax, DWORD PTR _gpDrawMask
; Line 7772
	sub	eax, 4
; Line 7773
	mov	DWORD PTR _gpDrawMask, eax
; Line 7774
	dec	edx
; Line 7775
	jne	SHORT $loc_468827$86322
; Line 7777
	jmp	$L86409
$L86305:
; Line 7639
	mov	edx, 30					; 0000001eH
; Line 7640
	xor	eax, eax
$loc_468733$86306:
; Line 7642
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7643
	jb	SHORT $loc_468745$86307
; Line 7644
	add	esi, 32					; 00000020H
; Line 7645
	sub	esi, edx
; Line 7646
	add	edi, 32					; 00000020H
; Line 7647
	jmp	SHORT $loc_468765$86308
$loc_468745$86307:
; Line 7650
	add	edi, edx
; Line 7651
	mov	ecx, 32					; 00000020H
; Line 7652
	sub	ecx, edx
; Line 7653
	shr	ecx, 2
; Line 7654
	jae	SHORT $loc_46875D$86309
; Line 7655
	mov	WORD PTR [edi], ax
; Line 7656
	add	edi, 2
; Line 7657
	test	ecx, ecx
; Line 7658
	je	SHORT $loc_468765$86308
$loc_46875D$86309:
; Line 7660
	mov	DWORD PTR [edi], eax
; Line 7661
	add	edi, 4
; Line 7662
	dec	ecx
; Line 7663
	jne	SHORT $loc_46875D$86309
$loc_468765$86308:
; Line 7665
	sub	edi, 800				; 00000320H
; Line 7666
	test	edx, edx
; Line 7667
	je	SHORT $loc_468774$86310
; Line 7668
	sub	edx, 2
; Line 7669
	jmp	SHORT $loc_468733$86306
$loc_468774$86310:
; Line 7672
	mov	eax, DWORD PTR _gpDrawMask
; Line 7673
	sub	eax, 64					; 00000040H
; Line 7674
	mov	DWORD PTR _gpDrawMask, eax
; Line 7675
	mov	edx, 16					; 00000010H
$loc_468786$86311:
; Line 7677
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7678
	jb	SHORT $loc_468796$86312
; Line 7679
	add	esi, 32					; 00000020H
; Line 7680
	add	edi, 32					; 00000020H
; Line 7681
	jmp	SHORT $loc_4687B0$86313
$loc_468796$86312:
; Line 7684
	push	edx
; Line 7685
	mov	eax, DWORD PTR _gpDrawMask
; Line 7686
	mov	edx, DWORD PTR [eax]
; Line 7687
	xor	eax, eax
; Line 7688
	mov	ecx, 32					; 00000020H
$loc_4687A5$86314:
; Line 7690
	shl	edx, 1
; Line 7691
	jae	SHORT $loc_4687AB$86315
; Line 7692
	mov	BYTE PTR [edi], al
$loc_4687AB$86315:
; Line 7694
	inc	edi
; Line 7695
	dec	ecx
; Line 7696
	jne	SHORT $loc_4687A5$86314
; Line 7697
	pop	edx
$loc_4687B0$86313:
; Line 7699
	sub	edi, 800				; 00000320H
; Line 7700
	mov	eax, DWORD PTR _gpDrawMask
; Line 7701
	sub	eax, 4
; Line 7702
	mov	DWORD PTR _gpDrawMask, eax
; Line 7703
	dec	edx
; Line 7704
	jne	SHORT $loc_468786$86311
; Line 7706
	jmp	$L86409
$L86295:
; Line 7571
	mov	edx, 30					; 0000001eH
; Line 7572
	xor	eax, eax
$loc_46869D$86296:
; Line 7574
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7575
	jb	SHORT $loc_4686B1$86297
; Line 7576
	add	esi, 32					; 00000020H
; Line 7577
	sub	esi, edx
; Line 7578
	add	edi, 32					; 00000020H
; Line 7579
	sub	edi, edx
; Line 7580
	jmp	SHORT $loc_4686CF$86298
$loc_4686B1$86297:
; Line 7583
	mov	ecx, 32					; 00000020H
; Line 7584
	sub	ecx, edx
; Line 7585
	shr	ecx, 2
; Line 7586
	jae	SHORT $loc_4686C7$86299
; Line 7587
	mov	WORD PTR [edi], ax
; Line 7588
	add	edi, 2
; Line 7589
	test	ecx, ecx
; Line 7590
	je	SHORT $loc_4686CF$86298
$loc_4686C7$86299:
; Line 7592
	mov	DWORD PTR [edi], eax
; Line 7593
	add	edi, 4
; Line 7594
	dec	ecx
; Line 7595
	jne	SHORT $loc_4686C7$86299
$loc_4686CF$86298:
; Line 7597
	sub	edi, 800				; 00000320H
; Line 7598
	test	edx, edx
; Line 7599
	je	SHORT $loc_4686E0$86300
; Line 7600
	add	edi, edx
; Line 7601
	sub	edx, 2
; Line 7602
	jmp	SHORT $loc_46869D$86296
$loc_4686E0$86300:
; Line 7605
	mov	edx, 2
$loc_4686E5$86301:
; Line 7607
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7608
	jb	SHORT $loc_4686F9$86302
; Line 7609
	add	esi, 32					; 00000020H
; Line 7610
	sub	esi, edx
; Line 7611
	add	edi, 32					; 00000020H
; Line 7612
	sub	edi, edx
; Line 7613
	jmp	SHORT $loc_468717$86303
$loc_4686F9$86302:
; Line 7616
	mov	ecx, 32					; 00000020H
; Line 7617
	sub	ecx, edx
; Line 7618
	shr	ecx, 2
; Line 7619
	jae	SHORT $loc_46870F$86304
; Line 7620
	mov	WORD PTR [edi], ax
; Line 7621
	add	edi, 2
; Line 7622
	test	ecx, ecx
; Line 7623
	je	SHORT $loc_468717$86303
$loc_46870F$86304:
; Line 7625
	mov	DWORD PTR [edi], eax
; Line 7626
	add	edi, 4
; Line 7627
	dec	ecx
; Line 7628
	jne	SHORT $loc_46870F$86304
$loc_468717$86303:
; Line 7630
	sub	edi, 800				; 00000320H
; Line 7631
	add	edi, edx
; Line 7632
	add	edx, 2
; Line 7633
	cmp	edx, 32					; 00000020H
; Line 7634
	jne	SHORT $loc_4686E5$86301
; Line 7636
	jmp	$L86409
$L86285:
; Line 7505
	mov	edx, 30					; 0000001eH
; Line 7506
	xor	eax, eax
$loc_46860B$86286:
; Line 7508
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7509
	jb	SHORT $loc_46861D$86287
; Line 7510
	add	esi, 32					; 00000020H
; Line 7511
	sub	esi, edx
; Line 7512
	add	edi, 32					; 00000020H
; Line 7513
	jmp	SHORT $loc_46863D$86288
$loc_46861D$86287:
; Line 7516
	add	edi, edx
; Line 7517
	mov	ecx, 32					; 00000020H
; Line 7518
	sub	ecx, edx
; Line 7519
	shr	ecx, 2
; Line 7520
	jae	SHORT $loc_468635$86289
; Line 7521
	mov	WORD PTR [edi], ax
; Line 7522
	add	edi, 2
; Line 7523
	test	ecx, ecx
; Line 7524
	je	SHORT $loc_46863D$86288
$loc_468635$86289:
; Line 7526
	mov	DWORD PTR [edi], eax
; Line 7527
	add	edi, 4
; Line 7528
	dec	ecx
; Line 7529
	jne	SHORT $loc_468635$86289
$loc_46863D$86288:
; Line 7531
	sub	edi, 800				; 00000320H
; Line 7532
	test	edx, edx
; Line 7533
	je	SHORT $loc_46864C$86290
; Line 7534
	sub	edx, 2
; Line 7535
	jmp	SHORT $loc_46860B$86286
$loc_46864C$86290:
; Line 7538
	mov	edx, 2
$loc_468651$86291:
; Line 7540
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7541
	jb	SHORT $loc_468663$86292
; Line 7542
	add	esi, 32					; 00000020H
; Line 7543
	sub	esi, edx
; Line 7544
	add	edi, 32					; 00000020H
; Line 7545
	jmp	SHORT $loc_468683$86293
$loc_468663$86292:
; Line 7548
	add	edi, edx
; Line 7549
	mov	ecx, 32					; 00000020H
; Line 7550
	sub	ecx, edx
; Line 7551
	shr	ecx, 2
; Line 7552
	jae	SHORT $loc_46867B$86294
; Line 7553
	mov	WORD PTR [edi], ax
; Line 7554
	add	edi, 2
; Line 7555
	test	ecx, ecx
; Line 7556
	je	SHORT $loc_468683$86293
$loc_46867B$86294:
; Line 7558
	mov	DWORD PTR [edi], eax
; Line 7559
	add	edi, 4
; Line 7560
	dec	ecx
; Line 7561
	jne	SHORT $loc_46867B$86294
$loc_468683$86293:
; Line 7563
	sub	edi, 800				; 00000320H
; Line 7564
	add	edx, 2
; Line 7565
	cmp	edx, 32					; 00000020H
; Line 7566
	jne	SHORT $loc_468651$86291
; Line 7568
	jmp	$L86409
$L86275:
; Line 7440
	mov	ecx, 32					; 00000020H
$loc_468578$86276:
; Line 7442
	push	ecx
; Line 7443
	mov	eax, DWORD PTR _gpDrawMask
; Line 7444
	mov	eax, DWORD PTR [eax]
; Line 7445
	mov	DWORD PTR _gdwCurrentMask, eax
; Line 7446
	mov	edx, 32					; 00000020H
$loc_46858A$86277:
; Line 7448
	xor	eax, eax
; Line 7449
	mov	al, BYTE PTR [esi]
; Line 7450
	inc	esi
; Line 7451
	test	al, al
; Line 7452
	js	SHORT $loc_4685C7$86278
; Line 7453
	sub	edx, eax
; Line 7454
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7455
	jb	SHORT $loc_4685A3$86279
; Line 7456
	add	esi, eax
; Line 7457
	add	edi, eax
; Line 7458
	jmp	SHORT $loc_4685C1$86280
$loc_4685A3$86279:
; Line 7461
	mov	ecx, eax
; Line 7462
	add	esi, ecx
; Line 7463
	push	edx
; Line 7464
	mov	edx, DWORD PTR _gdwCurrentMask
; Line 7465
	xor	eax, eax
$loc_4685B0$86281:
; Line 7467
	shl	edx, 1
; Line 7468
	jae	SHORT $loc_4685B6$86282
; Line 7469
	mov	BYTE PTR [edi], al
$loc_4685B6$86282:
; Line 7471
	inc	edi
; Line 7472
	dec	ecx
; Line 7473
	jne	SHORT $loc_4685B0$86281
; Line 7474
	mov	DWORD PTR _gdwCurrentMask, edx
; Line 7475
	pop	edx
$loc_4685C1$86280:
; Line 7477
	test	edx, edx
; Line 7478
	je	SHORT $loc_4685E4$86283
; Line 7479
	jmp	SHORT $loc_46858A$86277
$loc_4685C7$86278:
; Line 7482
	neg	al
; Line 7483
	add	edi, eax
; Line 7484
	mov	ecx, eax
; Line 7485
	and	ecx, 31					; 0000001fH
; Line 7486
	je	SHORT $loc_4685E0$86284
; Line 7487
	mov	ebx, DWORD PTR _gdwCurrentMask
; Line 7488
	shl	ebx, cl
; Line 7489
	mov	DWORD PTR _gdwCurrentMask, ebx
$loc_4685E0$86284:
; Line 7491
	sub	edx, eax
; Line 7492
	jne	SHORT $loc_46858A$86277
$loc_4685E4$86283:
; Line 7494
	pop	ecx
; Line 7495
	sub	edi, 800				; 00000320H
; Line 7496
	mov	eax, DWORD PTR _gpDrawMask
; Line 7497
	sub	eax, 4
; Line 7498
	mov	DWORD PTR _gpDrawMask, eax
; Line 7499
	dec	ecx
; Line 7500
	jne	$loc_468578$86276
; Line 7502
	jmp	$L86409
$L86269:
; Line 7406
	mov	edx, 32					; 00000020H
$loc_46852E$86270:
; Line 7408
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7409
	jb	SHORT $loc_46853E$86271
; Line 7410
	add	esi, 32					; 00000020H
; Line 7411
	add	edi, 32					; 00000020H
; Line 7412
	jmp	SHORT $loc_468558$86272
$loc_46853E$86271:
; Line 7415
	push	edx
; Line 7416
	mov	eax, DWORD PTR _gpDrawMask
; Line 7417
	mov	edx, DWORD PTR [eax]
; Line 7418
	xor	eax, eax
; Line 7419
	mov	ecx, 32					; 00000020H
$loc_46854D$86273:
; Line 7421
	shl	edx, 1
; Line 7422
	jae	SHORT $loc_468553$86274
; Line 7423
	mov	BYTE PTR [edi], al
$loc_468553$86274:
; Line 7425
	inc	edi
; Line 7426
	dec	ecx
; Line 7427
	jne	SHORT $loc_46854D$86273
; Line 7428
	pop	edx
$loc_468558$86272:
; Line 7430
	sub	edi, 800				; 00000320H
; Line 7431
	mov	eax, DWORD PTR _gpDrawMask
; Line 7432
	sub	eax, 4
; Line 7433
	mov	DWORD PTR _gpDrawMask, eax
; Line 7434
	dec	edx
; Line 7435
	jne	SHORT $loc_46852E$86270
; Line 7779
	jmp	$L86409
$L86259:
; Line 7781
	mov	ecx, DWORD PTR _level_cel_block
	test	ch, ch
	js	$L86327
; Line 7783
	mov	edx, DWORD PTR _pDungeonCels
	mov	esi, ecx
	and	esi, 4095				; 00000fffH
; Line 7784
	shl	eax, 8
	mov	esi, DWORD PTR [edx+esi*4]
	add	eax, DWORD PTR _pLightTbl
	add	esi, edx
; Line 7785
	shr	ecx, 12					; 0000000cH
	mov	DWORD PTR _tbl$[ebp], eax
	mov	DWORD PTR _src$[ebp], esi
	mov	eax, ecx
; Line 7787
	xor	edx, edx
; Line 7788
	xor	ecx, ecx
; Line 7789
	mov	ebx, DWORD PTR _tbl$[ebp]
; Line 7790
	mov	edi, DWORD PTR _dst$[ebp]
; Line 7791
	mov	esi, DWORD PTR _src$[ebp]
; Line 7794
	movsx	eax, ax
	sub	eax, 0
	je	$L86336
	dec	eax
	je	$L86342
	dec	eax
	je	$L86352
	dec	eax
	je	$L86363
	dec	eax
	je	$L86376
; Line 8251
	push	ebp
; Line 8252
	mov	edx, 30					; 0000001eH
; Line 8253
	mov	eax, edi
; Line 8254
	sub	eax, DWORD PTR _gpBufEnd
; Line 8255
	jb	SHORT $loc_467FD2$86388
; Line 8256
	add	eax, 1023				; 000003ffH
; Line 8257
	shr	eax, 8
; Line 8258
	cmp	eax, 45					; 0000002dH
; Line 8259
	jg	SHORT $loc_467FC4$86389
; Line 8260
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8261
	mov	eax, ecx
; Line 8262
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 8263
	shl	eax, 6
; Line 8264
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8265
	shr	ecx, 1
; Line 8266
	sub	edi, eax
; Line 8267
	sub	edx, ecx
; Line 8268
	jmp	SHORT $loc_467FD2$86388
$loc_467FC4$86389:
; Line 8271
	sub	edi, 12288				; 00003000H
; Line 8272
	add	esi, 288				; 00000120H
; Line 8273
	jmp	SHORT $loc_468025$86390
$loc_467FD2$86388:
; Line 8276
	mov	ecx, 32					; 00000020H
; Line 8277
	sub	ecx, edx
; Line 8278
	mov	ebp, ecx
; Line 8279
	shr	ecx, 2
; Line 8280
	je	SHORT $loc_467FFD$86391
$loc_467FE0$86392:
; Line 8282
	mov	eax, DWORD PTR [esi]
; Line 8283
	add	esi, 4
; Line 8284
	xlat
; Line 8285
	ror	eax, 8
; Line 8286
	xlat
; Line 8287
	ror	eax, 8
; Line 8288
	xlat
; Line 8289
	ror	eax, 8
; Line 8290
	xlat
; Line 8291
	ror	eax, 8
; Line 8292
	mov	DWORD PTR [edi], eax
; Line 8293
	add	edi, 4
; Line 8294
	dec	ecx
; Line 8295
	jne	SHORT $loc_467FE0$86392
$loc_467FFD$86391:
; Line 8297
	and	ebp, 2
; Line 8298
	je	SHORT $loc_468018$86393
; Line 8299
	mov	ax, WORD PTR [esi]
; Line 8300
	add	esi, 4
; Line 8301
	xlat
; Line 8302
	ror	ax, 8
; Line 8303
	xlat
; Line 8304
	ror	ax, 8
; Line 8305
	mov	WORD PTR [edi], ax
; Line 8306
	add	edi, 2
$loc_468018$86393:
; Line 8308
	sub	edi, 800				; 00000320H
; Line 8309
	add	edi, edx
; Line 8310
	sub	edx, 2
; Line 8311
	jge	SHORT $loc_467FD2$86388
$loc_468025$86390:
; Line 8313
	mov	eax, DWORD PTR _gpDrawMask
; Line 8314
	sub	eax, 64					; 00000040H
; Line 8315
	mov	DWORD PTR _gpDrawMask, eax
; Line 8316
	mov	edx, 16					; 00000010H
$loc_468037$86394:
; Line 8318
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8319
	jb	SHORT $loc_468047$86395
; Line 8320
	add	esi, 32					; 00000020H
; Line 8321
	add	edi, 32					; 00000020H
; Line 8322
	jmp	SHORT $loc_46806A$86396
$loc_468047$86395:
; Line 8325
	push	edx
; Line 8326
	mov	eax, DWORD PTR _gpDrawMask
; Line 8327
	mov	edx, DWORD PTR [eax]
; Line 8328
	mov	ecx, 32					; 00000020H
$loc_468054$86397:
; Line 8330
	mov	al, BYTE PTR [esi]
; Line 8331
	inc	esi
; Line 8332
	shl	edx, 1
; Line 8333
	jae	SHORT $loc_46805E$86398
; Line 8334
	xlat
; Line 8335
	mov	BYTE PTR [edi], al
$loc_46805E$86398:
; Line 8337
	inc	edi
; Line 8338
	dec	ecx
; Line 8339
	jne	SHORT $loc_468054$86397
; Line 8340
	mov	ebp, esi
; Line 8341
	and	ebp, 2
; Line 8342
	add	esi, ebp
; Line 8343
	pop	edx
$loc_46806A$86396:
; Line 8345
	sub	edi, 800				; 00000320H
; Line 8346
	mov	eax, DWORD PTR _gpDrawMask
; Line 8347
	sub	eax, 4
; Line 8348
	mov	DWORD PTR _gpDrawMask, eax
; Line 8349
	dec	edx
; Line 8350
	jne	SHORT $loc_468037$86394
; Line 8351
	pop	ebp
; Line 8353
	jmp	$L86409
$L86376:
; Line 8153
	mov	edx, 30					; 0000001eH
; Line 8154
	mov	eax, edi
; Line 8155
	sub	eax, DWORD PTR _gpBufEnd
; Line 8156
	jb	SHORT $loc_467EE0$86377
; Line 8157
	add	eax, 1023				; 000003ffH
; Line 8158
	shr	eax, 8
; Line 8159
	cmp	eax, 45					; 0000002dH
; Line 8160
	jg	SHORT $loc_467ED2$86378
; Line 8161
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8162
	mov	eax, ecx
; Line 8163
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 8164
	shl	eax, 6
; Line 8165
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8166
	shr	ecx, 1
; Line 8167
	sub	edi, eax
; Line 8168
	sub	edx, ecx
; Line 8169
	jmp	SHORT $loc_467EE0$86377
$loc_467ED2$86378:
; Line 8172
	sub	edi, 12288				; 00003000H
; Line 8173
	add	esi, 288				; 00000120H
; Line 8174
	jmp	SHORT $loc_467F31$86379
$loc_467EE0$86377:
; Line 8177
	add	edi, edx
; Line 8178
	mov	ecx, 32					; 00000020H
; Line 8179
	sub	ecx, edx
; Line 8180
	shr	ecx, 2
; Line 8181
	jae	SHORT $loc_467F09$86380
; Line 8182
	mov	ax, WORD PTR [esi+2]
; Line 8183
	add	esi, 4
; Line 8184
	xlat
; Line 8185
	ror	ax, 8
; Line 8186
	xlat
; Line 8187
	ror	ax, 8
; Line 8188
	mov	WORD PTR [edi], ax
; Line 8189
	add	edi, 2
; Line 8190
	test	ecx, ecx
; Line 8191
	je	SHORT $loc_467F26$86381
$loc_467F09$86380:
; Line 8193
	mov	eax, DWORD PTR [esi]
; Line 8194
	add	esi, 4
; Line 8195
	xlat
; Line 8196
	ror	eax, 8
; Line 8197
	xlat
; Line 8198
	ror	eax, 8
; Line 8199
	xlat
; Line 8200
	ror	eax, 8
; Line 8201
	xlat
; Line 8202
	ror	eax, 8
; Line 8203
	mov	DWORD PTR [edi], eax
; Line 8204
	add	edi, 4
; Line 8205
	dec	ecx
; Line 8206
	jne	SHORT $loc_467F09$86380
$loc_467F26$86381:
; Line 8208
	sub	edi, 800				; 00000320H
; Line 8209
	sub	edx, 2
; Line 8210
	jge	SHORT $loc_467EE0$86377
$loc_467F31$86379:
; Line 8212
	mov	eax, DWORD PTR _gpDrawMask
; Line 8213
	sub	eax, 64					; 00000040H
; Line 8214
	mov	DWORD PTR _gpDrawMask, eax
; Line 8215
	mov	edx, 16					; 00000010H
$loc_467F43$86382:
; Line 8217
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8218
	jb	SHORT $loc_467F53$86383
; Line 8219
	add	esi, 32					; 00000020H
; Line 8220
	add	edi, 32					; 00000020H
; Line 8221
	jmp	SHORT $loc_467F6F$86384
$loc_467F53$86383:
; Line 8224
	push	edx
; Line 8225
	mov	eax, DWORD PTR _gpDrawMask
; Line 8226
	mov	edx, DWORD PTR [eax]
; Line 8227
	mov	ecx, 32					; 00000020H
$loc_467F60$86385:
; Line 8229
	mov	al, BYTE PTR [esi]
; Line 8230
	inc	esi
; Line 8231
	shl	edx, 1
; Line 8232
	jae	SHORT $loc_467F6A$86386
; Line 8233
	xlat
; Line 8234
	mov	BYTE PTR [edi], al
$loc_467F6A$86386:
; Line 8236
	inc	edi
; Line 8237
	dec	ecx
; Line 8238
	jne	SHORT $loc_467F60$86385
; Line 8239
	pop	edx
$loc_467F6F$86384:
; Line 8241
	sub	edi, 800				; 00000320H
; Line 8242
	mov	eax, DWORD PTR _gpDrawMask
; Line 8243
	sub	eax, 4
; Line 8244
	mov	DWORD PTR _gpDrawMask, eax
; Line 8245
	dec	edx
; Line 8246
	jne	SHORT $loc_467F43$86382
; Line 8248
	jmp	$L86409
$L86363:
; Line 8024
	push	ebp
; Line 8025
	mov	edx, 30					; 0000001eH
; Line 8026
	mov	eax, edi
; Line 8027
	sub	eax, DWORD PTR _gpBufEnd
; Line 8028
	jb	SHORT $loc_467DA3$86364
; Line 8029
	add	eax, 1023				; 000003ffH
; Line 8030
	shr	eax, 8
; Line 8031
	cmp	eax, 45					; 0000002dH
; Line 8032
	jg	SHORT $loc_467D95$86365
; Line 8033
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8034
	mov	eax, ecx
; Line 8035
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 8036
	shl	eax, 6
; Line 8037
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8038
	shr	ecx, 1
; Line 8039
	sub	edi, eax
; Line 8040
	sub	edx, ecx
; Line 8041
	jmp	SHORT $loc_467DA3$86364
$loc_467D95$86365:
; Line 8044
	sub	edi, 12288				; 00003000H
; Line 8045
	add	esi, 288				; 00000120H
; Line 8046
	jmp	SHORT $loc_467DF6$86366
$loc_467DA3$86364:
; Line 8049
	mov	ecx, 32					; 00000020H
; Line 8050
	sub	ecx, edx
; Line 8051
	mov	ebp, ecx
; Line 8052
	shr	ecx, 2
; Line 8053
	je	SHORT $loc_467DCE$86367
$loc_467DB1$86368:
; Line 8055
	mov	eax, DWORD PTR [esi]
; Line 8056
	add	esi, 4
; Line 8057
	xlat
; Line 8058
	ror	eax, 8
; Line 8059
	xlat
; Line 8060
	ror	eax, 8
; Line 8061
	xlat
; Line 8062
	ror	eax, 8
; Line 8063
	xlat
; Line 8064
	ror	eax, 8
; Line 8065
	mov	DWORD PTR [edi], eax
; Line 8066
	add	edi, 4
; Line 8067
	dec	ecx
; Line 8068
	jne	SHORT $loc_467DB1$86368
$loc_467DCE$86367:
; Line 8070
	and	ebp, 2
; Line 8071
	je	SHORT $loc_467DE9$86369
; Line 8072
	mov	ax, WORD PTR [esi]
; Line 8073
	add	esi, 4
; Line 8074
	xlat
; Line 8075
	ror	ax, 8
; Line 8076
	xlat
; Line 8077
	ror	ax, 8
; Line 8078
	mov	WORD PTR [edi], ax
; Line 8079
	add	edi, 2
$loc_467DE9$86369:
; Line 8081
	sub	edi, 800				; 00000320H
; Line 8082
	add	edi, edx
; Line 8083
	sub	edx, 2
; Line 8084
	jge	SHORT $loc_467DA3$86364
$loc_467DF6$86366:
; Line 8086
	mov	edx, 2
; Line 8087
	mov	eax, edi
; Line 8088
	sub	eax, DWORD PTR _gpBufEnd
; Line 8089
	jb	SHORT $loc_467E3D$86370
; Line 8090
	add	eax, 1023				; 000003ffH
; Line 8091
	shr	eax, 8
; Line 8092
	cmp	eax, 42					; 0000002aH
; Line 8093
	jg	SHORT $loc_467E2F$86371
; Line 8094
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8095
	mov	eax, ecx
; Line 8096
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 8097
	shl	eax, 6
; Line 8098
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8099
	shr	ecx, 1
; Line 8100
	sub	edi, eax
; Line 8101
	add	edx, ecx
; Line 8102
	jmp	SHORT $loc_467E3D$86370
$loc_467E2F$86371:
; Line 8105
	sub	edi, 11520				; 00002d00H
; Line 8106
	add	esi, 256				; 00000100H
; Line 8107
	jmp	SHORT $loc_467E93$86372
$loc_467E3D$86370:
; Line 8110
	mov	ecx, 32					; 00000020H
; Line 8111
	sub	ecx, edx
; Line 8112
	mov	ebp, ecx
; Line 8113
	shr	ecx, 2
; Line 8114
	je	SHORT $loc_467E68$86373
$loc_467E4B$86374:
; Line 8116
	mov	eax, DWORD PTR [esi]
; Line 8117
	add	esi, 4
; Line 8118
	xlat
; Line 8119
	ror	eax, 8
; Line 8120
	xlat
; Line 8121
	ror	eax, 8
; Line 8122
	xlat
; Line 8123
	ror	eax, 8
; Line 8124
	xlat
; Line 8125
	ror	eax, 8
; Line 8126
	mov	DWORD PTR [edi], eax
; Line 8127
	add	edi, 4
; Line 8128
	dec	ecx
; Line 8129
	jne	SHORT $loc_467E4B$86374
$loc_467E68$86373:
; Line 8131
	and	ebp, 2
; Line 8132
	je	SHORT $loc_467E83$86375
; Line 8133
	mov	ax, WORD PTR [esi]
; Line 8134
	add	esi, 2
; Line 8135
	xlat
; Line 8136
	ror	ax, 8
; Line 8137
	xlat
; Line 8138
	ror	ax, 8
; Line 8139
	mov	WORD PTR [edi], ax
; Line 8140
	add	edi, 2
$loc_467E83$86375:
; Line 8142
	sub	edi, 800				; 00000320H
; Line 8143
	add	edi, edx
; Line 8144
	add	edx, 2
; Line 8145
	cmp	edx, 32					; 00000020H
; Line 8146
	jne	SHORT $loc_467E3D$86370
$loc_467E93$86372:
; Line 8148
	pop	ebp
; Line 8150
	jmp	$L86409
$L86352:
; Line 7901
	mov	edx, 30					; 0000001eH
; Line 7902
	mov	eax, edi
; Line 7903
	sub	eax, DWORD PTR _gpBufEnd
; Line 7904
	jb	SHORT $loc_467C67$86353
; Line 7905
	add	eax, 1023				; 000003ffH
; Line 7906
	shr	eax, 8
; Line 7907
	cmp	eax, 45					; 0000002dH
; Line 7908
	jg	SHORT $loc_467C59$86354
; Line 7909
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 7910
	mov	eax, ecx
; Line 7911
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 7912
	shl	eax, 6
; Line 7913
	lea	eax, DWORD PTR [eax+eax*2]
; Line 7914
	shr	ecx, 1
; Line 7915
	sub	edi, eax
; Line 7916
	sub	edx, ecx
; Line 7917
	jmp	SHORT $loc_467C67$86353
$loc_467C59$86354:
; Line 7920
	sub	edi, 12288				; 00003000H
; Line 7921
	add	esi, 288				; 00000120H
; Line 7922
	jmp	SHORT $loc_467CB8$86355
$loc_467C67$86353:
; Line 7925
	add	edi, edx
; Line 7926
	mov	ecx, 32					; 00000020H
; Line 7927
	sub	ecx, edx
; Line 7928
	shr	ecx, 2
; Line 7929
	jae	SHORT $loc_467C90$86356
; Line 7930
	mov	ax, WORD PTR [esi+2]
; Line 7931
	add	esi, 4
; Line 7932
	xlat
; Line 7933
	ror	ax, 8
; Line 7934
	xlat
; Line 7935
	ror	ax, 8
; Line 7936
	mov	WORD PTR [edi], ax
; Line 7937
	add	edi, 2
; Line 7938
	test	ecx, ecx
; Line 7939
	je	SHORT $loc_467CAD$86357
$loc_467C90$86356:
; Line 7941
	mov	eax, DWORD PTR [esi]
; Line 7942
	add	esi, 4
; Line 7943
	xlat
; Line 7944
	ror	eax, 8
; Line 7945
	xlat
; Line 7946
	ror	eax, 8
; Line 7947
	xlat
; Line 7948
	ror	eax, 8
; Line 7949
	xlat
; Line 7950
	ror	eax, 8
; Line 7951
	mov	DWORD PTR [edi], eax
; Line 7952
	add	edi, 4
; Line 7953
	dec	ecx
; Line 7954
	jne	SHORT $loc_467C90$86356
$loc_467CAD$86357:
; Line 7956
	sub	edi, 800				; 00000320H
; Line 7957
	sub	edx, 2
; Line 7958
	jge	SHORT $loc_467C67$86353
$loc_467CB8$86355:
; Line 7960
	mov	edx, 2
; Line 7961
	mov	eax, edi
; Line 7962
	sub	eax, DWORD PTR _gpBufEnd
; Line 7963
	jb	SHORT $loc_467D02$86358
; Line 7964
	add	eax, 1023				; 000003ffH
; Line 7965
	shr	eax, 8
; Line 7966
	cmp	eax, 42					; 0000002aH
; Line 7967
	jg	SHORT $loc_467CF1$86359
; Line 7968
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 7969
	mov	eax, ecx
; Line 7970
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 7971
	shl	eax, 6
; Line 7972
	lea	eax, DWORD PTR [eax+eax*2]
; Line 7973
	shr	ecx, 1
; Line 7974
	sub	edi, eax
; Line 7975
	add	edx, ecx
; Line 7976
	jmp	SHORT $loc_467D02$86358
$loc_467CF1$86359:
; Line 7979
	sub	edi, 11520				; 00002d00H
; Line 7980
	add	esi, 256				; 00000100H
; Line 7981
	jmp	SHORT $ret_468867_2L$86360
$loc_467D02$86358:
; Line 7984
	add	edi, edx
; Line 7985
	mov	ecx, 32					; 00000020H
; Line 7986
	sub	ecx, edx
; Line 7987
	shr	ecx, 2
; Line 7988
	jae	SHORT $loc_467D2B$86361
; Line 7989
	mov	ax, WORD PTR [esi+2]
; Line 7990
	add	esi, 4
; Line 7991
	xlat
; Line 7992
	ror	ax, 8
; Line 7993
	xlat
; Line 7994
	ror	ax, 8
; Line 7995
	mov	WORD PTR [edi], ax
; Line 7996
	add	edi, 2
; Line 7997
	test	ecx, ecx
; Line 7998
	je	SHORT $loc_467D48$86362
$loc_467D2B$86361:
; Line 8000
	mov	eax, DWORD PTR [esi]
; Line 8001
	add	esi, 4
; Line 8002
	xlat
; Line 8003
	ror	eax, 8
; Line 8004
	xlat
; Line 8005
	ror	eax, 8
; Line 8006
	xlat
; Line 8007
	ror	eax, 8
; Line 8008
	xlat
; Line 8009
	ror	eax, 8
; Line 8010
	mov	DWORD PTR [edi], eax
; Line 8011
	add	edi, 4
; Line 8012
	dec	ecx
; Line 8013
	jne	SHORT $loc_467D2B$86361
$loc_467D48$86362:
; Line 8015
	sub	edi, 800				; 00000320H
; Line 8016
	add	edx, 2
; Line 8017
	cmp	edx, 32					; 00000020H
; Line 8018
	jne	SHORT $loc_467D02$86358
$ret_468867_2L$86360:
; Line 8021
	jmp	$L86409
$L86342:
; Line 7833
	mov	ecx, 32					; 00000020H
$loc_467B94$86343:
; Line 7835
	push	ecx
; Line 7836
	mov	eax, DWORD PTR _gpDrawMask
; Line 7837
	mov	eax, DWORD PTR [eax]
; Line 7838
	mov	DWORD PTR _gdwCurrentMask, eax
; Line 7839
	mov	edx, 32					; 00000020H
$loc_467BA6$86344:
; Line 7841
	xor	eax, eax
; Line 7842
	mov	al, BYTE PTR [esi]
; Line 7843
	inc	esi
; Line 7844
	test	al, al
; Line 7845
	js	SHORT $loc_467BE3$86345
; Line 7846
	sub	edx, eax
; Line 7847
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7848
	jb	SHORT $loc_467BBF$86346
; Line 7849
	add	esi, eax
; Line 7850
	add	edi, eax
; Line 7851
	jmp	SHORT $loc_467BDD$86347
$loc_467BBF$86346:
; Line 7854
	mov	ecx, eax
; Line 7855
	push	edx
; Line 7856
	mov	edx, DWORD PTR _gdwCurrentMask
$loc_467BC8$86348:
; Line 7858
	mov	al, BYTE PTR [esi]
; Line 7859
	inc	esi
; Line 7860
	shl	edx, 1
; Line 7861
	jae	SHORT $loc_467BD2$86349
; Line 7862
	xlat
; Line 7863
	mov	BYTE PTR [edi], al
$loc_467BD2$86349:
; Line 7865
	inc	edi
; Line 7866
	dec	ecx
; Line 7867
	jne	SHORT $loc_467BC8$86348
; Line 7868
	mov	DWORD PTR _gdwCurrentMask, edx
; Line 7869
	pop	edx
$loc_467BDD$86347:
; Line 7871
	test	edx, edx
; Line 7872
	je	SHORT $loc_467C00$86350
; Line 7873
	jmp	SHORT $loc_467BA6$86344
$loc_467BE3$86345:
; Line 7876
	neg	al
; Line 7877
	add	edi, eax
; Line 7878
	mov	ecx, eax
; Line 7879
	and	ecx, 31					; 0000001fH
; Line 7880
	je	SHORT $loc_467BFC$86351
; Line 7881
	push	eax
; Line 7882
	mov	eax, DWORD PTR _gdwCurrentMask
; Line 7883
	shl	eax, cl
; Line 7884
	mov	DWORD PTR _gdwCurrentMask, eax
; Line 7885
	pop	eax
$loc_467BFC$86351:
; Line 7887
	sub	edx, eax
; Line 7888
	jne	SHORT $loc_467BA6$86344
$loc_467C00$86350:
; Line 7890
	pop	ecx
; Line 7891
	sub	edi, 800				; 00000320H
; Line 7892
	mov	eax, DWORD PTR _gpDrawMask
; Line 7893
	sub	eax, 4
; Line 7894
	mov	DWORD PTR _gpDrawMask, eax
; Line 7895
	dec	ecx
; Line 7896
	jne	$loc_467B94$86343
; Line 7898
	jmp	$L86409
$L86336:
; Line 7797
	push	ebp
; Line 7798
	mov	ebp, 32					; 00000020H
$loc_467B49$86337:
; Line 7800
	cmp	edi, DWORD PTR _gpBufEnd
; Line 7801
	jb	SHORT $loc_467B59$86338
; Line 7802
	add	esi, 32					; 00000020H
; Line 7803
	add	edi, 32					; 00000020H
; Line 7804
	jmp	SHORT $loc_467B73$86339
$loc_467B59$86338:
; Line 7807
	mov	eax, DWORD PTR _gpDrawMask
; Line 7808
	mov	edx, DWORD PTR [eax]
; Line 7809
	mov	ecx, 32					; 00000020H
$loc_467B65$86340:
; Line 7811
	mov	al, BYTE PTR [esi]
; Line 7812
	inc	esi
; Line 7813
	shl	edx, 1
; Line 7814
	jae	SHORT $loc_467B6F$86341
; Line 7815
	xlat
; Line 7816
	mov	BYTE PTR [edi], al
$loc_467B6F$86341:
; Line 7818
	inc	edi
; Line 7819
	dec	ecx
; Line 7820
	jne	SHORT $loc_467B65$86340
$loc_467B73$86339:
; Line 7822
	sub	edi, 800				; 00000320H
; Line 7823
	mov	eax, DWORD PTR _gpDrawMask
; Line 7824
	sub	eax, 4
; Line 7825
	mov	DWORD PTR _gpDrawMask, eax
; Line 7826
	dec	ebp
; Line 7827
	jne	SHORT $loc_467B49$86337
; Line 7828
	pop	ebp
; Line 8355
	jmp	$L86409
$L86327:
; Line 8358
	mov	edx, ecx
	and	edx, 4095				; 00000fffH
	shl	edx, 4
	add	edx, eax
	mov	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx*4]
	add	eax, DWORD PTR _pSpeedCels
; Line 8359
	shr	ecx, 12					; 0000000cH
	mov	DWORD PTR _src$[ebp], eax
	mov	eax, ecx
; Line 8361
	jmp	SHORT $L86402
$L86257:
; Line 8363
	mov	eax, DWORD PTR _level_cel_block
	mov	ecx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L86403
; Line 8365
	mov	edx, eax
	and	eax, 61440				; 0000f000H
	and	edx, ecx
	shl	edx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[edx]
	mov	DWORD PTR _level_cel_block, eax
$L86403:
; Line 8366
	mov	edx, eax
	and	edx, ecx
	mov	ecx, DWORD PTR _pDungeonCels
; Line 8367
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+edx*4]
	and	eax, 7
	add	edx, ecx
	add	eax, 8
	mov	DWORD PTR _src$[ebp], edx
$L86402:
; Line 8370
	xor	edx, edx
; Line 8371
	xor	ecx, ecx
; Line 8372
	mov	edi, DWORD PTR _dst$[ebp]
; Line 8373
	mov	esi, DWORD PTR _src$[ebp]
; Line 8376
	movsx	eax, ax
	sub	eax, 8
	je	$L86412
	dec	eax
	je	$L86418
	dec	eax
	je	$L86428
	dec	eax
	je	$L86439
	dec	eax
	je	$L86452
; Line 8768
	push	ebp
; Line 8769
	mov	edx, 30					; 0000001eH
; Line 8770
	mov	eax, edi
; Line 8771
	sub	eax, DWORD PTR _gpBufEnd
; Line 8772
	jb	SHORT $loc_468490$86464
; Line 8773
	add	eax, 1023				; 000003ffH
; Line 8774
	shr	eax, 8
; Line 8775
	cmp	eax, 45					; 0000002dH
; Line 8776
	jg	SHORT $loc_468482$86465
; Line 8777
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8778
	mov	eax, ecx
; Line 8779
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 8780
	shl	eax, 6
; Line 8781
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8782
	shr	ecx, 1
; Line 8783
	sub	edi, eax
; Line 8784
	sub	edx, ecx
; Line 8785
	jmp	SHORT $loc_468490$86464
$loc_468482$86465:
; Line 8788
	sub	edi, 12288				; 00003000H
; Line 8789
	add	esi, 288				; 00000120H
; Line 8790
	jmp	SHORT $loc_4684C9$86466
$loc_468490$86464:
; Line 8793
	mov	ecx, 32					; 00000020H
; Line 8794
	sub	ecx, edx
; Line 8795
	mov	ebp, ecx
; Line 8796
	shr	ecx, 2
; Line 8797
	je	SHORT $loc_4684AB$86467
$loc_46849E$86468:
; Line 8799
	mov	eax, DWORD PTR [esi]
; Line 8800
	add	esi, 4
; Line 8801
	mov	DWORD PTR [edi], eax
; Line 8802
	add	edi, 4
; Line 8803
	dec	ecx
; Line 8804
	jne	SHORT $loc_46849E$86468
$loc_4684AB$86467:
; Line 8806
	and	ebp, 2
; Line 8807
	je	SHORT $loc_4684BC$86469
; Line 8808
	mov	ax, WORD PTR [esi]
; Line 8809
	add	esi, 4
; Line 8810
	mov	WORD PTR [edi], ax
; Line 8811
	add	edi, 2
$loc_4684BC$86469:
; Line 8813
	sub	edi, 800				; 00000320H
; Line 8814
	add	edi, edx
; Line 8815
	sub	edx, 2
; Line 8816
	jge	SHORT $loc_468490$86464
$loc_4684C9$86466:
; Line 8818
	mov	eax, DWORD PTR _gpDrawMask
; Line 8819
	sub	eax, 64					; 00000040H
; Line 8820
	mov	DWORD PTR _gpDrawMask, eax
; Line 8821
	mov	edx, 16					; 00000010H
$loc_4684DB$86470:
; Line 8823
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8824
	jb	SHORT $loc_4684EB$86471
; Line 8825
	add	esi, 32					; 00000020H
; Line 8826
	add	edi, 32					; 00000020H
; Line 8827
	jmp	SHORT $loc_46850D$86472
$loc_4684EB$86471:
; Line 8830
	push	edx
; Line 8831
	mov	eax, DWORD PTR _gpDrawMask
; Line 8832
	mov	edx, DWORD PTR [eax]
; Line 8833
	mov	ecx, 32					; 00000020H
$loc_4684F8$86473:
; Line 8835
	mov	al, BYTE PTR [esi]
; Line 8836
	inc	esi
; Line 8837
	shl	edx, 1
; Line 8838
	jae	SHORT $loc_468501$86474
; Line 8839
	mov	BYTE PTR [edi], al
$loc_468501$86474:
; Line 8841
	inc	edi
; Line 8842
	dec	ecx
; Line 8843
	jne	SHORT $loc_4684F8$86473
; Line 8844
	mov	ebp, esi
; Line 8845
	and	ebp, 2
; Line 8846
	add	esi, ebp
; Line 8847
	pop	edx
$loc_46850D$86472:
; Line 8849
	sub	edi, 800				; 00000320H
; Line 8850
	mov	eax, DWORD PTR _gpDrawMask
; Line 8851
	sub	eax, 4
; Line 8852
	mov	DWORD PTR _gpDrawMask, eax
; Line 8853
	dec	edx
; Line 8854
	jne	SHORT $loc_4684DB$86470
; Line 8855
	pop	ebp
; Line 8857
	jmp	$L86409
$L86452:
; Line 8683
	mov	edx, 30					; 0000001eH
; Line 8684
	mov	eax, edi
; Line 8685
	sub	eax, DWORD PTR _gpBufEnd
; Line 8686
	jb	SHORT $loc_4683B9$86453
; Line 8687
	add	eax, 1023				; 000003ffH
; Line 8688
	shr	eax, 8
; Line 8689
	cmp	eax, 45					; 0000002dH
; Line 8690
	jg	SHORT $loc_4683AB$86454
; Line 8691
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8692
	mov	eax, ecx
; Line 8693
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 8694
	shl	eax, 6
; Line 8695
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8696
	shr	ecx, 1
; Line 8697
	sub	edi, eax
; Line 8698
	sub	edx, ecx
; Line 8699
	jmp	SHORT $loc_4683B9$86453
$loc_4683AB$86454:
; Line 8702
	sub	edi, 12288				; 00003000H
; Line 8703
	add	esi, 288				; 00000120H
; Line 8704
	jmp	SHORT $loc_4683F0$86455
$loc_4683B9$86453:
; Line 8707
	add	edi, edx
; Line 8708
	mov	ecx, 32					; 00000020H
; Line 8709
	sub	ecx, edx
; Line 8710
	shr	ecx, 2
; Line 8711
	jae	SHORT $loc_4683D8$86456
; Line 8712
	mov	ax, WORD PTR [esi+2]
; Line 8713
	add	esi, 4
; Line 8714
	mov	WORD PTR [edi], ax
; Line 8715
	add	edi, 2
; Line 8716
	test	ecx, ecx
; Line 8717
	je	SHORT $loc_4683E5$86457
$loc_4683D8$86456:
; Line 8719
	mov	eax, DWORD PTR [esi]
; Line 8720
	add	esi, 4
; Line 8721
	mov	DWORD PTR [edi], eax
; Line 8722
	add	edi, 4
; Line 8723
	dec	ecx
; Line 8724
	jne	SHORT $loc_4683D8$86456
$loc_4683E5$86457:
; Line 8726
	sub	edi, 800				; 00000320H
; Line 8727
	sub	edx, 2
; Line 8728
	jge	SHORT $loc_4683B9$86453
$loc_4683F0$86455:
; Line 8730
	mov	eax, DWORD PTR _gpDrawMask
; Line 8731
	sub	eax, 64					; 00000040H
; Line 8732
	mov	DWORD PTR _gpDrawMask, eax
; Line 8733
	mov	edx, 16					; 00000010H
$loc_468402$86458:
; Line 8735
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8736
	jb	SHORT $loc_468412$86459
; Line 8737
	add	esi, 32					; 00000020H
; Line 8738
	add	edi, 32					; 00000020H
; Line 8739
	jmp	SHORT $loc_46842D$86460
$loc_468412$86459:
; Line 8742
	push	edx
; Line 8743
	mov	eax, DWORD PTR _gpDrawMask
; Line 8744
	mov	edx, DWORD PTR [eax]
; Line 8745
	mov	ecx, 32					; 00000020H
$loc_46841F$86461:
; Line 8747
	mov	al, BYTE PTR [esi]
; Line 8748
	inc	esi
; Line 8749
	shl	edx, 1
; Line 8750
	jae	SHORT $loc_468428$86462
; Line 8751
	mov	BYTE PTR [edi], al
$loc_468428$86462:
; Line 8753
	inc	edi
; Line 8754
	dec	ecx
; Line 8755
	jne	SHORT $loc_46841F$86461
; Line 8756
	pop	edx
$loc_46842D$86460:
; Line 8758
	sub	edi, 800				; 00000320H
; Line 8759
	mov	eax, DWORD PTR _gpDrawMask
; Line 8760
	sub	eax, 4
; Line 8761
	mov	DWORD PTR _gpDrawMask, eax
; Line 8762
	dec	edx
; Line 8763
	jne	SHORT $loc_468402$86458
; Line 8765
	jmp	$L86409
$L86439:
; Line 8578
	push	ebp
; Line 8579
	mov	edx, 30					; 0000001eH
; Line 8580
	mov	eax, edi
; Line 8581
	sub	eax, DWORD PTR _gpBufEnd
; Line 8582
	jb	SHORT $loc_4682B0$86440
; Line 8583
	add	eax, 1023				; 000003ffH
; Line 8584
	shr	eax, 8
; Line 8585
	cmp	eax, 45					; 0000002dH
; Line 8586
	jg	SHORT $loc_4682A2$86441
; Line 8587
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8588
	mov	eax, ecx
; Line 8589
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 8590
	shl	eax, 6
; Line 8591
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8592
	shr	ecx, 1
; Line 8593
	sub	edi, eax
; Line 8594
	sub	edx, ecx
; Line 8595
	jmp	SHORT $loc_4682B0$86440
$loc_4682A2$86441:
; Line 8598
	sub	edi, 12288				; 00003000H
; Line 8599
	add	esi, 288				; 00000120H
; Line 8600
	jmp	SHORT $loc_4682E9$86442
$loc_4682B0$86440:
; Line 8603
	mov	ecx, 32					; 00000020H
; Line 8604
	sub	ecx, edx
; Line 8605
	mov	ebp, ecx
; Line 8606
	shr	ecx, 2
; Line 8607
	je	SHORT $loc_4682CB$86443
$loc_4682BE$86444:
; Line 8609
	mov	eax, DWORD PTR [esi]
; Line 8610
	add	esi, 4
; Line 8611
	mov	DWORD PTR [edi], eax
; Line 8612
	add	edi, 4
; Line 8613
	dec	ecx
; Line 8614
	jne	SHORT $loc_4682BE$86444
$loc_4682CB$86443:
; Line 8616
	and	ebp, 2
; Line 8617
	je	SHORT $loc_4682DC$86445
; Line 8618
	mov	ax, WORD PTR [esi]
; Line 8619
	add	esi, 4
; Line 8620
	mov	WORD PTR [edi], ax
; Line 8621
	add	edi, 2
$loc_4682DC$86445:
; Line 8623
	sub	edi, 800				; 00000320H
; Line 8624
	add	edi, edx
; Line 8625
	sub	edx, 2
; Line 8626
	jge	SHORT $loc_4682B0$86440
$loc_4682E9$86442:
; Line 8628
	mov	edx, 2
; Line 8629
	mov	eax, edi
; Line 8630
	sub	eax, DWORD PTR _gpBufEnd
; Line 8631
	jb	SHORT $loc_468330$86446
; Line 8632
	add	eax, 1023				; 000003ffH
; Line 8633
	shr	eax, 8
; Line 8634
	cmp	eax, 42					; 0000002aH
; Line 8635
	jg	SHORT $loc_468322$86447
; Line 8636
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8637
	mov	eax, ecx
; Line 8638
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 8639
	shl	eax, 6
; Line 8640
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8641
	shr	ecx, 1
; Line 8642
	sub	edi, eax
; Line 8643
	add	edx, ecx
; Line 8644
	jmp	SHORT $loc_468330$86446
$loc_468322$86447:
; Line 8647
	sub	edi, 11520				; 00002d00H
; Line 8648
	add	esi, 256				; 00000100H
; Line 8649
	jmp	SHORT $loc_46836C$86448
$loc_468330$86446:
; Line 8652
	mov	ecx, 32					; 00000020H
; Line 8653
	sub	ecx, edx
; Line 8654
	mov	ebp, ecx
; Line 8655
	shr	ecx, 2
; Line 8656
	je	SHORT $loc_46834B$86449
$loc_46833E$86450:
; Line 8658
	mov	eax, DWORD PTR [esi]
; Line 8659
	add	esi, 4
; Line 8660
	mov	DWORD PTR [edi], eax
; Line 8661
	add	edi, 4
; Line 8662
	dec	ecx
; Line 8663
	jne	SHORT $loc_46833E$86450
$loc_46834B$86449:
; Line 8665
	and	ebp, 2
; Line 8666
	je	SHORT $loc_46835C$86451
; Line 8667
	mov	ax, WORD PTR [esi]
; Line 8668
	add	esi, 4
; Line 8669
	mov	WORD PTR [edi], ax
; Line 8670
	add	edi, 2
$loc_46835C$86451:
; Line 8672
	sub	edi, 800				; 00000320H
; Line 8673
	add	edi, edx
; Line 8674
	add	edx, 2
; Line 8675
	cmp	edx, 32					; 00000020H
; Line 8676
	jne	SHORT $loc_468330$86446
$loc_46836C$86448:
; Line 8678
	pop	ebp
; Line 8680
	jmp	$L86409
$L86428:
; Line 8479
	mov	edx, 30					; 0000001eH
; Line 8480
	mov	eax, edi
; Line 8481
	sub	eax, DWORD PTR _gpBufEnd
; Line 8482
	jb	SHORT $loc_4681A8$86429
; Line 8483
	add	eax, 1023				; 000003ffH
; Line 8484
	shr	eax, 8
; Line 8485
	cmp	eax, 45					; 0000002dH
; Line 8486
	jg	SHORT $loc_46819A$86430
; Line 8487
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8488
	mov	eax, ecx
; Line 8489
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 8490
	shl	eax, 6
; Line 8491
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8492
	shr	ecx, 1
; Line 8493
	sub	edi, eax
; Line 8494
	sub	edx, ecx
; Line 8495
	jmp	SHORT $loc_4681A8$86429
$loc_46819A$86430:
; Line 8498
	sub	edi, 12288				; 00003000H
; Line 8499
	add	esi, 288				; 00000120H
; Line 8500
	jmp	SHORT $loc_4681DF$86431
$loc_4681A8$86429:
; Line 8503
	add	edi, edx
; Line 8504
	mov	ecx, 32					; 00000020H
; Line 8505
	sub	ecx, edx
; Line 8506
	shr	ecx, 2
; Line 8507
	jae	SHORT $loc_4681C7$86432
; Line 8508
	mov	ax, WORD PTR [esi+2]
; Line 8509
	add	esi, 4
; Line 8510
	mov	WORD PTR [edi], ax
; Line 8511
	add	edi, 2
; Line 8512
	test	ecx, ecx
; Line 8513
	je	SHORT $loc_4681D4$86433
$loc_4681C7$86432:
; Line 8515
	mov	eax, DWORD PTR [esi]
; Line 8516
	add	esi, 4
; Line 8517
	mov	DWORD PTR [edi], eax
; Line 8518
	add	edi, 4
; Line 8519
	dec	ecx
; Line 8520
	jne	SHORT $loc_4681C7$86432
$loc_4681D4$86433:
; Line 8522
	sub	edi, 800				; 00000320H
; Line 8523
	sub	edx, 2
; Line 8524
	jge	SHORT $loc_4681A8$86429
$loc_4681DF$86431:
; Line 8526
	mov	edx, 2
; Line 8527
	mov	eax, edi
; Line 8528
	sub	eax, DWORD PTR _gpBufEnd
; Line 8529
	jb	SHORT $loc_468229$86434
; Line 8530
	add	eax, 1023				; 000003ffH
; Line 8531
	shr	eax, 8
; Line 8532
	cmp	eax, 42					; 0000002aH
; Line 8533
	jg	SHORT $loc_468218$86435
; Line 8534
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 8535
	mov	eax, ecx
; Line 8536
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 8537
	shl	eax, 6
; Line 8538
	lea	eax, DWORD PTR [eax+eax*2]
; Line 8539
	shr	ecx, 1
; Line 8540
	sub	edi, eax
; Line 8541
	add	edx, ecx
; Line 8542
	jmp	SHORT $loc_468229$86434
$loc_468218$86435:
; Line 8545
	sub	edi, 11520				; 00002d00H
; Line 8546
	add	esi, 256				; 00000100H
; Line 8547
	jmp	SHORT $ret_468867_10S$86436
$loc_468229$86434:
; Line 8550
	add	edi, edx
; Line 8551
	mov	ecx, 32					; 00000020H
; Line 8552
	sub	ecx, edx
; Line 8553
	shr	ecx, 2
; Line 8554
	jae	SHORT $loc_468248$86437
; Line 8555
	mov	ax, WORD PTR [esi+2]
; Line 8556
	add	esi, 4
; Line 8557
	mov	WORD PTR [edi], ax
; Line 8558
	add	edi, 2
; Line 8559
	test	ecx, ecx
; Line 8560
	je	SHORT $loc_468255$86438
$loc_468248$86437:
; Line 8562
	mov	eax, DWORD PTR [esi]
; Line 8563
	add	esi, 4
; Line 8564
	mov	DWORD PTR [edi], eax
; Line 8565
	add	edi, 4
; Line 8566
	dec	ecx
; Line 8567
	jne	SHORT $loc_468248$86437
$loc_468255$86438:
; Line 8569
	sub	edi, 800				; 00000320H
; Line 8570
	add	edx, 2
; Line 8571
	cmp	edx, 32					; 00000020H
; Line 8572
	jne	SHORT $loc_468229$86434
$ret_468867_10S$86436:
; Line 8575
	jmp	$L86409
$L86418:
; Line 8414
	mov	ecx, 32					; 00000020H
$loc_4680D6$86419:
; Line 8416
	push	ecx
; Line 8417
	mov	eax, DWORD PTR _gpDrawMask
; Line 8418
	mov	eax, DWORD PTR [eax]
; Line 8419
	mov	DWORD PTR _gdwCurrentMask, eax
; Line 8420
	mov	edx, 32					; 00000020H
$loc_4680E8$86420:
; Line 8422
	xor	eax, eax
; Line 8423
	mov	al, BYTE PTR [esi]
; Line 8424
	inc	esi
; Line 8425
	test	al, al
; Line 8426
	js	SHORT $loc_468124$86421
; Line 8427
	sub	edx, eax
; Line 8428
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8429
	jb	SHORT $loc_468101$86422
; Line 8430
	add	esi, eax
; Line 8431
	add	edi, eax
; Line 8432
	jmp	SHORT $loc_46811E$86423
$loc_468101$86422:
; Line 8435
	mov	ecx, eax
; Line 8436
	push	edx
; Line 8437
	mov	edx, DWORD PTR _gdwCurrentMask
$loc_46810A$86424:
; Line 8439
	mov	al, BYTE PTR [esi]
; Line 8440
	inc	esi
; Line 8441
	shl	edx, 1
; Line 8442
	jae	SHORT $loc_468113$86425
; Line 8443
	mov	BYTE PTR [edi], al
$loc_468113$86425:
; Line 8445
	inc	edi
; Line 8446
	dec	ecx
; Line 8447
	jne	SHORT $loc_46810A$86424
; Line 8448
	mov	DWORD PTR _gdwCurrentMask, edx
; Line 8449
	pop	edx
$loc_46811E$86423:
; Line 8451
	test	edx, edx
; Line 8452
	je	SHORT $loc_468141$86426
; Line 8453
	jmp	SHORT $loc_4680E8$86420
$loc_468124$86421:
; Line 8456
	neg	al
; Line 8457
	add	edi, eax
; Line 8458
	mov	ecx, eax
; Line 8459
	and	ecx, 31					; 0000001fH
; Line 8460
	je	SHORT $loc_46813D$86427
; Line 8461
	mov	ebx, DWORD PTR _gdwCurrentMask
; Line 8462
	shl	ebx, cl
; Line 8463
	mov	DWORD PTR _gdwCurrentMask, ebx
$loc_46813D$86427:
; Line 8465
	sub	edx, eax
; Line 8466
	jne	SHORT $loc_4680E8$86420
$loc_468141$86426:
; Line 8468
	pop	ecx
; Line 8469
	sub	edi, 800				; 00000320H
; Line 8470
	mov	eax, DWORD PTR _gpDrawMask
; Line 8471
	sub	eax, 4
; Line 8472
	mov	DWORD PTR _gpDrawMask, eax
; Line 8473
	dec	ecx
; Line 8474
	jne	$loc_4680D6$86419
; Line 8476
	jmp	SHORT $L86409
$L86412:
; Line 8379
	mov	edx, 32					; 00000020H
$loc_46808B$86413:
; Line 8381
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8382
	jb	SHORT $loc_46809B$86414
; Line 8383
	add	esi, 32					; 00000020H
; Line 8384
	add	edi, 32					; 00000020H
; Line 8385
	jmp	SHORT $loc_4680B6$86415
$loc_46809B$86414:
; Line 8388
	push	edx
; Line 8389
	mov	eax, DWORD PTR _gpDrawMask
; Line 8390
	mov	edx, DWORD PTR [eax]
; Line 8391
	mov	ecx, 32					; 00000020H
$loc_4680A8$86416:
; Line 8393
	mov	al, BYTE PTR [esi]
; Line 8394
	inc	esi
; Line 8395
	shl	edx, 1
; Line 8396
	jae	SHORT $loc_4680B1$86417
; Line 8397
	mov	BYTE PTR [edi], al
$loc_4680B1$86417:
; Line 8399
	inc	edi
; Line 8400
	dec	ecx
; Line 8401
	jne	SHORT $loc_4680A8$86416
; Line 8402
	pop	edx
$loc_4680B6$86415:
; Line 8404
	sub	edi, 800				; 00000320H
; Line 8405
	mov	eax, DWORD PTR _gpDrawMask
; Line 8406
	sub	eax, 4
; Line 8407
	mov	DWORD PTR _gpDrawMask, eax
; Line 8408
	dec	edx
; Line 8409
	jne	SHORT $loc_46808B$86413
$L86409:
; Line 8859
	pop	edi
	pop	esi
	pop	ebx
	leave
	ret	0
@drawBottomArchesLowerScreen@8 ENDP
_TEXT	ENDS
PUBLIC	@drawLowerScreen@4
; Function compile flags: /Ogsy
;	COMDAT @drawLowerScreen@4
_TEXT	SEGMENT
_dst$ = -8
_src$ = -4
_tbl$ = -12
@drawLowerScreen@4 PROC NEAR				; COMDAT
; _pbDst$ = ecx
; Line 8862
	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
; Line 8868
	cmp	DWORD PTR _cel_transparency_active, 0
	push	ebx
	push	esi
	push	edi
	je	SHORT $L86488
; Line 8870
	mov	dl, BYTE PTR _arch_draw_type
	test	dl, dl
	jne	SHORT $L86483
; Line 8872
	call	@drawTopArchesLowerScreen@4
; Line 8873
	jmp	$L86632
$L86483:
; Line 8875
	cmp	dl, 1
	jne	SHORT $L86485
; Line 8877
	mov	eax, DWORD PTR _level_piece_id
	mov	al, BYTE PTR _block_lvid[eax]
	cmp	al, dl
	je	SHORT $L86486
	cmp	al, 3
	jne	SHORT $L86488
$L86486:
; Line 8879
	mov	edx, OFFSET FLAT:_LeftMask+124
$L86731:
	call	@drawBottomArchesLowerScreen@8
; Line 8880
	jmp	$L86632
$L86485:
; Line 8883
	cmp	dl, 2
	jne	SHORT $L86488
; Line 8885
	mov	eax, DWORD PTR _level_piece_id
	mov	al, BYTE PTR _block_lvid[eax]
	cmp	al, dl
	je	SHORT $L86489
	cmp	al, 3
	jne	SHORT $L86488
$L86489:
; Line 8887
	mov	edx, OFFSET FLAT:_RightMask+124
; Line 8888
	jmp	SHORT $L86731
$L86488:
; Line 8893
	mov	DWORD PTR _dst$[ebp], ecx
; Line 8894
	mov	ecx, DWORD PTR _light_table_index
	test	cl, cl
	mov	DWORD PTR _gpCelFrame, OFFSET FLAT:_speed_cel_frame_num_from_light_index_frame_num
	je	$L86492
; Line 8896
	movsx	eax, BYTE PTR _lightmax
	movzx	edx, cl
	cmp	edx, eax
	jne	$L86494
; Line 8898
	mov	ecx, DWORD PTR _level_cel_block
	mov	edx, 4095				; 00000fffH
	test	ch, ch
	jns	SHORT $L86495
; Line 8900
	mov	eax, ecx
	and	ecx, 61440				; 0000f000H
	and	eax, edx
	shl	eax, 6
	add	ecx, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[eax]
	mov	DWORD PTR _level_cel_block, ecx
$L86495:
; Line 8901
	mov	eax, ecx
	and	eax, edx
	mov	edx, DWORD PTR _pDungeonCels
; Line 8902
	shr	ecx, 12					; 0000000cH
	mov	eax, DWORD PTR [edx+eax*4]
	and	ecx, 7
	add	eax, edx
	mov	DWORD PTR _src$[ebp], eax
	mov	eax, ecx
; Line 8904
	xor	edx, edx
; Line 8905
	xor	ecx, ecx
; Line 8906
	mov	edi, DWORD PTR _dst$[ebp]
; Line 8907
	mov	esi, DWORD PTR _src$[ebp]
; Line 8910
	movsx	ecx, ax
	sub	ecx, 0
	je	$L86504
	dec	ecx
	je	$L86509
	dec	ecx
	je	$L86518
	dec	ecx
	je	$L86528
	dec	ecx
	je	SHORT $L86538
; Line 9185
	mov	edx, 30					; 0000001eH
; Line 9186
	xor	eax, eax
$loc_46964B$86549:
; Line 9188
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9189
	jb	SHORT $loc_46965F$86550
; Line 9190
	add	esi, 32					; 00000020H
; Line 9191
	sub	esi, edx
; Line 9192
	add	edi, 32					; 00000020H
; Line 9193
	sub	edi, edx
; Line 9194
	jmp	SHORT $loc_46967D$86551
$loc_46965F$86550:
; Line 9197
	mov	ecx, 32					; 00000020H
; Line 9198
	sub	ecx, edx
; Line 9199
	shr	ecx, 2
; Line 9200
	jae	SHORT $loc_469675$86552
; Line 9201
	mov	WORD PTR [edi], ax
; Line 9202
	add	edi, 2
; Line 9203
	test	ecx, ecx
; Line 9204
	je	SHORT $loc_46967D$86551
$loc_469675$86552:
; Line 9206
	mov	DWORD PTR [edi], eax
; Line 9207
	add	edi, 4
; Line 9208
	dec	ecx
; Line 9209
	jne	SHORT $loc_469675$86552
$loc_46967D$86551:
; Line 9211
	sub	edi, 800				; 00000320H
; Line 9212
	test	edx, edx
; Line 9213
	je	SHORT $loc_46968E$86553
; Line 9214
	add	edi, edx
; Line 9215
	sub	edx, 2
; Line 9216
	jmp	SHORT $loc_46964B$86549
$loc_46968E$86553:
; Line 9219
	mov	edx, 16					; 00000010H
$loc_469693$86554:
; Line 9221
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9222
	jb	SHORT $loc_4696A3$86555
; Line 9223
	add	esi, 32					; 00000020H
; Line 9224
	add	edi, 32					; 00000020H
; Line 9225
	jmp	SHORT $loc_4696B0$86556
$loc_4696A3$86555:
; Line 9228
	mov	ecx, 8
$loc_4696A8$86557:
; Line 9230
	mov	DWORD PTR [edi], eax
; Line 9231
	add	edi, 4
; Line 9232
	dec	ecx
; Line 9233
	jne	SHORT $loc_4696A8$86557
$loc_4696B0$86556:
; Line 9235
	sub	edi, 800				; 00000320H
; Line 9236
	dec	edx
; Line 9237
	jne	SHORT $loc_469693$86554
; Line 9239
	jmp	$L86632
$L86538:
; Line 9129
	mov	edx, 30					; 0000001eH
; Line 9130
	xor	eax, eax
$loc_4695D6$86539:
; Line 9132
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9133
	jb	SHORT $loc_4695E8$86540
; Line 9134
	add	esi, 32					; 00000020H
; Line 9135
	sub	esi, edx
; Line 9136
	add	edi, 32					; 00000020H
; Line 9137
	jmp	SHORT $loc_469608$86541
$loc_4695E8$86540:
; Line 9140
	add	edi, edx
; Line 9141
	mov	ecx, 32					; 00000020H
; Line 9142
	sub	ecx, edx
; Line 9143
	shr	ecx, 2
; Line 9144
	jae	SHORT $loc_469600$86542
; Line 9145
	mov	WORD PTR [edi], ax
; Line 9146
	add	edi, 2
; Line 9147
	test	ecx, ecx
; Line 9148
	je	SHORT $loc_469608$86541
$loc_469600$86542:
; Line 9150
	mov	DWORD PTR [edi], eax
; Line 9151
	add	edi, 4
; Line 9152
	dec	ecx
; Line 9153
	jne	SHORT $loc_469600$86542
$loc_469608$86541:
; Line 9155
	sub	edi, 800				; 00000320H
; Line 9156
	test	edx, edx
; Line 9157
	je	SHORT $loc_469617$86543
; Line 9158
	sub	edx, 2
; Line 9159
	jmp	SHORT $loc_4695D6$86539
$loc_469617$86543:
; Line 9162
	mov	edx, 16					; 00000010H
$loc_46961C$86544:
; Line 9164
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9165
	jb	SHORT $loc_46962C$86545
; Line 9166
	add	esi, 32					; 00000020H
; Line 9167
	add	edi, 32					; 00000020H
; Line 9168
	jmp	SHORT $loc_469639$86546
$loc_46962C$86545:
; Line 9171
	mov	ecx, 8
$loc_469631$86547:
; Line 9173
	mov	DWORD PTR [edi], eax
; Line 9174
	add	edi, 4
; Line 9175
	dec	ecx
; Line 9176
	jne	SHORT $loc_469631$86547
$loc_469639$86546:
; Line 9178
	sub	edi, 800				; 00000320H
; Line 9179
	dec	edx
; Line 9180
	jne	SHORT $loc_46961C$86544
; Line 9182
	jmp	$L86632
$L86528:
; Line 9061
	mov	edx, 30					; 0000001eH
; Line 9062
	xor	eax, eax
$loc_469540$86529:
; Line 9064
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9065
	jb	SHORT $loc_469554$86530
; Line 9066
	add	esi, 32					; 00000020H
; Line 9067
	sub	esi, edx
; Line 9068
	add	edi, 32					; 00000020H
; Line 9069
	sub	edi, edx
; Line 9070
	jmp	SHORT $loc_469572$86531
$loc_469554$86530:
; Line 9073
	mov	ecx, 32					; 00000020H
; Line 9074
	sub	ecx, edx
; Line 9075
	shr	ecx, 2
; Line 9076
	jae	SHORT $loc_46956A$86532
; Line 9077
	mov	WORD PTR [edi], ax
; Line 9078
	add	edi, 2
; Line 9079
	test	ecx, ecx
; Line 9080
	je	SHORT $loc_469572$86531
$loc_46956A$86532:
; Line 9082
	mov	DWORD PTR [edi], eax
; Line 9083
	add	edi, 4
; Line 9084
	dec	ecx
; Line 9085
	jne	SHORT $loc_46956A$86532
$loc_469572$86531:
; Line 9087
	sub	edi, 800				; 00000320H
; Line 9088
	test	edx, edx
; Line 9089
	je	SHORT $loc_469583$86533
; Line 9090
	add	edi, edx
; Line 9091
	sub	edx, 2
; Line 9092
	jmp	SHORT $loc_469540$86529
$loc_469583$86533:
; Line 9095
	mov	edx, 2
$loc_469588$86534:
; Line 9097
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9098
	jb	SHORT $loc_46959C$86535
; Line 9099
	add	esi, 32					; 00000020H
; Line 9100
	sub	esi, edx
; Line 9101
	add	edi, 32					; 00000020H
; Line 9102
	sub	edi, edx
; Line 9103
	jmp	SHORT $loc_4695BA$86536
$loc_46959C$86535:
; Line 9106
	mov	ecx, 32					; 00000020H
; Line 9107
	sub	ecx, edx
; Line 9108
	shr	ecx, 2
; Line 9109
	jae	SHORT $loc_4695B2$86537
; Line 9110
	mov	WORD PTR [edi], ax
; Line 9111
	add	edi, 2
; Line 9112
	test	ecx, ecx
; Line 9113
	je	SHORT $loc_4695BA$86536
$loc_4695B2$86537:
; Line 9115
	mov	DWORD PTR [edi], eax
; Line 9116
	add	edi, 4
; Line 9117
	dec	ecx
; Line 9118
	jne	SHORT $loc_4695B2$86537
$loc_4695BA$86536:
; Line 9120
	sub	edi, 800				; 00000320H
; Line 9121
	add	edi, edx
; Line 9122
	add	edx, 2
; Line 9123
	cmp	edx, 32					; 00000020H
; Line 9124
	jne	SHORT $loc_469588$86534
; Line 9126
	jmp	$L86632
$L86518:
; Line 8995
	mov	edx, 30					; 0000001eH
; Line 8996
	xor	eax, eax
$loc_4694AE$86519:
; Line 8998
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8999
	jb	SHORT $loc_4694C0$86520
; Line 9000
	add	esi, 32					; 00000020H
; Line 9001
	sub	esi, edx
; Line 9002
	add	edi, 32					; 00000020H
; Line 9003
	jmp	SHORT $loc_4694E0$86521
$loc_4694C0$86520:
; Line 9006
	add	edi, edx
; Line 9007
	mov	ecx, 32					; 00000020H
; Line 9008
	sub	ecx, edx
; Line 9009
	shr	ecx, 2
; Line 9010
	jae	SHORT $loc_4694D8$86522
; Line 9011
	mov	WORD PTR [edi], ax
; Line 9012
	add	edi, 2
; Line 9013
	test	ecx, ecx
; Line 9014
	je	SHORT $loc_4694E0$86521
$loc_4694D8$86522:
; Line 9016
	mov	DWORD PTR [edi], eax
; Line 9017
	add	edi, 4
; Line 9018
	dec	ecx
; Line 9019
	jne	SHORT $loc_4694D8$86522
$loc_4694E0$86521:
; Line 9021
	sub	edi, 800				; 00000320H
; Line 9022
	test	edx, edx
; Line 9023
	je	SHORT $loc_4694EF$86523
; Line 9024
	sub	edx, 2
; Line 9025
	jmp	SHORT $loc_4694AE$86519
$loc_4694EF$86523:
; Line 9028
	mov	edx, 2
$loc_4694F4$86524:
; Line 9030
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9031
	jb	SHORT $loc_469506$86525
; Line 9032
	add	esi, 32					; 00000020H
; Line 9033
	sub	esi, edx
; Line 9034
	add	edi, 32					; 00000020H
; Line 9035
	jmp	SHORT $loc_469526$86526
$loc_469506$86525:
; Line 9038
	add	edi, edx
; Line 9039
	mov	ecx, 32					; 00000020H
; Line 9040
	sub	ecx, edx
; Line 9041
	shr	ecx, 2
; Line 9042
	jae	SHORT $loc_46951E$86527
; Line 9043
	mov	WORD PTR [edi], ax
; Line 9044
	add	edi, 2
; Line 9045
	test	ecx, ecx
; Line 9046
	je	SHORT $loc_469526$86526
$loc_46951E$86527:
; Line 9048
	mov	DWORD PTR [edi], eax
; Line 9049
	add	edi, 4
; Line 9050
	dec	ecx
; Line 9051
	jne	SHORT $loc_46951E$86527
$loc_469526$86526:
; Line 9053
	sub	edi, 800				; 00000320H
; Line 9054
	add	edx, 2
; Line 9055
	cmp	edx, 32					; 00000020H
; Line 9056
	jne	SHORT $loc_4694F4$86524
; Line 9058
	jmp	$L86632
$L86509:
; Line 8937
	mov	ecx, 32					; 00000020H
$loc_469444$86510:
; Line 8939
	push	ecx
; Line 8940
	mov	edx, 32					; 00000020H
$loc_46944A$86511:
; Line 8942
	xor	eax, eax
; Line 8943
	mov	al, BYTE PTR [esi]
; Line 8944
	inc	esi
; Line 8945
	test	al, al
; Line 8946
	js	SHORT $loc_469490$86512
; Line 8947
	sub	edx, eax
; Line 8948
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8949
	jb	SHORT $loc_469463$86513
; Line 8950
	add	esi, eax
; Line 8951
	add	edi, eax
; Line 8952
	jmp	SHORT $loc_46948A$86514
$loc_469463$86513:
; Line 8955
	mov	ecx, eax
; Line 8956
	add	esi, ecx
; Line 8957
	xor	eax, eax
; Line 8958
	shr	ecx, 1
; Line 8959
	jae	SHORT $loc_469474$86515
; Line 8960
	mov	BYTE PTR [edi], al
; Line 8961
	inc	edi
; Line 8962
	test	ecx, ecx
; Line 8963
	je	SHORT $loc_46948A$86514
$loc_469474$86515:
; Line 8965
	shr	ecx, 1
; Line 8966
	jae	SHORT $loc_469482$86516
; Line 8967
	mov	WORD PTR [edi], ax
; Line 8968
	add	edi, 2
; Line 8969
	test	ecx, ecx
; Line 8970
	je	SHORT $loc_46948A$86514
$loc_469482$86516:
; Line 8972
	mov	DWORD PTR [edi], eax
; Line 8973
	add	edi, 4
; Line 8974
	dec	ecx
; Line 8975
	jne	SHORT $loc_469482$86516
$loc_46948A$86514:
; Line 8977
	test	edx, edx
; Line 8978
	je	SHORT $loc_469498$86517
; Line 8979
	jmp	SHORT $loc_46944A$86511
$loc_469490$86512:
; Line 8982
	neg	al
; Line 8983
	add	edi, eax
; Line 8984
	sub	edx, eax
; Line 8985
	jne	SHORT $loc_46944A$86511
$loc_469498$86517:
; Line 8987
	pop	ecx
; Line 8988
	sub	edi, 800				; 00000320H
; Line 8989
	dec	ecx
; Line 8990
	jne	SHORT $loc_469444$86510
; Line 8992
	jmp	$L86632
$L86504:
; Line 8913
	mov	edx, 32					; 00000020H
; Line 8914
	xor	eax, eax
$loc_469414$86505:
; Line 8916
	cmp	edi, DWORD PTR _gpBufEnd
; Line 8917
	jb	SHORT $loc_469424$86506
; Line 8918
	add	esi, 32					; 00000020H
; Line 8919
	add	edi, 32					; 00000020H
; Line 8920
	jmp	SHORT $loc_469431$86507
$loc_469424$86506:
; Line 8923
	mov	ecx, 8
$loc_469429$86508:
; Line 8925
	mov	DWORD PTR [edi], eax
; Line 8926
	add	edi, 4
; Line 8927
	dec	ecx
; Line 8928
	jne	SHORT $loc_469429$86508
$loc_469431$86507:
; Line 8930
	sub	edi, 800				; 00000320H
; Line 8931
	dec	edx
; Line 8932
	jne	SHORT $loc_469414$86505
; Line 9241
	jmp	$L86632
$L86494:
; Line 9243
	mov	edx, DWORD PTR _level_cel_block
; Line 9245
	mov	eax, edx
	and	eax, 4095				; 00000fffH
	test	dh, dh
	js	$L86558
	mov	esi, DWORD PTR _pDungeonCels
; Line 9246
	shl	ecx, 8
	mov	eax, DWORD PTR [esi+eax*4]
	add	ecx, DWORD PTR _pLightTbl
	add	eax, esi
; Line 9247
	shr	dx, 12					; 0000000cH
	mov	DWORD PTR _src$[ebp], eax
	mov	DWORD PTR _tbl$[ebp], ecx
	mov	eax, edx
; Line 9249
	xor	edx, edx
; Line 9250
	xor	ecx, ecx
; Line 9251
	mov	ebx, DWORD PTR _tbl$[ebp]
; Line 9252
	mov	edi, DWORD PTR _dst$[ebp]
; Line 9253
	mov	esi, DWORD PTR _src$[ebp]
; Line 9256
	movsx	ecx, ax
	sub	ecx, 0
	je	$L86567
	dec	ecx
	je	$L86572
	dec	ecx
	je	$L86581
	dec	ecx
	je	$L86590
	dec	ecx
	je	$L86599
; Line 9669
	push	ebp
; Line 9670
	mov	ebp, 30					; 0000001eH
; Line 9671
	mov	eax, edi
; Line 9672
	sub	eax, DWORD PTR _gpBufEnd
; Line 9673
	jb	SHORT $loc_468F2A$86611
; Line 9674
	add	eax, 1023				; 000003ffH
; Line 9675
	shr	eax, 8
; Line 9676
	cmp	eax, 45					; 0000002dH
; Line 9677
	jg	SHORT $loc_468F1C$86612
; Line 9678
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9679
	mov	eax, ecx
; Line 9680
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 9681
	shl	eax, 6
; Line 9682
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9683
	shr	ecx, 1
; Line 9684
	sub	edi, eax
; Line 9685
	sub	ebp, ecx
; Line 9686
	jmp	SHORT $loc_468F2A$86611
$loc_468F1C$86612:
; Line 9689
	sub	edi, 12288				; 00003000H
; Line 9690
	add	esi, 288				; 00000120H
; Line 9691
	jmp	SHORT $loc_468F97$86613
$loc_468F2A$86611:
; Line 9694
	mov	ecx, 32					; 00000020H
; Line 9695
	sub	ecx, ebp
; Line 9696
	cmp	cl, 4
; Line 9697
	jl	SHORT $loc_468F68$86614
$loc_468F36$86615:
; Line 9699
	mov	eax, DWORD PTR [esi]
; Line 9700
	add	esi, 4
; Line 9701
	mov	dl, al
; Line 9702
	mov	ch, BYTE PTR [ebx+edx]
; Line 9703
	mov	dl, ah
; Line 9704
	ror	eax, 16					; 00000010H
; Line 9705
	mov	BYTE PTR [edi], ch
; Line 9706
	mov	ch, BYTE PTR [ebx+edx]
; Line 9707
	mov	dl, al
; Line 9708
	mov	BYTE PTR [edi+1], ch
; Line 9709
	mov	ch, BYTE PTR [ebx+edx]
; Line 9710
	mov	dl, ah
; Line 9711
	mov	BYTE PTR [edi+2], ch
; Line 9712
	mov	ch, BYTE PTR [ebx+edx]
; Line 9713
	mov	BYTE PTR [edi+3], ch
; Line 9714
	add	edi, 4
; Line 9715
	sub	cl, 4
; Line 9716
	cmp	cl, 4
; Line 9717
	jge	SHORT $loc_468F36$86615
$loc_468F68$86614:
; Line 9719
	cmp	cl, 2
; Line 9720
	jl	SHORT $loc_468F83$86616
; Line 9721
	mov	dl, BYTE PTR [esi]
; Line 9722
	mov	ch, BYTE PTR [ebx+edx]
; Line 9723
	mov	BYTE PTR [edi], ch
; Line 9724
	mov	dl, BYTE PTR [esi+1]
; Line 9725
	mov	ch, BYTE PTR [ebx+edx]
; Line 9726
	mov	BYTE PTR [edi+1], ch
; Line 9727
	add	esi, 2
; Line 9728
	add	edi, 2
$loc_468F83$86616:
; Line 9730
	mov	edx, esi
; Line 9731
	and	edx, 2
; Line 9732
	add	esi, edx
; Line 9733
	sub	edi, 800				; 00000320H
; Line 9734
	add	edi, ebp
; Line 9735
	sub	ebp, 2
; Line 9736
	jge	SHORT $loc_468F2A$86611
$loc_468F97$86613:
; Line 9738
	mov	ebp, 16					; 00000010H
$loc_468F9C$86617:
; Line 9740
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9741
	jb	SHORT $loc_468FAC$86618
; Line 9742
	add	esi, 32					; 00000020H
; Line 9743
	add	edi, 32					; 00000020H
; Line 9744
	jmp	SHORT $loc_468FE3$86619
$loc_468FAC$86618:
; Line 9747
	mov	ecx, 32					; 00000020H
$loc_468FB1$86620:
; Line 9749
	mov	eax, DWORD PTR [esi]
; Line 9750
	add	esi, 4
; Line 9751
	mov	dl, al
; Line 9752
	mov	ch, BYTE PTR [ebx+edx]
; Line 9753
	mov	dl, ah
; Line 9754
	ror	eax, 16					; 00000010H
; Line 9755
	mov	BYTE PTR [edi], ch
; Line 9756
	mov	ch, BYTE PTR [ebx+edx]
; Line 9757
	mov	dl, al
; Line 9758
	mov	BYTE PTR [edi+1], ch
; Line 9759
	mov	ch, BYTE PTR [ebx+edx]
; Line 9760
	mov	dl, ah
; Line 9761
	mov	BYTE PTR [edi+2], ch
; Line 9762
	mov	ch, BYTE PTR [ebx+edx]
; Line 9763
	mov	BYTE PTR [edi+3], ch
; Line 9764
	add	edi, 4
; Line 9765
	sub	cl, 4
; Line 9766
	cmp	cl, 4
; Line 9767
	jge	SHORT $loc_468FB1$86620
$loc_468FE3$86619:
; Line 9769
	sub	edi, 800				; 00000320H
; Line 9770
	dec	ebp
; Line 9771
	jne	SHORT $loc_468F9C$86617
; Line 9772
	pop	ebp
; Line 9774
	jmp	$L86632
$L86599:
; Line 9561
	push	ebp
; Line 9562
	mov	ebp, 30					; 0000001eH
; Line 9563
	mov	eax, edi
; Line 9564
	sub	eax, DWORD PTR _gpBufEnd
; Line 9565
	jb	SHORT $loc_468E1A$86600
; Line 9566
	add	eax, 1023				; 000003ffH
; Line 9567
	shr	eax, 8
; Line 9568
	cmp	eax, 45					; 0000002dH
; Line 9569
	jg	SHORT $loc_468E0C$86601
; Line 9570
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9571
	mov	eax, ecx
; Line 9572
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 9573
	shl	eax, 6
; Line 9574
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9575
	shr	ecx, 1
; Line 9576
	sub	edi, eax
; Line 9577
	sub	ebp, ecx
; Line 9578
	jmp	SHORT $loc_468E1A$86600
$loc_468E0C$86601:
; Line 9581
	sub	edi, 12288				; 00003000H
; Line 9582
	add	esi, 288				; 00000120H
; Line 9583
	jmp	SHORT $loc_468E87$86602
$loc_468E1A$86600:
; Line 9586
	add	edi, ebp
; Line 9587
	mov	ecx, 32					; 00000020H
; Line 9588
	sub	ecx, ebp
; Line 9589
	mov	edx, ecx
; Line 9590
	and	edx, 2
; Line 9591
	add	esi, edx
; Line 9592
	cmp	cl, 4
; Line 9593
	jl	SHORT $loc_468E61$86603
$loc_468E2F$86604:
; Line 9595
	mov	eax, DWORD PTR [esi]
; Line 9596
	add	esi, 4
; Line 9597
	mov	dl, al
; Line 9598
	mov	ch, BYTE PTR [ebx+edx]
; Line 9599
	mov	dl, ah
; Line 9600
	ror	eax, 16					; 00000010H
; Line 9601
	mov	BYTE PTR [edi], ch
; Line 9602
	mov	ch, BYTE PTR [ebx+edx]
; Line 9603
	mov	dl, al
; Line 9604
	mov	BYTE PTR [edi+1], ch
; Line 9605
	mov	ch, BYTE PTR [ebx+edx]
; Line 9606
	mov	dl, ah
; Line 9607
	mov	BYTE PTR [edi+2], ch
; Line 9608
	mov	ch, BYTE PTR [ebx+edx]
; Line 9609
	mov	BYTE PTR [edi+3], ch
; Line 9610
	add	edi, 4
; Line 9611
	sub	cl, 4
; Line 9612
	cmp	cl, 4
; Line 9613
	jge	SHORT $loc_468E2F$86604
$loc_468E61$86603:
; Line 9615
	cmp	cl, 2
; Line 9616
	jl	SHORT $loc_468E7C$86605
; Line 9617
	mov	dl, BYTE PTR [esi]
; Line 9618
	mov	ch, BYTE PTR [ebx+edx]
; Line 9619
	mov	BYTE PTR [edi], ch
; Line 9620
	mov	dl, BYTE PTR [esi+1]
; Line 9621
	mov	ch, BYTE PTR [ebx+edx]
; Line 9622
	mov	BYTE PTR [edi+1], ch
; Line 9623
	add	esi, 2
; Line 9624
	add	edi, 2
$loc_468E7C$86605:
; Line 9626
	sub	edi, 800				; 00000320H
; Line 9627
	sub	ebp, 2
; Line 9628
	jge	SHORT $loc_468E1A$86600
$loc_468E87$86602:
; Line 9630
	mov	ebp, 16					; 00000010H
$loc_468E8C$86606:
; Line 9632
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9633
	jb	SHORT $loc_468E9C$86607
; Line 9634
	add	esi, 32					; 00000020H
; Line 9635
	add	edi, 32					; 00000020H
; Line 9636
	jmp	SHORT $loc_468ED3$86608
$loc_468E9C$86607:
; Line 9639
	mov	ecx, 32					; 00000020H
$loc_468EA1$86609:
; Line 9641
	mov	eax, DWORD PTR [esi]
; Line 9642
	add	esi, 4
; Line 9643
	mov	dl, al
; Line 9644
	mov	ch, BYTE PTR [ebx+edx]
; Line 9645
	mov	dl, ah
; Line 9646
	ror	eax, 16					; 00000010H
; Line 9647
	mov	BYTE PTR [edi], ch
; Line 9648
	mov	ch, BYTE PTR [ebx+edx]
; Line 9649
	mov	dl, al
; Line 9650
	mov	BYTE PTR [edi+1], ch
; Line 9651
	mov	ch, BYTE PTR [ebx+edx]
; Line 9652
	mov	dl, ah
; Line 9653
	mov	BYTE PTR [edi+2], ch
; Line 9654
	mov	ch, BYTE PTR [ebx+edx]
; Line 9655
	mov	BYTE PTR [edi+3], ch
; Line 9656
	add	edi, 4
; Line 9657
	sub	cl, 4
; Line 9658
	cmp	cl, 4
; Line 9659
	jge	SHORT $loc_468EA1$86609
$loc_468ED3$86608:
; Line 9661
	sub	edi, 800				; 00000320H
; Line 9662
	dec	ebp
; Line 9663
	jne	SHORT $loc_468E8C$86606
; Line 9664
	pop	ebp
; Line 9666
	jmp	$L86632
$L86590:
; Line 9470
	push	ebp
; Line 9471
	mov	ebp, 30					; 0000001eH
; Line 9472
	mov	eax, edi
; Line 9473
	sub	eax, DWORD PTR _gpBufEnd
; Line 9474
	jb	SHORT $loc_468D34$86591
; Line 9475
	add	eax, 1023				; 000003ffH
; Line 9476
	shr	eax, 8
; Line 9477
	cmp	eax, 45					; 0000002dH
; Line 9478
	jg	SHORT $loc_468D26$86592
; Line 9479
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9480
	mov	eax, ecx
; Line 9481
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 9482
	shl	eax, 6
; Line 9483
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9484
	shr	ecx, 1
; Line 9485
	sub	edi, eax
; Line 9486
	sub	ebp, ecx
; Line 9487
	jmp	SHORT $loc_468D34$86591
$loc_468D26$86592:
; Line 9490
	sub	edi, 12288				; 00003000H
; Line 9491
	add	esi, 288				; 00000120H
; Line 9492
	jmp	SHORT $loc_468D5B$86593
$loc_468D34$86591:
; Line 9495
	mov	ecx, 32					; 00000020H
; Line 9496
	sub	ecx, ebp
$loc_468D3B$86594:
; Line 9498
	mov	dl, BYTE PTR [esi]
; Line 9499
	inc	esi
; Line 9500
	mov	dl, BYTE PTR [ebx+edx]
; Line 9501
	mov	BYTE PTR [edi], dl
; Line 9502
	inc	edi
; Line 9503
	dec	ecx
; Line 9504
	jne	SHORT $loc_468D3B$86594
; Line 9505
	mov	edx, esi
; Line 9506
	and	edx, 2
; Line 9507
	add	esi, edx
; Line 9508
	sub	edi, 800				; 00000320H
; Line 9509
	add	edi, ebp
; Line 9510
	sub	ebp, 2
; Line 9511
	jge	SHORT $loc_468D34$86591
$loc_468D5B$86593:
; Line 9513
	mov	ebp, 2
; Line 9514
	mov	eax, edi
; Line 9515
	sub	eax, DWORD PTR _gpBufEnd
; Line 9516
	jb	SHORT $loc_468DA2$86595
; Line 9517
	add	eax, 1023				; 000003ffH
; Line 9518
	shr	eax, 8
; Line 9519
	cmp	eax, 42					; 0000002aH
; Line 9520
	jg	SHORT $loc_468D94$86596
; Line 9521
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9522
	mov	eax, ecx
; Line 9523
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 9524
	shl	eax, 6
; Line 9525
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9526
	shr	ecx, 1
; Line 9527
	sub	edi, eax
; Line 9528
	add	ebp, ecx
; Line 9529
	jmp	SHORT $loc_468DA2$86595
$loc_468D94$86596:
; Line 9532
	sub	edi, 11520				; 00002d00H
; Line 9533
	add	esi, 256				; 00000100H
; Line 9534
	jmp	SHORT $loc_468DCC$86597
$loc_468DA2$86595:
; Line 9537
	mov	ecx, 32					; 00000020H
; Line 9538
	sub	ecx, ebp
$loc_468DA9$86598:
; Line 9540
	mov	dl, BYTE PTR [esi]
; Line 9541
	inc	esi
; Line 9542
	mov	dl, BYTE PTR [ebx+edx]
; Line 9543
	mov	BYTE PTR [edi], dl
; Line 9544
	inc	edi
; Line 9545
	dec	ecx
; Line 9546
	jne	SHORT $loc_468DA9$86598
; Line 9547
	mov	edx, esi
; Line 9548
	and	edx, 2
; Line 9549
	add	esi, edx
; Line 9550
	sub	edi, 800				; 00000320H
; Line 9551
	add	edi, ebp
; Line 9552
	add	ebp, 2
; Line 9553
	cmp	ebp, 32					; 00000020H
; Line 9554
	jne	SHORT $loc_468DA2$86595
$loc_468DCC$86597:
; Line 9556
	pop	ebp
; Line 9558
	jmp	$L86632
$L86581:
; Line 9379
	push	ebp
; Line 9380
	mov	ebp, 30					; 0000001eH
; Line 9381
	mov	eax, edi
; Line 9382
	sub	eax, DWORD PTR _gpBufEnd
; Line 9383
	jb	SHORT $loc_468C4E$86582
; Line 9384
	add	eax, 1023				; 000003ffH
; Line 9385
	shr	eax, 8
; Line 9386
	cmp	eax, 45					; 0000002dH
; Line 9387
	jg	SHORT $loc_468C40$86583
; Line 9388
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9389
	mov	eax, ecx
; Line 9390
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 9391
	shl	eax, 6
; Line 9392
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9393
	shr	ecx, 1
; Line 9394
	sub	edi, eax
; Line 9395
	sub	ebp, ecx
; Line 9396
	jmp	SHORT $loc_468C4E$86582
$loc_468C40$86583:
; Line 9399
	sub	edi, 12288				; 00003000H
; Line 9400
	add	esi, 288				; 00000120H
; Line 9401
	jmp	SHORT $loc_468C75$86584
$loc_468C4E$86582:
; Line 9404
	add	edi, ebp
; Line 9405
	mov	ecx, 32					; 00000020H
; Line 9406
	sub	ecx, ebp
; Line 9407
	mov	edx, ecx
; Line 9408
	and	edx, 2
; Line 9409
	add	esi, edx
$loc_468C5E$86585:
; Line 9411
	mov	dl, BYTE PTR [esi]
; Line 9412
	inc	esi
; Line 9413
	mov	dl, BYTE PTR [ebx+edx]
; Line 9414
	mov	BYTE PTR [edi], dl
; Line 9415
	inc	edi
; Line 9416
	dec	ecx
; Line 9417
	jne	SHORT $loc_468C5E$86585
; Line 9418
	sub	edi, 800				; 00000320H
; Line 9419
	sub	ebp, 2
; Line 9420
	jge	SHORT $loc_468C4E$86582
$loc_468C75$86584:
; Line 9422
	mov	ebp, 2
; Line 9423
	mov	eax, edi
; Line 9424
	sub	eax, DWORD PTR _gpBufEnd
; Line 9425
	jb	SHORT $loc_468CBC$86586
; Line 9426
	add	eax, 1023				; 000003ffH
; Line 9427
	shr	eax, 8
; Line 9428
	cmp	eax, 42					; 0000002aH
; Line 9429
	jg	SHORT $loc_468CAE$86587
; Line 9430
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9431
	mov	eax, ecx
; Line 9432
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 9433
	shl	eax, 6
; Line 9434
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9435
	shr	ecx, 1
; Line 9436
	sub	edi, eax
; Line 9437
	add	ebp, ecx
; Line 9438
	jmp	SHORT $loc_468CBC$86586
$loc_468CAE$86587:
; Line 9441
	sub	edi, 11520				; 00002d00H
; Line 9442
	add	esi, 256				; 00000100H
; Line 9443
	jmp	SHORT $loc_468CE6$86588
$loc_468CBC$86586:
; Line 9446
	add	edi, ebp
; Line 9447
	mov	ecx, 32					; 00000020H
; Line 9448
	sub	ecx, ebp
; Line 9449
	mov	edx, ecx
; Line 9450
	and	edx, 2
; Line 9451
	add	esi, edx
$loc_468CCC$86589:
; Line 9453
	mov	dl, BYTE PTR [esi]
; Line 9454
	inc	esi
; Line 9455
	mov	dl, BYTE PTR [ebx+edx]
; Line 9456
	mov	BYTE PTR [edi], dl
; Line 9457
	inc	edi
; Line 9458
	dec	ecx
; Line 9459
	jne	SHORT $loc_468CCC$86589
; Line 9460
	add	ebp, 2
; Line 9461
	sub	edi, 800				; 00000320H
; Line 9462
	cmp	ebp, 32					; 00000020H
; Line 9463
	jne	SHORT $loc_468CBC$86586
$loc_468CE6$86588:
; Line 9465
	pop	ebp
; Line 9467
	jmp	$L86632
$L86572:
; Line 9300
	push	ebp
; Line 9301
	mov	ecx, 32					; 00000020H
$loc_468B61$86573:
; Line 9303
	push	ecx
; Line 9304
	mov	ebp, 32					; 00000020H
$loc_468B67$86574:
; Line 9306
	xor	eax, eax
; Line 9307
	mov	al, BYTE PTR [esi]
; Line 9308
	inc	esi
; Line 9309
	test	al, al
; Line 9310
	jns	SHORT $loc_468B78$86575
; Line 9311
	neg	al
; Line 9312
	add	edi, eax
; Line 9313
	sub	ebp, eax
; Line 9314
	jmp	SHORT $loc_468BEA$86576
$loc_468B78$86575:
; Line 9317
	sub	ebp, eax
; Line 9318
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9319
	jb	SHORT $loc_468B88$86577
; Line 9320
	add	esi, eax
; Line 9321
	add	edi, eax
; Line 9322
	jmp	SHORT $loc_468BEA$86576
$loc_468B88$86577:
; Line 9325
	mov	ecx, eax
; Line 9326
	cmp	cl, 4
; Line 9327
	jl	SHORT $loc_468BC1$86578
$loc_468B8F$86579:
; Line 9329
	mov	eax, DWORD PTR [esi]
; Line 9330
	add	esi, 4
; Line 9331
	mov	dl, al
; Line 9332
	mov	ch, BYTE PTR [ebx+edx]
; Line 9333
	mov	dl, ah
; Line 9334
	ror	eax, 16					; 00000010H
; Line 9335
	mov	BYTE PTR [edi], ch
; Line 9336
	mov	ch, BYTE PTR [ebx+edx]
; Line 9337
	mov	dl, al
; Line 9338
	mov	BYTE PTR [edi+1], ch
; Line 9339
	mov	ch, BYTE PTR [ebx+edx]
; Line 9340
	mov	dl, ah
; Line 9341
	mov	BYTE PTR [edi+2], ch
; Line 9342
	mov	ch, BYTE PTR [ebx+edx]
; Line 9343
	mov	BYTE PTR [edi+3], ch
; Line 9344
	add	edi, 4
; Line 9345
	sub	cl, 4
; Line 9346
	cmp	cl, 4
; Line 9347
	jge	SHORT $loc_468B8F$86579
$loc_468BC1$86578:
; Line 9349
	cmp	cl, 2
; Line 9350
	jl	SHORT $loc_468BDC$86580
; Line 9351
	mov	dl, BYTE PTR [esi]
; Line 9352
	mov	ch, BYTE PTR [ebx+edx]
; Line 9353
	mov	BYTE PTR [edi], ch
; Line 9354
	mov	dl, BYTE PTR [esi+1]
; Line 9355
	mov	ch, BYTE PTR [ebx+edx]
; Line 9356
	mov	BYTE PTR [edi+1], ch
; Line 9357
	add	esi, 2
; Line 9358
	add	edi, 2
$loc_468BDC$86580:
; Line 9360
	and	cl, 1
; Line 9361
	je	SHORT $loc_468BEA$86576
; Line 9362
	mov	dl, BYTE PTR [esi]
; Line 9363
	inc	esi
; Line 9364
	mov	dl, BYTE PTR [ebx+edx]
; Line 9365
	mov	BYTE PTR [edi], dl
; Line 9366
	inc	edi
$loc_468BEA$86576:
; Line 9368
	test	ebp, ebp
; Line 9369
	jne	$loc_468B67$86574
; Line 9370
	pop	ecx
; Line 9371
	sub	edi, 800				; 00000320H
; Line 9372
	dec	ecx
; Line 9373
	jne	$loc_468B61$86573
; Line 9374
	pop	ebp
; Line 9376
	jmp	$L86632
$L86567:
; Line 9259
	mov	edx, 32					; 00000020H
; Line 9260
	push	ebp
$loc_468B09$86568:
; Line 9262
	push	edx
; Line 9263
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9264
	jb	SHORT $loc_468B1A$86569
; Line 9265
	add	esi, 32					; 00000020H
; Line 9266
	add	edi, 32					; 00000020H
; Line 9267
	jmp	SHORT $loc_468B4B$86570
$loc_468B1A$86569:
; Line 9270
	xor	edx, edx
; Line 9271
	mov	ebp, 8
$loc_468B21$86571:
; Line 9273
	mov	eax, DWORD PTR [esi]
; Line 9274
	add	esi, 4
; Line 9275
	ror	eax, 16					; 00000010H
; Line 9276
	mov	dl, al
; Line 9277
	mov	cl, BYTE PTR [ebx+edx]
; Line 9278
	mov	dl, ah
; Line 9279
	mov	ch, BYTE PTR [ebx+edx]
; Line 9280
	ror	eax, 16					; 00000010H
; Line 9281
	shl	ecx, 16					; 00000010H
; Line 9282
	mov	dl, al
; Line 9283
	mov	cl, BYTE PTR [ebx+edx]
; Line 9284
	mov	dl, ah
; Line 9285
	mov	ch, BYTE PTR [ebx+edx]
; Line 9286
	mov	DWORD PTR [edi], ecx
; Line 9287
	add	edi, 4
; Line 9288
	dec	ebp
; Line 9289
	jne	SHORT $loc_468B21$86571
$loc_468B4B$86570:
; Line 9291
	sub	edi, 800				; 00000320H
; Line 9292
	pop	edx
; Line 9293
	dec	edx
; Line 9294
	jne	SHORT $loc_468B09$86568
; Line 9295
	pop	ebp
; Line 9776
	jmp	$L86632
$L86558:
; Line 9779
	shl	eax, 4
	add	eax, ecx
	mov	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[eax*4]
	add	eax, DWORD PTR _pSpeedCels
; Line 9780
	shr	dx, 12					; 0000000cH
	mov	DWORD PTR _src$[ebp], eax
	mov	eax, edx
; Line 9782
	jmp	SHORT $L86624
$L86492:
; Line 9784
	mov	eax, DWORD PTR _level_cel_block
	mov	edx, 4095				; 00000fffH
	test	ah, ah
	jns	SHORT $L86625
; Line 9786
	mov	ecx, eax
	and	eax, 61440				; 0000f000H
	and	ecx, edx
	shl	ecx, 6
	add	eax, DWORD PTR _speed_cel_frame_num_from_light_index_frame_num[ecx]
	mov	DWORD PTR _level_cel_block, eax
$L86625:
; Line 9787
	mov	ecx, DWORD PTR _pDungeonCels
	mov	esi, eax
	and	esi, edx
; Line 9788
	shr	eax, 12					; 0000000cH
	mov	edx, DWORD PTR [ecx+esi*4]
	and	eax, 7
	add	edx, ecx
	add	eax, 8
	mov	DWORD PTR _src$[ebp], edx
$L86624:
; Line 9791
	xor	edx, edx
; Line 9792
	xor	ecx, ecx
; Line 9793
	mov	edi, DWORD PTR _dst$[ebp]
; Line 9794
	mov	esi, DWORD PTR _src$[ebp]
; Line 9797
	movsx	eax, ax
	sub	eax, 8
	je	$L86635
	dec	eax
	je	$L86640
	dec	eax
	je	$L86649
	dec	eax
	je	$L86660
	dec	eax
	je	$L86673
; Line 10161
	mov	edx, 30					; 0000001eH
; Line 10162
	mov	eax, edi
; Line 10163
	sub	eax, DWORD PTR _gpBufEnd
; Line 10164
	jb	SHORT $loc_46939F$86684
; Line 10165
	add	eax, 1023				; 000003ffH
; Line 10166
	shr	eax, 8
; Line 10167
	cmp	eax, 45					; 0000002dH
; Line 10168
	jg	SHORT $loc_469391$86685
; Line 10169
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 10170
	mov	eax, ecx
; Line 10171
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 10172
	shl	eax, 6
; Line 10173
	lea	eax, DWORD PTR [eax+eax*2]
; Line 10174
	shr	ecx, 1
; Line 10175
	sub	edi, eax
; Line 10176
	sub	edx, ecx
; Line 10177
	jmp	SHORT $loc_46939F$86684
$loc_469391$86685:
; Line 10180
	sub	edi, 12288				; 00003000H
; Line 10181
	add	esi, 288				; 00000120H
; Line 10182
	jmp	SHORT $loc_4693D8$86686
$loc_46939F$86684:
; Line 10185
	mov	ecx, 32					; 00000020H
; Line 10186
	sub	ecx, edx
; Line 10187
	mov	ebx, ecx
; Line 10188
	shr	ecx, 2
; Line 10189
	je	SHORT $loc_4693BA$86687
$loc_4693AD$86688:
; Line 10191
	mov	eax, DWORD PTR [esi]
; Line 10192
	add	esi, 4
; Line 10193
	mov	DWORD PTR [edi], eax
; Line 10194
	add	edi, 4
; Line 10195
	dec	ecx
; Line 10196
	jne	SHORT $loc_4693AD$86688
$loc_4693BA$86687:
; Line 10198
	and	ebx, 2
; Line 10199
	je	SHORT $loc_4693CB$86689
; Line 10200
	mov	ax, WORD PTR [esi]
; Line 10201
	add	esi, 4
; Line 10202
	mov	WORD PTR [edi], ax
; Line 10203
	add	edi, 2
$loc_4693CB$86689:
; Line 10205
	sub	edi, 800				; 00000320H
; Line 10206
	add	edi, edx
; Line 10207
	sub	edx, 2
; Line 10208
	jge	SHORT $loc_46939F$86684
$loc_4693D8$86686:
; Line 10210
	mov	edx, 16					; 00000010H
$loc_4693DD$86690:
; Line 10212
	cmp	edi, DWORD PTR _gpBufEnd
; Line 10213
	jb	SHORT $loc_4693ED$86691
; Line 10214
	add	esi, 32					; 00000020H
; Line 10215
	add	edi, 32					; 00000020H
; Line 10216
	jmp	SHORT $loc_4693FF$86692
$loc_4693ED$86691:
; Line 10219
	mov	ecx, 8
$loc_4693F2$86693:
; Line 10221
	mov	eax, DWORD PTR [esi]
; Line 10222
	add	esi, 4
; Line 10223
	mov	DWORD PTR [edi], eax
; Line 10224
	add	edi, 4
; Line 10225
	dec	ecx
; Line 10226
	jne	SHORT $loc_4693F2$86693
$loc_4693FF$86692:
; Line 10228
	sub	edi, 800				; 00000320H
; Line 10229
	dec	edx
; Line 10230
	jne	SHORT $loc_4693DD$86690
; Line 10232
	jmp	$L86632
$L86673:
; Line 10089
	mov	edx, 30					; 0000001eH
; Line 10090
	mov	eax, edi
; Line 10091
	sub	eax, DWORD PTR _gpBufEnd
; Line 10092
	jb	SHORT $loc_4692EC$86674
; Line 10093
	add	eax, 1023				; 000003ffH
; Line 10094
	shr	eax, 8
; Line 10095
	cmp	eax, 45					; 0000002dH
; Line 10096
	jg	SHORT $loc_4692DE$86675
; Line 10097
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 10098
	mov	eax, ecx
; Line 10099
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 10100
	shl	eax, 6
; Line 10101
	lea	eax, DWORD PTR [eax+eax*2]
; Line 10102
	shr	ecx, 1
; Line 10103
	sub	edi, eax
; Line 10104
	sub	edx, ecx
; Line 10105
	jmp	SHORT $loc_4692EC$86674
$loc_4692DE$86675:
; Line 10108
	sub	edi, 12288				; 00003000H
; Line 10109
	add	esi, 288				; 00000120H
; Line 10110
	jmp	SHORT $loc_469323$86676
$loc_4692EC$86674:
; Line 10113
	add	edi, edx
; Line 10114
	mov	ecx, 32					; 00000020H
; Line 10115
	sub	ecx, edx
; Line 10116
	shr	ecx, 2
; Line 10117
	jae	SHORT $loc_46930B$86677
; Line 10118
	mov	ax, WORD PTR [esi+2]
; Line 10119
	add	esi, 4
; Line 10120
	mov	WORD PTR [edi], ax
; Line 10121
	add	edi, 2
; Line 10122
	test	ecx, ecx
; Line 10123
	je	SHORT $loc_469318$86678
$loc_46930B$86677:
; Line 10125
	mov	eax, DWORD PTR [esi]
; Line 10126
	add	esi, 4
; Line 10127
	mov	DWORD PTR [edi], eax
; Line 10128
	add	edi, 4
; Line 10129
	dec	ecx
; Line 10130
	jne	SHORT $loc_46930B$86677
$loc_469318$86678:
; Line 10132
	sub	edi, 800				; 00000320H
; Line 10133
	sub	edx, 2
; Line 10134
	jge	SHORT $loc_4692EC$86674
$loc_469323$86676:
; Line 10136
	mov	edx, 16					; 00000010H
$loc_469328$86679:
; Line 10138
	cmp	edi, DWORD PTR _gpBufEnd
; Line 10139
	jb	SHORT $loc_469338$86680
; Line 10140
	add	esi, 32					; 00000020H
; Line 10141
	add	edi, 32					; 00000020H
; Line 10142
	jmp	SHORT $loc_46934A$86681
$loc_469338$86680:
; Line 10145
	mov	ecx, 8
$loc_46933D$86682:
; Line 10147
	mov	eax, DWORD PTR [esi]
; Line 10148
	add	esi, 4
; Line 10149
	mov	DWORD PTR [edi], eax
; Line 10150
	add	edi, 4
; Line 10151
	dec	ecx
; Line 10152
	jne	SHORT $loc_46933D$86682
$loc_46934A$86681:
; Line 10154
	sub	edi, 800				; 00000320H
; Line 10155
	dec	edx
; Line 10156
	jne	SHORT $loc_469328$86679
; Line 10158
	jmp	$L86632
$L86660:
; Line 9986
	mov	edx, 30					; 0000001eH
; Line 9987
	mov	eax, edi
; Line 9988
	sub	eax, DWORD PTR _gpBufEnd
; Line 9989
	jb	SHORT $loc_4691E4$86661
; Line 9990
	add	eax, 1023				; 000003ffH
; Line 9991
	shr	eax, 8
; Line 9992
	cmp	eax, 45					; 0000002dH
; Line 9993
	jg	SHORT $loc_4691D6$86662
; Line 9994
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9995
	mov	eax, ecx
; Line 9996
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 9997
	shl	eax, 6
; Line 9998
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9999
	shr	ecx, 1
; Line 10000
	sub	edi, eax
; Line 10001
	sub	edx, ecx
; Line 10002
	jmp	SHORT $loc_4691E4$86661
$loc_4691D6$86662:
; Line 10005
	sub	edi, 12288				; 00003000H
; Line 10006
	add	esi, 288				; 00000120H
; Line 10007
	jmp	SHORT $loc_46921D$86663
$loc_4691E4$86661:
; Line 10010
	mov	ecx, 32					; 00000020H
; Line 10011
	sub	ecx, edx
; Line 10012
	mov	ebx, ecx
; Line 10013
	shr	ecx, 2
; Line 10014
	je	SHORT $loc_4691FF$86664
$loc_4691F2$86665:
; Line 10016
	mov	eax, DWORD PTR [esi]
; Line 10017
	add	esi, 4
; Line 10018
	mov	DWORD PTR [edi], eax
; Line 10019
	add	edi, 4
; Line 10020
	dec	ecx
; Line 10021
	jne	SHORT $loc_4691F2$86665
$loc_4691FF$86664:
; Line 10023
	and	ebx, 2
; Line 10024
	je	SHORT $loc_469210$86666
; Line 10025
	mov	ax, WORD PTR [esi]
; Line 10026
	add	esi, 4
; Line 10027
	mov	WORD PTR [edi], ax
; Line 10028
	add	edi, 2
$loc_469210$86666:
; Line 10030
	add	edi, edx
; Line 10031
	sub	edi, 800				; 00000320H
; Line 10032
	sub	edx, 2
; Line 10033
	jge	SHORT $loc_4691E4$86661
$loc_46921D$86663:
; Line 10035
	mov	edx, 2
; Line 10036
	mov	eax, edi
; Line 10037
	sub	eax, DWORD PTR _gpBufEnd
; Line 10038
	jb	SHORT $loc_469264$86667
; Line 10039
	add	eax, 1023				; 000003ffH
; Line 10040
	shr	eax, 8
; Line 10041
	cmp	eax, 42					; 0000002aH
; Line 10042
	jg	SHORT $loc_469256$86668
; Line 10043
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 10044
	mov	eax, ecx
; Line 10045
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 10046
	shl	eax, 6
; Line 10047
	lea	eax, DWORD PTR [eax+eax*2]
; Line 10048
	shr	ecx, 1
; Line 10049
	sub	edi, eax
; Line 10050
	add	edx, ecx
; Line 10051
	jmp	SHORT $loc_469264$86667
$loc_469256$86668:
; Line 10054
	sub	edi, 11520				; 00002d00H
; Line 10055
	add	esi, 256				; 00000100H
; Line 10056
	jmp	SHORT $ret_4692A0_11S$86669
$loc_469264$86667:
; Line 10059
	mov	ecx, 32					; 00000020H
; Line 10060
	sub	ecx, edx
; Line 10061
	mov	ebx, ecx
; Line 10062
	shr	ecx, 2
; Line 10063
	je	SHORT $loc_46927F$86670
$loc_469272$86671:
; Line 10065
	mov	eax, DWORD PTR [esi]
; Line 10066
	add	esi, 4
; Line 10067
	mov	DWORD PTR [edi], eax
; Line 10068
	add	edi, 4
; Line 10069
	dec	ecx
; Line 10070
	jne	SHORT $loc_469272$86671
$loc_46927F$86670:
; Line 10072
	and	ebx, 2
; Line 10073
	je	SHORT $loc_469290$86672
; Line 10074
	mov	ax, WORD PTR [esi]
; Line 10075
	add	esi, 4
; Line 10076
	mov	WORD PTR [edi], ax
; Line 10077
	add	edi, 2
$loc_469290$86672:
; Line 10079
	add	edi, edx
; Line 10080
	add	edx, 2
; Line 10081
	sub	edi, 800				; 00000320H
; Line 10082
	cmp	edx, 32					; 00000020H
; Line 10083
	jl	SHORT $loc_469264$86667
$ret_4692A0_11S$86669:
; Line 10086
	jmp	$L86632
$L86649:
; Line 9887
	mov	edx, 30					; 0000001eH
; Line 9888
	mov	eax, edi
; Line 9889
	sub	eax, DWORD PTR _gpBufEnd
; Line 9890
	jb	SHORT $loc_4690E0$86650
; Line 9891
	add	eax, 1023				; 000003ffH
; Line 9892
	shr	eax, 8
; Line 9893
	cmp	eax, 45					; 0000002dH
; Line 9894
	jg	SHORT $loc_4690D2$86651
; Line 9895
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9896
	mov	eax, ecx
; Line 9897
	add	esi, DWORD PTR _WorldTbl17_1[ecx]
; Line 9898
	shl	eax, 6
; Line 9899
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9900
	shr	ecx, 1
; Line 9901
	sub	edi, eax
; Line 9902
	sub	edx, ecx
; Line 9903
	jmp	SHORT $loc_4690E0$86650
$loc_4690D2$86651:
; Line 9906
	sub	edi, 12288				; 00003000H
; Line 9907
	add	esi, 288				; 00000120H
; Line 9908
	jmp	SHORT $loc_469117$86652
$loc_4690E0$86650:
; Line 9911
	add	edi, edx
; Line 9912
	mov	ecx, 32					; 00000020H
; Line 9913
	sub	ecx, edx
; Line 9914
	shr	ecx, 2
; Line 9915
	jae	SHORT $loc_4690FF$86653
; Line 9916
	mov	ax, WORD PTR [esi+2]
; Line 9917
	add	esi, 4
; Line 9918
	mov	WORD PTR [edi], ax
; Line 9919
	add	edi, 2
; Line 9920
	test	ecx, ecx
; Line 9921
	je	SHORT $loc_46910C$86654
$loc_4690FF$86653:
; Line 9923
	mov	eax, DWORD PTR [esi]
; Line 9924
	add	esi, 4
; Line 9925
	mov	DWORD PTR [edi], eax
; Line 9926
	add	edi, 4
; Line 9927
	dec	ecx
; Line 9928
	jne	SHORT $loc_4690FF$86653
$loc_46910C$86654:
; Line 9930
	sub	edi, 800				; 00000320H
; Line 9931
	sub	edx, 2
; Line 9932
	jge	SHORT $loc_4690E0$86650
$loc_469117$86652:
; Line 9934
	mov	edx, 2
; Line 9935
	mov	eax, edi
; Line 9936
	sub	eax, DWORD PTR _gpBufEnd
; Line 9937
	jb	SHORT $loc_46915E$86655
; Line 9938
	add	eax, 1023				; 000003ffH
; Line 9939
	shr	eax, 8
; Line 9940
	cmp	eax, 42					; 0000002aH
; Line 9941
	jg	SHORT $loc_469150$86656
; Line 9942
	mov	ecx, DWORD PTR _WorldTbl3x16[eax*4]
; Line 9943
	mov	eax, ecx
; Line 9944
	add	esi, DWORD PTR _WorldTbl17_2[ecx]
; Line 9945
	shl	eax, 6
; Line 9946
	lea	eax, DWORD PTR [eax+eax*2]
; Line 9947
	shr	ecx, 1
; Line 9948
	sub	edi, eax
; Line 9949
	add	edx, ecx
; Line 9950
	jmp	SHORT $loc_46915E$86655
$loc_469150$86656:
; Line 9953
	sub	edi, 11520				; 00002d00H
; Line 9954
	add	esi, 256				; 00000100H
; Line 9955
	jmp	SHORT $ret_469198_10S$86657
$loc_46915E$86655:
; Line 9958
	mov	ecx, 32					; 00000020H
; Line 9959
	add	edi, edx
; Line 9960
	sub	ecx, edx
; Line 9961
	shr	ecx, 2
; Line 9962
	jae	SHORT $loc_46917D$86658
; Line 9963
	mov	ax, WORD PTR [esi+2]
; Line 9964
	add	esi, 4
; Line 9965
	mov	WORD PTR [edi], ax
; Line 9966
	add	edi, 2
; Line 9967
	test	ecx, ecx
; Line 9968
	je	SHORT $loc_46918A$86659
$loc_46917D$86658:
; Line 9970
	mov	eax, DWORD PTR [esi]
; Line 9971
	add	esi, 4
; Line 9972
	mov	DWORD PTR [edi], eax
; Line 9973
	add	edi, 4
; Line 9974
	dec	ecx
; Line 9975
	jne	SHORT $loc_46917D$86658
$loc_46918A$86659:
; Line 9977
	add	edx, 2
; Line 9978
	sub	edi, 800				; 00000320H
; Line 9979
	cmp	edx, 32					; 00000020H
; Line 9980
	jl	SHORT $loc_46915E$86655
$ret_469198_10S$86657:
; Line 9983
	jmp	$L86632
$L86640:
; Line 9825
	mov	ecx, 32					; 00000020H
$loc_46902C$86641:
; Line 9827
	push	ecx
; Line 9828
	mov	edx, 32					; 00000020H
$loc_469032$86642:
; Line 9830
	xor	eax, eax
; Line 9831
	mov	al, BYTE PTR [esi]
; Line 9832
	inc	esi
; Line 9833
	test	al, al
; Line 9834
	js	SHORT $loc_469082$86643
; Line 9835
	sub	edx, eax
; Line 9836
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9837
	jb	SHORT $loc_46904B$86644
; Line 9838
	add	esi, eax
; Line 9839
	add	edi, eax
; Line 9840
	jmp	SHORT $loc_46907C$86645
$loc_46904B$86644:
; Line 9843
	mov	ecx, eax
; Line 9844
	shr	ecx, 1
; Line 9845
	jae	SHORT $loc_46905B$86646
; Line 9846
	mov	al, BYTE PTR [esi]
; Line 9847
	inc	esi
; Line 9848
	mov	BYTE PTR [edi], al
; Line 9849
	inc	edi
; Line 9850
	test	ecx, ecx
; Line 9851
	je	SHORT $loc_46907C$86645
$loc_46905B$86646:
; Line 9853
	shr	ecx, 1
; Line 9854
	jae	SHORT $loc_46906F$86647
; Line 9855
	mov	ax, WORD PTR [esi]
; Line 9856
	add	esi, 2
; Line 9857
	mov	WORD PTR [edi], ax
; Line 9858
	add	edi, 2
; Line 9859
	test	ecx, ecx
; Line 9860
	je	SHORT $loc_46907C$86645
$loc_46906F$86647:
; Line 9862
	mov	eax, DWORD PTR [esi]
; Line 9863
	add	esi, 4
; Line 9864
	mov	DWORD PTR [edi], eax
; Line 9865
	add	edi, 4
; Line 9866
	dec	ecx
; Line 9867
	jne	SHORT $loc_46906F$86647
$loc_46907C$86645:
; Line 9869
	test	edx, edx
; Line 9870
	je	SHORT $loc_46908A$86648
; Line 9871
	jmp	SHORT $loc_469032$86642
$loc_469082$86643:
; Line 9874
	neg	al
; Line 9875
	add	edi, eax
; Line 9876
	sub	edx, eax
; Line 9877
	jne	SHORT $loc_469032$86642
$loc_46908A$86648:
; Line 9879
	pop	ecx
; Line 9880
	sub	edi, 800				; 00000320H
; Line 9881
	dec	ecx
; Line 9882
	jne	SHORT $loc_46902C$86641
; Line 9884
	jmp	SHORT $L86632
$L86635:
; Line 9800
	mov	edx, 32					; 00000020H
$loc_468FF7$86636:
; Line 9802
	cmp	edi, DWORD PTR _gpBufEnd
; Line 9803
	jb	SHORT $loc_469007$86637
; Line 9804
	add	esi, 32					; 00000020H
; Line 9805
	add	edi, 32					; 00000020H
; Line 9806
	jmp	SHORT $loc_469019$86638
$loc_469007$86637:
; Line 9809
	mov	ecx, 8
$loc_46900C$86639:
; Line 9811
	mov	eax, DWORD PTR [esi]
; Line 9812
	add	esi, 4
; Line 9813
	mov	DWORD PTR [edi], eax
; Line 9814
	add	edi, 4
; Line 9815
	dec	ecx
; Line 9816
	jne	SHORT $loc_46900C$86639
$loc_469019$86638:
; Line 9818
	sub	edi, 800				; 00000320H
; Line 9819
	dec	edx
; Line 9820
	jne	SHORT $loc_468FF7$86636
$L86632:
; Line 10234
	pop	edi
	pop	esi
	pop	ebx
	leave
	ret	0
@drawLowerScreen@4 ENDP
_TEXT	ENDS
PUBLIC	@world_draw_black_tile@4
; Function compile flags: /Ogsy
;	COMDAT @world_draw_black_tile@4
_TEXT	SEGMENT
@world_draw_black_tile@4 PROC NEAR			; COMDAT
; _pbDst$ = ecx
; Line 10237
	push	ebx
	push	edi
; Line 10239
	mov	edi, ecx
; Line 10240
	mov	edx, 30					; 0000001eH
; Line 10241
	mov	ebx, 1
; Line 10242
	xor	eax, eax
$loc_4696D0$86697:
; Line 10244
	add	edi, edx
; Line 10245
	mov	ecx, ebx
$loc_4696D4$86698:
; Line 10247
	mov	DWORD PTR [edi], eax
; Line 10248
	add	edi, 4
; Line 10249
	dec	ecx
; Line 10250
	jne	SHORT $loc_4696D4$86698
; Line 10251
	add	edi, edx
; Line 10252
	sub	edi, 832				; 00000340H
; Line 10253
	test	edx, edx
; Line 10254
	je	SHORT $loc_4696EE$86699
; Line 10255
	sub	edx, 2
; Line 10256
	inc	ebx
; Line 10257
	jmp	SHORT $loc_4696D0$86697
$loc_4696EE$86699:
; Line 10260
	mov	edx, 2
; Line 10261
	mov	ebx, 15					; 0000000fH
$loc_4696F8$86700:
; Line 10263
	add	edi, edx
; Line 10264
	mov	ecx, ebx
$loc_4696FC$86701:
; Line 10266
	mov	DWORD PTR [edi], eax
; Line 10267
	add	edi, 4
; Line 10268
	dec	ecx
; Line 10269
	jne	SHORT $loc_4696FC$86701
; Line 10270
	add	edi, edx
; Line 10271
	sub	edi, 832				; 00000340H
; Line 10272
	dec	ebx
; Line 10273
	add	edx, 2
; Line 10274
	cmp	edx, 32					; 00000020H
; Line 10275
	jne	SHORT $loc_4696F8$86700
; Line 10238
	pop	edi
	pop	ebx
; Line 10277
	ret	0
@world_draw_black_tile@4 ENDP
_TEXT	ENDS
END
